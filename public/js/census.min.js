!function(){function ja(a){return a&&(a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView)}function na(a,b){return b>a?-1:a>b?1:a>=b?0:0/0}function M(a){return null===a?0/0:+a}function I(a){return!isNaN(a)}function C(a){return{left:function(b,d,f,l){3>arguments.length&&(f=0);for(4>arguments.length&&(l=b.length);l>f;){var m=f+l>>>1;0>a(b[m],d)?f=m+1:l=m}return f},right:function(b,d,f,l){3>arguments.length&&(f=0);for(4>arguments.length&&(l=b.length);l>f;){var m=f+l>>>1;0<a(b[m],
d)?l=m:f=m+1}return f}}}function ca(a){return a.length}function S(a,b){for(var d in b)Object.defineProperty(a.prototype,d,{value:b[d],enumerable:!1})}function V(){this._=Object.create(null)}function da(a){return(a+="")===Yg||a[0]===ge?ge+a:a}function ha(a){return(a+="")[0]===ge?a.slice(1):a}function O(a){return da(a)in this._}function ea(a){return(a=da(a))in this._&&delete this._[a]}function B(){var a=[],b;for(b in this._)a.push(ha(b));return a}function F(){var a=0,b;for(b in this._)++a;return a}
function H(){for(var a in this._)return!1;return!0}function s(){this._=Object.create(null)}function w(a){return a}function A(a,b,d){return function(){var f=d.apply(b,arguments);return f===b?a:f}}function ia(a,b){if(b in a)return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(var d=0,f=ef.length;f>d;++d){var l=ef[d]+b;if(l in a)return l}}function K(){}function Wb(){}function Wa(a){function b(){for(var b,f=d,G=-1,z=f.length;++G<z;)(b=f[G].on)&&b.apply(this,arguments);return a}var d=[],f=new V;return b.on=
function(b,m){var G,z=f.get(b);return 2>arguments.length?z&&z.on:(z&&(z.on=null,d=d.slice(0,G=d.indexOf(z)).concat(d.slice(G+1)),f.remove(b)),m&&d.push(f.set(b,{on:m})),a)},b}function J(){u.event.preventDefault()}function Dc(){for(var a,b=u.event;a=b.sourceEvent;)b=a;return b}function yb(a){for(var b=new Wb,d=0,f=arguments.length;++d<f;)b[arguments[d]]=Wa(b);return b.of=function(d,f){return function(G){try{var z=G.sourceEvent=u.event;G.target=a;u.event=G;b[G.type].apply(d,f)}finally{u.event=z}}},
b}function Ra(a){return hd(a,fa),a}function zb(a){return"function"==typeof a?a:function(){return he(a,this)}}function Ec(a){return"function"==typeof a?a:function(){return ie(a,this)}}function Fc(a,b){function d(){this.removeAttribute(a)}function f(){this.removeAttributeNS(a.space,a.local)}function l(){this.setAttribute(a,b)}function m(){this.setAttributeNS(a.space,a.local,b)}function G(){var d=b.apply(this,arguments);null==d?this.removeAttribute(a):this.setAttribute(a,d)}function z(){var d=b.apply(this,
arguments);null==d?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,d)}return a=u.ns.qualify(a),null==b?a.local?f:d:"function"==typeof b?a.local?z:G:a.local?m:l}function Xb(a){return a.trim().replace(/\s+/g," ")}function Yb(a){return RegExp("(?:^|\\s+)"+u.requote(a)+"(?:\\s+|$)","g")}function Zb(a,b){function d(){for(var d=-1;++d<l;)a[d](this,b)}function f(){for(var d=-1,f=b.apply(this,arguments);++d<l;)a[d](this,f)}a=(a+"").trim().split(/^|\s+/).map(Gc);var l=a.length;
return"function"==typeof b?f:d}function Gc(a){var b=Yb(a);return function(d,f){if(l=d.classList)return f?l.add(a):l.remove(a);var l=d.getAttribute("class")||"";f?(b.lastIndex=0,b.test(l)||d.setAttribute("class",Xb(l+" "+a))):d.setAttribute("class",Xb(l.replace(b," ")))}}function $b(a,b,d){function f(){this.style.removeProperty(a)}function l(){this.style.setProperty(a,b,d)}function m(){var f=b.apply(this,arguments);null==f?this.style.removeProperty(a):this.style.setProperty(a,f,d)}return null==b?f:
"function"==typeof b?m:l}function ac(a,b){function d(){delete this[a]}function f(){this[a]=b}function l(){var d=b.apply(this,arguments);null==d?delete this[a]:this[a]=d}return null==b?d:"function"==typeof b?l:f}function bc(a){function b(){var b=this.ownerDocument,d=this.namespaceURI;return d?b.createElementNS(d,a):b.createElement(a)}function d(){return this.ownerDocument.createElementNS(a.space,a.local)}return"function"==typeof a?a:(a=u.ns.qualify(a)).local?d:b}function Hc(){var a=this.parentNode;
a&&a.removeChild(this)}function cc(a){return function(){return je(this,a)}}function id(a){return arguments.length||(a=na),function(b,d){return b&&d?a(b.__data__,d.__data__):!b-!d}}function Ja(a,b){for(var d=0,f=a.length;f>d;d++)for(var l,m=a[d],G=0,z=m.length;z>G;G++)(l=m[G])&&b(l,G,d);return a}function Ab(a){return hd(a,cb),a}function dc(a){var b,d;return function(f,l,m){f=a[m].update;var G=f.length;m!=d&&(d=m,b=0);for(l>=b&&(b=l+1);!(l=f[b])&&++b<G;);return l}}function ec(a,b,d){function f(){var b=
this[G];b&&(this.removeEventListener(a,b,b.$),delete this[G])}function l(){var m=U(b,kb(arguments));f.call(this);this.addEventListener(a,this[G]=m,m.$=d);m._=b}function m(){var b,d=RegExp("^__on([^.]+)"+u.requote(a)+"$"),f;for(f in this)if(b=f.match(d)){var m=this[f];this.removeEventListener(b[1],m,m.$);delete this[f]}}var G="__on"+a,z=a.indexOf("."),U=fc;0<z&&(a=a.slice(0,z));var N=ke.get(a);return N&&(a=N,U=kd),z?b?l:f:b?K:m}function fc(a,b){return function(d){var f=u.event;u.event=d;b[0]=this.__data__;
try{a.apply(this,b)}finally{u.event=f}}}function kd(a,b){var d=fc(a,b);return function(a){var b=a.relatedTarget;b&&(b===this||8&b.compareDocumentPosition(this))||d.call(this,a)}}function gc(a){var b=".dragsuppress-"+ ++Zg,d="click"+b,f=u.select(ja(a)).on("touchmove"+b,J).on("dragstart"+b,J).on("selectstart"+b,J);if(null==Bb&&(Bb="onselectstart"in a?!1:ia(a.style,"userSelect")),Bb){var l=(a&&(a.ownerDocument||a.document||a).documentElement).style,m=l[Bb];l[Bb]="none"}return function(a){if(f.on(b,null),
Bb&&(l[Bb]=m),a){var z=function(){f.on(d,null)};f.on(d,function(){J();z()},!0);setTimeout(z,0)}}}function Cb(a,b){b.changedTouches&&(b=b.changedTouches[0]);var d=a.ownerSVGElement||a;if(d.createSVGPoint){var f=d.createSVGPoint();if(0>le&&(d=ja(a),d.scrollX||d.scrollY)){var d=u.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"),l=d[0][0].getScreenCTM();le=!(l.f||l.e);d.remove()}return le?(f.x=b.pageX,f.y=b.pageY):(f.x=b.clientX,f.y=b.clientY),
f=f.matrixTransform(a.getScreenCTM().inverse()),[f.x,f.y]}f=a.getBoundingClientRect();return[b.clientX-f.left-a.clientLeft,b.clientY-f.top-a.clientTop]}function Db(){return u.event.changedTouches[0].identifier}function Eb(a,b,d){return(b[0]-a[0])*(d[1]-a[1])-(b[1]-a[1])*(d[0]-a[0])}function Sa(a){return 1<a?la:-1>a?-la:Math.asin(a)}function Ic(a){return((a=Math.exp(a))+1/a)/2}function Jc(a){return(a=Math.sin(a/2))*a}function Xa(){}function Ba(a,b,d){return this instanceof Ba?(this.h=+a,this.s=+b,
void(this.l=+d)):2>arguments.length?a instanceof Ba?new Ba(a.h,a.s,a.l):hc(""+a,ic,Ba):new Ba(a,b,d)}function jc(a,b,d){function f(a){return 360<a?a-=360:0>a&&(a+=360),60>a?l+(m-l)*a/60:180>a?m:240>a?l+(m-l)*(240-a)/60:l}var l,m;return a=isNaN(a)?0:0>(a%=360)?a+360:a,b=isNaN(b)?0:0>b?0:1<b?1:b,d=0>d?0:1<d?1:d,m=0.5>=d?d*(1+b):d+b-d*b,l=2*d-m,new ra(Math.round(255*f(a+120)),Math.round(255*f(a)),Math.round(255*f(a-120)))}function Ca(a,b,d){return this instanceof Ca?(this.h=+a,this.c=+b,void(this.l=
+d)):2>arguments.length?a instanceof Ca?new Ca(a.h,a.c,a.l):a instanceof Aa?Kc(a.l,a.a,a.b):Kc((a=kc((a=u.rgb(a)).r,a.g,a.b)).l,a.a,a.b):new Ca(a,b,d)}function Fb(a,b,d){return isNaN(a)&&(a=0),isNaN(b)&&(b=0),new Aa(d,Math.cos(a*=X)*b,Math.sin(a)*b)}function Aa(a,b,d){return this instanceof Aa?(this.l=+a,this.a=+b,void(this.b=+d)):2>arguments.length?a instanceof Aa?new Aa(a.l,a.a,a.b):a instanceof Ca?Fb(a.h,a.c,a.l):kc((a=ra(a)).r,a.g,a.b):new Aa(a,b,d)}function lc(a,b,d){a=(a+16)/116;b=a+b/500;d=
a-d/200;return b=Gb(b)*ff,a=Gb(a)*gf,d=Gb(d)*hf,new ra(Hb(3.2404542*b-1.5371385*a-0.4985314*d),Hb(-0.969266*b+1.8760108*a+0.041556*d),Hb(0.0556434*b-0.2040259*a+1.0572252*d))}function Kc(a,b,d){return 0<a?new Ca(Math.atan2(d,b)*ka,Math.sqrt(b*b+d*d),a):new Ca(0/0,0/0,a)}function Gb(a){return 0.206893034<a?a*a*a:(a-4/29)/7.787037}function Ib(a){return 0.008856<a?Math.pow(a,1/3):7.787037*a+4/29}function Hb(a){return Math.round(255*(0.00304>=a?12.92*a:1.055*Math.pow(a,1/2.4)-0.055))}function ra(a,b,
d){return this instanceof ra?(this.r=~~a,this.g=~~b,void(this.b=~~d)):2>arguments.length?a instanceof ra?new ra(a.r,a.g,a.b):hc(""+a,ra,jc):new ra(a,b,d)}function lb(a){return new ra(a>>16,a>>8&255,255&a)+""}function db(a){return 16>a?"0"+Math.max(0,a).toString(16):Math.min(255,a).toString(16)}function hc(a,b,d){a=a.toLowerCase();var f,l,m,G=0,z=0,U=0;if(f=/([a-z]+)\((.*)\)/.exec(a))switch(l=f[2].split(","),f[1]){case "hsl":return d(parseFloat(l[0]),parseFloat(l[1])/100,parseFloat(l[2])/100);case "rgb":return b(Jb(l[0]),
Jb(l[1]),Jb(l[2]))}return(m=ld.get(a))?b(m.r,m.g,m.b):(null==a||"#"!==a.charAt(0)||isNaN(m=parseInt(a.slice(1),16))||(4===a.length?(G=(3840&m)>>4,G|=G>>4,z=240&m,z|=z>>4,U=15&m,U|=U<<4):7===a.length&&(G=(16711680&m)>>16,z=(65280&m)>>8,U=255&m)),b(G,z,U))}function ic(a,b,d){var f,l,m=Math.min(a/=255,b/=255,d/=255),G=Math.max(a,b,d),z=G-m,U=(G+m)/2;return z?(l=0.5>U?z/(G+m):z/(2-G-m),f=a==G?(b-d)/z+(d>b?6:0):b==G?(d-a)/z+2:(a-b)/z+4,f*=60):(f=0/0,l=0<U&&1>U?0:f),new Ba(f,l,U)}function kc(a,b,d){a=Kb(a);
b=Kb(b);d=Kb(d);var f=Ib((0.4124564*a+0.3575761*b+0.1804375*d)/ff),l=Ib((0.2126729*a+0.7151522*b+0.072175*d)/gf);a=Ib((0.0193339*a+0.119192*b+0.9503041*d)/hf);return Aa(116*l-16,500*(f-l),200*(l-a))}function Kb(a){return 0.04045>=(a/=255)?a/12.92:Math.pow((a+0.055)/1.055,2.4)}function Jb(a){var b=parseFloat(a);return"%"===a.charAt(a.length-1)?Math.round(2.55*b):b}function ga(a){return"function"==typeof a?a:function(){return a}}function Lb(a){return function(b,d,f){return 2===arguments.length&&"function"==
typeof d&&(f=d,d=null),Mb(b,d,a,f)}}function Mb(a,b,d,f){function l(){var a,b=U.status,f;if(f=!b)f=(f=U.responseType)&&"text"!==f?U.response:U.responseText;if(f||200<=b&&300>b||304===b){try{a=d.call(m,U)}catch(l){return void G.error.call(m,l)}G.load.call(m,a)}else G.error.call(m,U)}var m={},G=u.dispatch("beforesend","progress","load","error"),z={},U=new XMLHttpRequest,N=null;return!this.XDomainRequest||"withCredentials"in U||!/^(http(s)?:)?\/\//.test(a)||(U=new XDomainRequest),"onload"in U?U.onload=
U.onerror=l:U.onreadystatechange=function(){3<U.readyState&&l()},U.onprogress=function(a){var b=u.event;u.event=a;try{G.progress.call(m,U)}finally{u.event=b}},m.header=function(a,b){return a=(a+"").toLowerCase(),2>arguments.length?z[a]:(null==b?delete z[a]:z[a]=b+"",m)},m.mimeType=function(a){return arguments.length?(b=null==a?null:a+"",m):b},m.responseType=function(a){return arguments.length?(N=a,m):N},m.response=function(a){return d=a,m},["get","post"].forEach(function(a){m[a]=function(){return m.send.apply(m,
[a].concat(kb(arguments)))}}),m.send=function(d,f,l){if(2===arguments.length&&"function"==typeof f&&(l=f,f=null),U.open(d,a,!0),null==b||"accept"in z||(z.accept=b+",*/*"),U.setRequestHeader)for(var e in z)U.setRequestHeader(e,z[e]);return null!=b&&U.overrideMimeType&&U.overrideMimeType(b),null!=N&&(U.responseType=N),null!=l&&m.on("error",l).on("load",function(a){l(null,a)}),G.beforesend.call(m,U),U.send(null==f?null:f),m},m.abort=function(){return U.abort(),m},u.rebind(m,G,"on"),null==f?m:m.get(Lc(f))}
function Lc(a){return 1===a.length?function(b,d){a(null==b?d:null)}:a}function Mc(){var a=Nc(),a=mc()-a;24<a?(isFinite(a)&&(clearTimeout(md),md=setTimeout(Mc,a)),nd=0):(nd=1,jf(Mc))}function Nc(){var a=Date.now();for(eb=od;eb;)a>=eb.t&&(eb.f=eb.c(a-eb.t)),eb=eb.n;return a}function mc(){for(var a,b=od,d=1/0;b;)b.f?b=a?a.n=b.n:od=b.n:(b.t<d&&(d=b.t),b=(a=b).n);return pd=a,d}function nc(a,b){return b-(a?Math.ceil(Math.log(a)/Math.LN10):1)}function qd(a){var b=a.decimal,d=a.thousands,f=a.grouping,l=a.currency,
m=f&&d?function(a,b){for(var m=a.length,l=[],e=0,g=f[0],k=0;0<m&&0<g&&(k+g+1>b&&(g=Math.max(1,b-k)),l.push(a.substring(m-=g,m+g)),!((k+=g+1)>b));)g=f[e=(e+1)%f.length];return l.reverse().join(d)}:w;return function(a){a=kf.exec(a);var d=a[1]||" ",f=a[2]||">",N=a[3]||"-",e=a[4]||"",g=a[5],k=+a[6],h=a[7],p=a[8],q=a[9],r=1,v="",t="",$=!1,y=!0;switch(p&&(p=+p.substring(1)),(g||"0"===d&&"="===f)&&(g=d="0",f="="),q){case "n":h=!0;q="g";break;case "%":r=100;t="%";q="f";break;case "p":r=100;t="%";q="r";break;
case "b":case "o":case "x":case "X":"#"===e&&(v="0"+q.toLowerCase());case "c":y=!1;case "d":$=!0;p=0;break;case "s":r=-1,q="r"}"$"===e&&(v=l[0],t=l[1]);"r"!=q||p||(q="g");null!=p&&("g"==q?p=Math.max(1,Math.min(21,p)):("e"==q||"f"==q)&&(p=Math.max(0,Math.min(20,p))));var q=$g.get(q)||Oc,E=g&&h;return function(a){var l=t;if($&&a%1)return"";var G=0>a||0===a&&0>1/a?(a=-a,"-"):"-"===N?"":N;0>r?(l=u.formatPrefix(a,p),a=l.scale(a),l=l.symbol+t):a*=r;a=q(a,p);var e,za,D=a.lastIndexOf(".");0>D?(D=y?a.lastIndexOf("e"):
-1,0>D?(e=a,za=""):(e=a.substring(0,D),za=a.substring(D))):(e=a.substring(0,D),za=b+a.substring(D+1));!g&&h&&(e=m(e,1/0));var D=v.length+e.length+za.length+(E?0:G.length),x=k>D?Array(D=k-D+1).join(d):"";return E&&(e=m(x+e,x.length?k-za.length:1/0)),G+=v,a=e+za,("<"===f?G+a+x:">"===f?x+G+a:"^"===f?x.substring(0,D>>=1)+G+a+x.substring(D):G+(E?a:x+a))+l}}}function Oc(a){return a+""}function Ea(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}function Ta(a,b,d){function f(b){var d=
a(b),f=m(d,1);return f-b>b-d?d:f}function l(d){return b(d=a(new va(d-1)),1),d}function m(a,d){return b(a=new va(+a),d),a}function G(a,f,m){a=l(a);var z=[];if(1<m)for(;f>a;)d(a)%m||z.push(new Date(+a)),b(a,1);else for(;f>a;)z.push(new Date(+a)),b(a,1);return z}a.floor=a;a.round=f;a.ceil=l;a.offset=m;a.range=G;var z=a.utc=mb(a);return z.floor=z,z.round=mb(f),z.ceil=mb(l),z.offset=mb(m),z.range=function(a,b,d){try{va=Ea;var f=new Ea;return f._=a,G(f,b,d)}finally{va=Date}},a}function mb(a){return function(b,
d){try{va=Ea;var f=new Ea;return f._=b,a(f,d)._}finally{va=Date}}}function Pc(a){function b(a){function b(d){for(var m,l,z,G=[],N=-1,U=0;++N<f;)37===a.charCodeAt(N)&&(G.push(a.slice(U,N)),null!=(l=of[m=a.charAt(++N)])&&(m=a.charAt(++N)),(z=y[m])&&(m=z(d,null==l?"e"===m?" ":"0":l)),G.push(m),U=N+1);return G.push(a.slice(U,N)),G.join("")}var f=a.length;return b.parse=function(b){var f={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(f,a,b,0)!=b.length)return null;"p"in f&&(f.H=f.H%12+12*f.p);b=null!=f.Z&&
va!==Ea;var m=new (b?Ea:va);return"j"in f?m.setFullYear(f.y,0,f.j):"w"in f&&("W"in f||"U"in f)?(m.setFullYear(f.y,0,1),m.setFullYear(f.y,0,"W"in f?(f.w+6)%7+7*f.W-(m.getDay()+5)%7:f.w+7*f.U-(m.getDay()+6)%7)):m.setFullYear(f.y,f.m,f.d),m.setHours(f.H+(f.Z/100|0),f.M+f.Z%100,f.S,f.L),b?m._:m},b.toString=function(){return a},b}function d(a,b,d,f){for(var m,l,z,G=0,N=b.length,U=d.length;N>G;){if(f>=U)return-1;if(m=b.charCodeAt(G++),37===m){if(z=b.charAt(G++),l=E[z in of?b.charAt(G++):z],!l||0>(f=l(a,
d,f)))return-1}else if(m!=d.charCodeAt(f++))return-1}return f}var f=a.dateTime,l=a.date,m=a.time,G=a.periods,z=a.days,U=a.shortDays,N=a.months,e=a.shortMonths;b.utc=function(a){function d(a){try{va=Ea;var b=new va;return b._=a,f(b)}finally{va=Date}}var f=b(a);return d.parse=function(a){try{va=Ea;var b=f.parse(a);return b&&b._}finally{va=Date}},d.toString=f.toString,d};b.multi=b.utc.multi=sa;var g=u.map(),k=nb(z),h=ob(z),p=nb(U),q=ob(U),r=nb(N),v=ob(N),t=nb(e),$=ob(e);G.forEach(function(a,b){g.set(a.toLowerCase(),
b)});var y={a:function(a){return U[a.getDay()]},A:function(a){return z[a.getDay()]},b:function(a){return e[a.getMonth()]},B:function(a){return N[a.getMonth()]},c:b(f),d:function(a,b){return qa(a.getDate(),b,2)},e:function(a,b){return qa(a.getDate(),b,2)},H:function(a,b){return qa(a.getHours(),b,2)},I:function(a,b){return qa(a.getHours()%12||12,b,2)},j:function(a,b){return qa(1+T.dayOfYear(a),b,3)},L:function(a,b){return qa(a.getMilliseconds(),b,3)},m:function(a,b){return qa(a.getMonth()+1,b,2)},M:function(a,
b){return qa(a.getMinutes(),b,2)},p:function(a){return G[+(12<=a.getHours())]},S:function(a,b){return qa(a.getSeconds(),b,2)},U:function(a,b){return qa(T.sundayOfYear(a),b,2)},w:function(a){return a.getDay()},W:function(a,b){return qa(T.mondayOfYear(a),b,2)},x:b(l),X:b(m),y:function(a,b){return qa(a.getFullYear()%100,b,2)},Y:function(a,b){return qa(a.getFullYear()%1E4,b,4)},Z:wa,"%":function(){return"%"}},E={a:function(a,b,d){p.lastIndex=0;return(b=p.exec(b.slice(d)))?(a.w=q.get(b[0].toLowerCase()),
d+b[0].length):-1},A:function(a,b,d){k.lastIndex=0;return(b=k.exec(b.slice(d)))?(a.w=h.get(b[0].toLowerCase()),d+b[0].length):-1},b:function(a,b,d){t.lastIndex=0;return(b=t.exec(b.slice(d)))?(a.m=$.get(b[0].toLowerCase()),d+b[0].length):-1},B:function(a,b,d){r.lastIndex=0;return(b=r.exec(b.slice(d)))?(a.m=v.get(b[0].toLowerCase()),d+b[0].length):-1},c:function(a,b,f){return d(a,y.c.toString(),b,f)},d:R,e:R,H:x,I:x,j:Nb,L:ta,m:rd,M:P,p:function(a,b,d){b=g.get(b.slice(d,d+=2).toLowerCase());return null==
b?-1:(a.p=b,d)},S:Fa,U:ua,w:sd,W:La,x:function(a,b,f){return d(a,y.x.toString(),b,f)},X:function(a,b,f){return d(a,y.X.toString(),b,f)},y:td,Y:ud,Z:Qc,"%":Z};return b}function qa(a,b,d){var f=0>a?"-":"";a=(f?-a:a)+"";var l=a.length;return f+(d>l?Array(d-l+1).join(b)+a:a)}function nb(a){return RegExp("^(?:"+a.map(u.requote).join("|")+")","i")}function ob(a){for(var b=new V,d=-1,f=a.length;++d<f;)b.set(a[d].toLowerCase(),d);return b}function sd(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+1)))?
(a.w=+b[0],d+b[0].length):-1}function ua(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d)))?(a.U=+b[0],d+b[0].length):-1}function La(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d)))?(a.W=+b[0],d+b[0].length):-1}function ud(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+4)))?(a.y=+b[0],d+b[0].length):-1}function td(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+2)))?(a.y=+b[0]+(68<+b[0]?1900:2E3),d+b[0].length):-1}function Qc(a,b,d){return/^[+-]\d{4}$/.test(b=b.slice(d,d+5))?(a.Z=-b,d+
5):-1}function rd(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+2)))?(a.m=b[0]-1,d+b[0].length):-1}function R(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+2)))?(a.d=+b[0],d+b[0].length):-1}function Nb(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+3)))?(a.j=+b[0],d+b[0].length):-1}function x(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+2)))?(a.H=+b[0],d+b[0].length):-1}function P(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+2)))?(a.M=+b[0],d+b[0].length):-1}function Fa(a,
b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+2)))?(a.S=+b[0],d+b[0].length):-1}function ta(a,b,d){ma.lastIndex=0;return(b=ma.exec(b.slice(d,d+3)))?(a.L=+b[0],d+b[0].length):-1}function wa(a){var b=a.getTimezoneOffset();a=0<b?"-":"+";var d=Y(b)/60|0,b=Y(b)%60;return a+qa(d,"0",2)+qa(b,"0",2)}function Z(a,b,d){pf.lastIndex=0;return(a=pf.exec(b.slice(d,d+1)))?d+a[0].length:-1}function sa(a){for(var b=a.length,d=-1;++d<b;)a[d][0]=this(a[d][0]);return function(b){for(var d=0,m=a[d];!m[1](b);)m=a[++d];
return m[0](b)}}function Rc(){}function Sc(a,b,d){var f=d.s=a+b,l=f-a;d.t=a-(f-l)+(b-l)}function oc(a,b){a&&qf.hasOwnProperty(a.type)&&qf[a.type](a,b)}function Ya(a,b,d){var f=-1,l=a.length-d;for(b.lineStart();++f<l;)d=a[f],b.point(d[0],d[1],d[2]);b.lineEnd()}function Tc(a,b){var d=-1,f=a.length;for(b.polygonStart();++d<f;)Ya(a[d],b,1);b.polygonEnd()}function pc(){function a(a,b){a*=X;b=b*X/2+W/4;var d=a-f,N=0<=d?1:-1,e=N*d,d=Math.cos(b),g=Math.sin(b),k=m*g,h=l*d+k*Math.cos(e),N=k*N*Math.sin(e);Ob.add(Math.atan2(N,
h));f=a;l=d;m=g}var b,d,f,l,m;Ga.point=function(G,z){Ga.point=a;f=(b=G)*X;l=Math.cos(z=(d=z)*X/2+W/4);m=Math.sin(z)};Ga.lineEnd=function(){a(b,d)}}function Ma(a){var b=a[0];a=a[1];var d=Math.cos(a);return[d*Math.cos(b),d*Math.sin(b),Math.sin(a)]}function Pb(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]}function fb(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function qc(a,b){a[0]+=b[0];a[1]+=b[1];a[2]+=b[2]}function Qb(a,b){return[a[0]*b,a[1]*b,a[2]*b]}function Rb(a){var b=
Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]);a[0]/=b;a[1]/=b;a[2]/=b}function pb(a){return[Math.atan2(a[1],a[0]),Sa(a[2])]}function qb(a,b){return Y(a[0]-b[0])<Q&&Y(a[1]-b[1])<Q}function rb(a,b){a*=X;var d=Math.cos(b*=X);Na(d*Math.cos(a),d*Math.sin(a),Math.sin(b))}function Na(a,b,d){++Uc;gb+=(a-gb)/Uc;hb+=(b-hb)/Uc;Za+=(d-Za)/Uc}function Vc(){function a(a,m){a*=X;var G=Math.cos(m*=X),z=G*Math.cos(a),G=G*Math.sin(a),U=Math.sin(m),N=Math.atan2(Math.sqrt((N=d*U-f*G)*N+(N=f*z-b*U)*N+(N=b*G-d*z)*N),b*z+d*
G+f*U);rc+=N;Oa+=N*(b+(b=z));Pa+=N*(d+(d=G));Da+=N*(f+(f=U));Na(b,d,f)}var b,d,f;Ua.point=function(l,m){l*=X;var G=Math.cos(m*=X);b=G*Math.cos(l);d=G*Math.sin(l);f=Math.sin(m);Ua.point=a;Na(b,d,f)}}function sc(){Ua.point=rb}function Wc(){function a(a,b){a*=X;var d=Math.cos(b*=X),N=d*Math.cos(a),d=d*Math.sin(a),e=Math.sin(b),g=l*e-m*d,k=m*N-f*e,h=f*d-l*N,p=Math.sqrt(g*g+k*k+h*h),q=f*N+l*d+m*e,r=p&&-(1<q?0:-1>q?W:Math.acos(q))/p,p=Math.atan2(p,q);sb+=r*g;tb+=r*k;$a+=r*h;rc+=p;Oa+=p*(f+(f=N));Pa+=p*
(l+(l=d));Da+=p*(m+(m=e));Na(f,l,m)}var b,d,f,l,m;Ua.point=function(G,z){b=G;d=z;Ua.point=a;G*=X;var U=Math.cos(z*=X);f=U*Math.cos(G);l=U*Math.sin(G);m=Math.sin(z);Na(f,l,m)};Ua.lineEnd=function(){a(b,d);Ua.lineEnd=sc;Ua.point=rb}}function tc(a,b){function d(d,l){return d=a(d,l),b(d[0],d[1])}return a.invert&&b.invert&&(d.invert=function(d,l){return d=b.invert(d,l),d&&a.invert(d[0],d[1])}),d}function ab(){return!0}function vd(a,b,d,f,l){var m=[],G=[];if(a.forEach(function(a){if(!(0>=(b=a.length-1))){var b,
d=a[0],f=a[b];if(qb(d,f)){l.lineStart();for(f=0;b>f;++f)l.point((d=a[f])[0],d[1]);return void l.lineEnd()}b=new uc(d,a,null,!0);d=new uc(d,null,b,!1);b.o=d;m.push(b);G.push(d);b=new uc(f,a,null,!1);d=new uc(f,null,b,!0);b.o=d;m.push(b);G.push(d)}}),G.sort(b),wd(m),wd(G),m.length){a=0;b=d;for(d=G.length;d>a;++a)G[a].e=b=!b;for(var z,U=m[0];;){for(var N=U,e=!0;N.v;)if((N=N.n)===U)return;b=N.z;l.lineStart();do{if(N.v=N.o.v=!0,N.e){if(e)for(a=0,d=b.length;d>a;++a)l.point((z=b[a])[0],z[1]);else f(N.x,
N.n.x,1,l);N=N.n}else{if(e)for(b=N.p.z,a=b.length-1;0<=a;--a)l.point((z=b[a])[0],z[1]);else f(N.x,N.p.x,-1,l);N=N.p}N=N.o;b=N.z;e=!e}while(!N.v);l.lineEnd()}}}function wd(a){if(b=a.length){for(var b,d,f=0,l=a[0];++f<b;)l.n=d=a[f],d.p=l,l=d;l.n=d=a[0];d.p=l}}function uc(a,b,d,f){this.x=a;this.z=b;this.o=d;this.e=f;this.v=!1;this.n=this.p=null}function xd(a,b,d,f){return function(l,m){function G(b,d){var f=l(b,d);a(b=f[0],d=f[1])&&m.point(b,d)}function z(a,b){var d=l(a,b);r.point(d[0],d[1])}function U(){t.point=
z;r.lineStart()}function N(){t.point=G;r.lineEnd()}function e(a,b){q.push([a,b]);var d=l(a,b);y.point(d[0],d[1])}function g(){y.lineStart();q=[]}function k(){e(q[0][0],q[0][1]);y.lineEnd();var a;a=y.clean();var b=$.buffer(),d=b.length;if(q.pop(),p.push(q),q=null,d)if(1&a){a=b[0];var f,d=a.length-1,b=-1;if(0<d){E||(m.polygonStart(),E=!0);for(m.lineStart();++b<d;)m.point((f=a[b])[0],f[1]);m.lineEnd()}}else 1<d&&2&a&&b.push(b.pop().concat(b.shift())),h.push(b.filter(yd))}var h,p,q,r=b(m),v=l.invert(f[0],
f[1]),t={point:G,lineStart:U,lineEnd:N,polygonStart:function(){t.point=e;t.lineStart=g;t.lineEnd=k;h=[];p=[]},polygonEnd:function(){t.point=G;t.lineStart=U;t.lineEnd=N;h=u.merge(h);var a,b=v;a=p;var f=b[0],l=b[1],z=[Math.sin(f),-Math.cos(f),0],e=0,g=0;Ob.reset();for(var k=0,za=a.length;za>k;++k){var q=a[k],jd=q.length;if(jd)for(var r=q[0],Ka=r[0],b=r[1]/2+W/4,$=Math.sin(b),lf=Math.cos(b),y=1;;){y===jd&&(y=0);var b=q[y],me=b[0],D=b[1]/2+W/4,mf=Math.sin(D),D=Math.cos(D),x=me-Ka,s=0<=x?1:-1,L=s*x,w=
L>W,$=$*mf;if(Ob.add(Math.atan2($*s*Math.sin(L),lf*D+$*Math.cos(L))),e+=w?x+s*Ha:x,w^Ka>=f^me>=f)r=fb(Ma(r),Ma(b)),Rb(r),Ka=fb(z,r),Rb(Ka),Ka=(w^0<=x?-1:1)*Sa(Ka[2]),(l>Ka||l===Ka&&(r[0]||r[1]))&&(g+=w^0<=x?1:-1);if(!y++)break;Ka=me;$=mf;lf=D;r=b}}a=(-Q>e||Q>e&&0>Ob)^1&g;h.length?(E||(m.polygonStart(),E=!0),vd(h,zd,a,d,m)):a&&(E||(m.polygonStart(),E=!0),m.lineStart(),d(null,null,1,m),m.lineEnd());E&&(m.polygonEnd(),E=!1);h=p=null},sphere:function(){m.polygonStart();m.lineStart();d(null,null,1,m);
m.lineEnd();m.polygonEnd()}},$=xa(),y=b($),E=!1;return t}}function yd(a){return 1<a.length}function xa(){var a,b=[];return{lineStart:function(){b.push(a=[])},point:function(b,f){a.push([b,f])},lineEnd:K,buffer:function(){var d=b;return b=[],a=null,d},rejoin:function(){1<b.length&&b.push(b.pop().concat(b.shift()))}}}function zd(a,b){return(0>(a=a.x)[0]?a[1]-la-Q:la-a[1])-(0>(b=b.x)[0]?b[1]-la-Q:la-b[1])}function e(a){function b(a,b){return Math.cos(a)*Math.cos(b)>l}function d(a,b,d){var f=Ma(a),m=
Ma(b),z=[1,0,0],m=fb(f,m),G=Pb(m,m),f=m[0],e=G-f*f;if(!e)return!d&&a;G=l*G/e;e=-l*f/e;f=fb(z,m);z=Qb(z,G);m=Qb(m,e);qc(z,m);m=Pb(z,f);G=Pb(f,f);e=m*m-G*(Pb(z,z)-1);if(!(0>e)){var g=Math.sqrt(e),e=Qb(f,(-m-g)/G);if(qc(e,z),e=pb(e),!d)return e;var k;d=a[0];var h=b[0];a=a[1];b=b[1];d>h&&(k=d,d=h,h=k);var p=h-d,q=Y(p-W)<Q,r=q||Q>p;if(!q&&a>b&&(k=a,a=b,b=k),r?q?0<a+b^e[1]<(Y(e[0]-d)<Q?a:b):a<=e[1]&&e[1]<=b:p>W^(d<=e[0]&&e[0]<=h))return k=Qb(f,(-m+g)/G),qc(k,z),[e,pb(k)]}}function f(b,d){var f=m?a:W-a,
l=0;return-f>b?l|=1:b>f&&(l|=2),-f>d?l|=4:d>f&&(l|=8),l}var l=Math.cos(a),m=0<l,G=Y(l)>Q,z=oe(a,6*X);return xd(b,function(a){var l,z,e,g,k;return{lineStart:function(){g=e=!1;k=1},point:function(h,p){var q,r=[h,p],u=b(h,p),v=m?u?0:f(h,p):u?f(h+(0>h?W:-W),p):0;if(!l&&(g=e=u)&&a.lineStart(),u!==e&&(q=d(l,r),(qb(l,q)||qb(r,q))&&(r[0]+=Q,r[1]+=Q,u=b(r[0],r[1]))),u!==e)k=0,u?(a.lineStart(),q=d(r,l),a.point(q[0],q[1])):(q=d(l,r),a.point(q[0],q[1]),a.lineEnd()),l=q;else if(G&&l&&m^u){var t;v&z||!(t=d(r,l,
!0))||(k=0,m?(a.lineStart(),a.point(t[0][0],t[0][1]),a.point(t[1][0],t[1][1]),a.lineEnd()):(a.point(t[1][0],t[1][1]),a.lineEnd(),a.lineStart(),a.point(t[0][0],t[0][1])))}!u||l&&qb(l,r)||a.point(r[0],r[1]);l=r;e=u;z=v},lineEnd:function(){e&&a.lineEnd();l=null},clean:function(){return k|(g&&e)<<1}}},z,m?[0,-a]:[-W,a-W])}function h(a,b,d,f){return function(l){var m,G=l.a,z=l.b,e=G.x,G=G.y,N=0,g=1,k=z.x-e,z=z.y-G;if(m=a-e,k||!(0<m)){if(m/=k,0>k){if(N>m)return;g>m&&(g=m)}else if(0<k){if(m>g)return;m>N&&
(N=m)}if(m=d-e,k||!(0>m)){if(m/=k,0>k){if(m>g)return;m>N&&(N=m)}else if(0<k){if(N>m)return;g>m&&(g=m)}if(m=b-G,z||!(0<m)){if(m/=z,0>z){if(N>m)return;g>m&&(g=m)}else if(0<z){if(m>g)return;m>N&&(N=m)}if(m=f-G,z||!(0>m)){if(m/=z,0>z){if(m>g)return;m>N&&(N=m)}else if(0<z){if(N>m)return;g>m&&(g=m)}return 0<N&&(l.a={x:e+N*k,y:G+N*z}),1>g&&(l.b={x:e+g*k,y:G+g*z}),l}}}}}}function g(a,b,d,f){function l(f,m){return Y(f[0]-a)<Q?0<m?0:3:Y(f[0]-d)<Q?0<m?2:1:Y(f[1]-b)<Q?0<m?1:0:0<m?3:2}function m(a,b){return G(a.x,
b.x)}function G(a,b){var d=l(a,1),f=l(b,1);return d!==f?d-f:0===d?b[1]-a[1]:1===d?a[0]-b[0]:2===d?a[1]-b[1]:b[0]-a[0]}return function(z){function e(m,z,g,N){var k=0,U=0;if(null==m||(k=l(m,g))!==(U=l(z,g))||0>G(m,z)^0<g){do N.point(0===k||3===k?a:d,1<k?f:b);while((k=(k+g+4)%4)!==U)}else N.point(z[0],z[1])}function g(m,l){m>=a&&(d>=m&&l>=b&&f>=l)&&z.point(m,l)}function k(m,l){m=Math.max(-Ad,Math.min(Ad,m));l=Math.max(-Ad,Math.min(Ad,l));var G=m>=a&&d>=m&&l>=b&&f>=l;if(p&&r.push([m,l]),D)t=m,v=l,y=G,
D=!1,G&&(z.lineStart(),z.point(m,l));else if(G&&$)z.point(m,l);else{var e={a:{x:E,y:ne},b:{x:m,y:l}};L(e)?($||(z.lineStart(),z.point(e.a.x,e.a.y)),z.point(e.b.x,e.b.y),G||z.lineEnd(),x=!1):G&&(z.lineStart(),z.point(m,l),x=!1)}E=m;ne=l;$=G}var q,p,r,t,v,y,E,ne,$,D,x,aa=z,s=xa(),L=h(a,b,d,f),w={point:g,lineStart:function(){w.point=k;p&&p.push(r=[]);D=!0;$=!1;E=ne=0/0},lineEnd:function(){q&&(k(t,v),y&&$&&s.rejoin(),q.push(s.buffer()));w.point=g;$&&z.lineEnd()},polygonStart:function(){z=s;q=[];p=[];x=
!0},polygonEnd:function(){z=aa;q=u.merge(q);var b;b=[a,f];for(var d=0,l=p.length,G=b[1],g=0;l>g;++g)for(var N,k=1,h=p[g],za=h.length,t=h[0];za>k;++k)N=h[k],t[1]<=G?N[1]>G&&0<Eb(t,N,b)&&++d:N[1]<=G&&0>Eb(t,N,b)&&--d,t=N;b=0!==d;d=x&&b;l=q.length;(d||l)&&(z.polygonStart(),d&&(z.lineStart(),e(null,null,1,z),z.lineEnd()),l&&vd(q,m,b,e,z),z.polygonEnd());q=p=r=null}};return w}}function k(a){var b=0,d=W/3,f=pe(a);a=f(b,d);return a.parallels=function(a){return arguments.length?f(b=a[0]*W/180,d=a[1]*W/180):
[180*(b/W),180*(d/W)]},a}function q(a,b){function d(a,b){var d=Math.sqrt(m-2*l*Math.sin(b))/l;return[d*Math.sin(a*=l),G-d*Math.cos(a)]}var f=Math.sin(a),l=(f+Math.sin(b))/2,m=1+f*(2*l-f),G=Math.sqrt(m)/l;return d.invert=function(a,b){var d=G-b;return[Math.atan2(a,d)/l,Sa((m-(a*a+d*d)*l*l)/(2*l))]},d}function p(){function a(a,b){Bd+=l*a-f*b;f=a;l=b}var b,d,f,l;ub.point=function(m,G){ub.point=a;b=f=m;d=l=G};ub.lineEnd=function(){a(b,d)}}function r(){function a(a,b){G.push("M",a,",",b,m)}function b(a,
b){G.push("M",a,",",b);z.point=d}function d(a,b){G.push("L",a,",",b)}function f(){z.point=a}function l(){G.push("Z")}var m=v(4.5),G=[],z={point:a,lineStart:function(){z.point=b},lineEnd:f,polygonStart:function(){z.lineEnd=l},polygonEnd:function(){z.lineEnd=f;z.point=a},pointRadius:function(a){return m=v(a),z},result:function(){if(G.length){var a=G.join("");return G=[],a}}};return z}function v(a){return"m0,"+a+"a"+a+","+a+" 0 1,1 0,"+-2*a+"a"+a+","+a+" 0 1,1 0,"+2*a+"z"}function y(a,b){gb+=a;hb+=b;
++Za}function t(){function a(a,l){var m=a-b,G=l-d,m=Math.sqrt(m*m+G*G);Oa+=m*(b+a)/2;Pa+=m*(d+l)/2;Da+=m;y(b=a,d=l)}var b,d;Va.point=function(f,l){Va.point=a;y(b=f,d=l)}}function E(){Va.point=y}function L(){function a(a,b){var d=a-f,e=b-l,d=Math.sqrt(d*d+e*e);Oa+=d*(f+a)/2;Pa+=d*(l+b)/2;Da+=d;d=l*a-f*b;sb+=d*(f+a);tb+=d*(l+b);$a+=3*d;y(f=a,l=b)}var b,d,f,l;Va.point=function(m,G){Va.point=a;y(b=f=m,d=l=G)};Va.lineEnd=function(){a(b,d)}}function D(a){function b(b,d){a.moveTo(b+G,d);a.arc(b,d,G,0,Ha)}
function d(b,d){a.moveTo(b,d);z.point=f}function f(b,d){a.lineTo(b,d)}function l(){z.point=b}function m(){a.closePath()}var G=4.5,z={point:b,lineStart:function(){z.point=d},lineEnd:l,polygonStart:function(){z.lineEnd=m},polygonEnd:function(){z.lineEnd=l;z.point=b},pointRadius:function(a){return G=a,z},result:K};return z}function ba(a){function b(a){return(z?f:d)(a)}function d(b){return rf(b,function(d,f){d=a(d,f);b.point(d[0],d[1])})}function f(b){function d(f,m){f=a(f,m);b.point(f[0],f[1])}function f(){y=
0/0;L.point=m;b.lineStart()}function m(d,f){var G=Ma([d,f]),e=a(d,f);l(y,E,v,D,x,s,y=e[0],E=e[1],v=d,D=G[0],x=G[1],s=G[2],z,b);b.point(y,E)}function G(){L.point=d;b.lineEnd()}function e(){f();L.point=g;L.lineEnd=k}function g(a,b){m(h=a,b);q=y;p=E;r=D;u=x;t=s;L.point=m}function k(){l(y,E,v,D,x,s,q,p,h,r,u,t,z,b);L.lineEnd=G;G()}var h,q,p,r,u,t,v,y,E,D,x,s,L={point:d,lineStart:f,lineEnd:G,polygonStart:function(){b.polygonStart();L.lineStart=e},polygonEnd:function(){b.polygonEnd();L.lineStart=f}};return L}
function l(b,d,f,z,e,g,k,h,q,p,r,u,t,v){var y=k-b,E=h-d,D=y*y+E*E;if(D>4*m&&t--){var x=z+p,L=e+r,s=g+u,w=Math.sqrt(x*x+L*L+s*s),ba=Math.asin(s/=w),A=Y(Y(s)-1)<Q||Y(f-q)<Q?(f+q)/2:Math.atan2(L,x),B=a(A,ba),ba=B[0],B=B[1],J=ba-b,K=B-d,oa=E*J-y*K;(oa*oa/D>m||0.3<Y((y*J+E*K)/D-0.5)||G>z*p+e*r+g*u)&&(l(b,d,f,z,e,g,ba,B,A,x/=w,L/=w,s,t,v),v.point(ba,B),l(ba,B,A,x,L,s,k,h,q,p,r,u,t,v))}}var m=0.5,G=Math.cos(30*X),z=16;return b.precision=function(a){return arguments.length?(z=0<(m=a*a)&&16,b):Math.sqrt(m)},
b}function oa(a){var b=ba(function(b,f){return a([b*ka,f*ka])});return function(a){return sf(b(a))}}function tf(a){this.stream=a}function rf(a,b){return{point:b,sphere:function(){a.sphere()},lineStart:function(){a.lineStart()},lineEnd:function(){a.lineEnd()},polygonStart:function(){a.polygonStart()},polygonEnd:function(){a.polygonEnd()}}}function vb(a){return pe(function(){return a})()}function pe(a){function b(a){return a=z(a[0]*X,a[1]*X),[a[0]*p+k,N-a[1]*p]}function d(a){return a=z.invert((a[0]-
k)/p,(N-a[1])/p),a&&[a[0]*ka,a[1]*ka]}function f(){z=tc(G=qe(E,D,$),m);var a=m(v,y);return k=r-a[0]*p,N=t+a[1]*p,l()}function l(){return h&&(h.valid=!1,h=null),b}var m,G,z,k,N,h,q=ba(function(a,b){return a=m(a,b),[a[0]*p+k,N-a[1]*p]}),p=150,r=480,t=250,v=0,y=0,E=0,D=0,$=0,x=uf,L=w,s=null,nf=null;return b.stream=function(a){return h&&(h.valid=!1),h=sf(x(G,q(L(a)))),h.valid=!0,h},b.clipAngle=function(a){return arguments.length?(x=null==a?(s=a,uf):e((s=+a)*X),l()):s},b.clipExtent=function(a){return arguments.length?
(nf=a,L=a?g(a[0][0],a[0][1],a[1][0],a[1][1]):w,l()):nf},b.scale=function(a){return arguments.length?(p=+a,f()):p},b.translate=function(a){return arguments.length?(r=+a[0],t=+a[1],f()):[r,t]},b.center=function(a){return arguments.length?(v=a[0]%360*X,y=a[1]%360*X,f()):[v*ka,y*ka]},b.rotate=function(a){return arguments.length?(E=a[0]%360*X,D=a[1]%360*X,$=2<a.length?a[2]%360*X:0,f()):[E*ka,D*ka,$*ka]},u.rebind(b,q,"precision"),function(){return m=a.apply(this,arguments),b.invert=m.invert&&d,f()}}function sf(a){return rf(a,
function(b,d){a.point(b*X,d*X)})}function Xc(a,b){return[a,b]}function vf(a,b){return[a>W?a-Ha:-W>a?a+Ha:a,b]}function qe(a,b,d){return a?b||d?tc(wf(a),xf(b,d)):wf(a):b||d?xf(b,d):vf}function yf(a){return function(b,d){return b+=a,[b>W?b-Ha:-W>b?b+Ha:b,d]}}function wf(a){var b=yf(a);return b.invert=yf(-a),b}function xf(a,b){function d(a,b){var d=Math.cos(b),e=Math.cos(a)*d,d=Math.sin(a)*d,g=Math.sin(b),k=g*f+e*l;return[Math.atan2(d*m-k*G,e*f-g*l),Sa(k*m+d*G)]}var f=Math.cos(a),l=Math.sin(a),m=Math.cos(b),
G=Math.sin(b);return d.invert=function(a,b){var d=Math.cos(b),e=Math.cos(a)*d,d=Math.sin(a)*d,g=Math.sin(b),k=g*m-d*G;return[Math.atan2(d*m+g*G,e*f+k*l),Sa(k*f-e*l)]},d}function oe(a,b){var d=Math.cos(a),f=Math.sin(a);return function(l,m,G,z){var e=G*b;null!=l?(l=zf(d,l),m=zf(d,m),(0<G?m>l:l>m)&&(l+=G*Ha)):(l=a+G*Ha,m=a-0.5*e);for(var g;0<G?l>m:m>l;l-=e)z.point((g=pb([d,-f*Math.cos(l),-f*Math.sin(l)]))[0],g[1])}}function zf(a,b){var d=Ma(b);d[0]-=a;Rb(d);var f=1<-d[1]?0:-1>-d[1]?W:Math.acos(-d[1]);
return((0>-d[2]?-f:f)+2*Math.PI-Q)%(2*Math.PI)}function Af(a,b,d){var f=u.range(a,b-Q,d).concat(b);return function(a){return f.map(function(b){return[a,b]})}}function Bf(a,b,d){var f=u.range(a,b-Q,d).concat(b);return function(a){return f.map(function(b){return[b,a]})}}function re(a){return a.source}function se(a){return a.target}function ah(a,b,d,f){var l=Math.cos(b),m=Math.sin(b),G=Math.cos(f),z=Math.sin(f),e=l*Math.cos(a),g=l*Math.sin(a),k=G*Math.cos(d),h=G*Math.sin(d),p=2*Math.asin(Math.sqrt(Jc(f-
b)+l*G*Jc(d-a))),q=1/Math.sin(p);d=p?function(a){var b=Math.sin(a*=p)*q,d=Math.sin(p-a)*q;a=d*e+b*k;var f=d*g+b*h,b=d*m+b*z;return[Math.atan2(f,a)*ka,Math.atan2(b,Math.sqrt(a*a+f*f))*ka]}:function(){return[a*ka,b*ka]};return d.distance=p,d}function Yc(a,b){function d(b,d){var m=Math.cos(b),G=Math.cos(d),m=a(m*G);return[m*G*Math.sin(b),m*Math.sin(d)]}return d.invert=function(a,d){var m=Math.sqrt(a*a+d*d),G=b(m),z=Math.sin(G),G=Math.cos(G);return[Math.atan2(a*z,m*G),Math.asin(m&&d*z/m)]},d}function Cf(a,
b){function d(a,b){0<m?-la+Q>b&&(b=-la+Q):b>la-Q&&(b=la-Q);var d=m/Math.pow(Math.tan(W/4+b/2),l);return[d*Math.sin(l*a),m-d*Math.cos(l*a)]}var f=Math.cos(a),l=a===b?Math.sin(a):Math.log(f/Math.cos(b))/Math.log(Math.tan(W/4+b/2)/Math.tan(W/4+a/2)),m=f*Math.pow(Math.tan(W/4+a/2),l)/l;return l?(d.invert=function(a,b){var d=m-b,f=(0<l?1:0>l?-1:0)*Math.sqrt(a*a+d*d);return[Math.atan2(a,d)/l,2*Math.atan(Math.pow(m/f,1/l))-la]},d):Cd}function Df(a,b){function d(a,b){var d=m-b;return[d*Math.sin(l*a),m-d*
Math.cos(l*a)]}var f=Math.cos(a),l=a===b?Math.sin(a):(f-Math.cos(b))/(b-a),m=f/l+a;return Y(l)<Q?Xc:(d.invert=function(a,b){var d=m-b;return[Math.atan2(a,d)/l,m-(0<l?1:0>l?-1:0)*Math.sqrt(a*a+d*d)]},d)}function Cd(a,b){return[a,Math.log(Math.tan(W/4+b/2))]}function Ef(a){var b,d=vb(a),f=d.scale,l=d.translate,m=d.clipExtent;return d.scale=function(){var a=f.apply(d,arguments);return a===d?b?d.clipExtent(null):d:a},d.translate=function(){var a=l.apply(d,arguments);return a===d?b?d.clipExtent(null):
d:a},d.clipExtent=function(a){var z=m.apply(d,arguments);if(z===d){if(b=null==a){var e=W*f(),g=l();m([[g[0]-e,g[1]-e],[g[0]+e,g[1]+e]])}}else b&&(z=null);return z},d.clipExtent(null)}function te(a,b){return[Math.log(Math.tan(W/4+b/2)),-a]}function vc(a){return a[0]}function Zc(a){return a[1]}function Ff(a){for(var b=a.length,d=[0,1],f=2,l=2;b>l;l++){for(;1<f&&0>=Eb(a[d[f-2]],a[d[f-1]],a[l]);)--f;d[f++]=l}return d.slice(0,f)}function bh(a,b){return a[0]-b[0]||a[1]-b[1]}function ue(a,b,d){return(d[0]-
b[0])*(a[1]-b[1])<(d[1]-b[1])*(a[0]-b[0])}function ve(a,b,d,f){var l=a[0],m=d[0],e=b[0]-l,z=f[0]-m;a=a[1];d=d[1];b=b[1]-a;f=f[1]-d;m=(z*(a-d)-f*(l-m))/(f*e-z*b);return[l+m*e,a+m*b]}function Gf(a){var b=a[0];a=a[a.length-1];return!(b[0]-a[0]||b[1]-a[1])}function ch(){Dd(this);this.edge=this.site=this.circle=null}function Hf(a){var b=If.pop()||new ch;return b.site=a,b}function we(a){wc(a);xc.remove(a);If.push(a);Dd(a)}function Jf(a,b){var d=a.site,f=d.x,l=d.y,m=l-b;if(!m)return f;var e=a.P;if(!e)return-1/
0;var d=e.site,e=d.x,d=d.y,z=d-b;if(!z)return e;var g=e-f,k=1/m-1/z,h=g/z;return k?(-h+Math.sqrt(h*h-2*k*(g*g/(-2*z)-d+z/2+l-m/2)))/k+f:(f+e)/2}function Kf(a){this.site=a;this.edges=[]}function Lf(a,b){return b.angle-a.angle}function dh(){Dd(this);this.x=this.y=this.arc=this.site=this.cy=null}function yc(a){var b=a.P,d=a.N;if(b&&d){var f=b.site,b=a.site,l=d.site;if(f!==l){var d=b.x,m=b.y,e=f.x-d,z=f.y-m,f=l.x-d,l=l.y-m,g=2*(e*l-z*f);if(!(g>=-xe)){var k=e*e+z*z,h=f*f+l*l,z=(l*k-z*h)/g,e=(e*h-f*k)/
g,l=e+m,m=Mf.pop()||new dh;m.arc=a;m.site=b;m.x=z+d;m.y=l+Math.sqrt(z*z+e*e);m.cy=l;a.circle=m;a=null;for(b=$c._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){a=b.P;break}b=b.L}else{if(!b.R){a=b;break}b=b.R}$c.insert(a,m);a||(ye=m)}}}}function wc(a){var b=a.circle;b&&(b.P||(ye=b.N),$c.remove(b),Mf.push(b),Dd(b),a.circle=null)}function eh(a,b){var d=a.b;if(d)return!0;var f,l,m=a.a,d=b[0][0],e=b[1][0],z=b[0][1],g=b[1][1],k=a.l,h=a.r,p=k.x,k=k.y,q=h.x,h=h.y;l=(p+q)/2;if(h===k){if(d>l||l>=e)return;if(p>
q){if(m){if(m.y>=g)return}else m={x:l,y:z};d={x:l,y:g}}else{if(m){if(m.y<z)return}else m={x:l,y:g};d={x:l,y:z}}}else if(f=(p-q)/(h-k),l=(k+h)/2-f*l,-1>f||1<f)if(p>q){if(m){if(m.y>=g)return}else m={x:(z-l)/f,y:z};d={x:(g-l)/f,y:g}}else{if(m){if(m.y<z)return}else m={x:(g-l)/f,y:g};d={x:(z-l)/f,y:z}}else if(h>k){if(m){if(m.x>=e)return}else m={x:d,y:f*d+l};d={x:e,y:f*e+l}}else{if(m){if(m.x<d)return}else m={x:e,y:f*e+l};d={x:d,y:f*d+l}}return a.a=m,a.b=d,!0}function Nf(a,b){this.l=a;this.r=b;this.a=this.b=
null}function ad(a,b,d,f){var l=new Nf(a,b);return zc.push(l),d&&Ed(l,a,b,d),f&&Ed(l,b,a,f),Sb[a.i].edges.push(new Fd(l,a,b)),Sb[b.i].edges.push(new Fd(l,b,a)),l}function fh(a,b,d){a=new Nf(a,null);return a.a=b,a.b=d,zc.push(a),a}function Ed(a,b,d,f){a.a||a.b?a.l===d?a.b=f:a.a=f:(a.a=f,a.l=b,a.r=d)}function Fd(a,b,d){var f=a.a,l=a.b;this.edge=a;this.site=b;this.angle=d?Math.atan2(d.y-b.y,d.x-b.x):a.l===b?Math.atan2(l.x-f.x,f.y-l.y):Math.atan2(f.x-l.x,l.y-f.y)}function ze(){this._=null}function Dd(a){a.U=
a.C=a.L=a.R=a.P=a.N=null}function bd(a,b){var d=b.R,f=b.U;f?f.L===b?f.L=d:f.R=d:a._=d;d.U=f;b.U=d;b.R=d.L;b.R&&(b.R.U=b);d.L=b}function cd(a,b){var d=b.L,f=b.U;f?f.L===b?f.L=d:f.R=d:a._=d;d.U=f;b.U=d;b.L=d.R;b.L&&(b.L.U=b);d.R=b}function Of(a){for(;a.L;)a=a.L;return a}function Ae(a,b){var d,f,l,m=a.sort(gh).pop();zc=[];Sb=Array(a.length);xc=new ze;for($c=new ze;;)if(l=ye,m&&(!l||m.y<l.y||m.y===l.y&&m.x<l.x)){if(m.x!==d||m.y!==f){Sb[m.i]=new Kf(m);d=m;for(var e=f=void 0,z=void 0,g=void 0,k=d.x,p=d.y,
q=xc._;q;)if(z=Jf(q,p)-k,z>Q)q=q.L;else{var r=k,u;var t=q;u=p;var v=t.N;v?u=Jf(v,u):(t=t.site,u=t.y===u?t.x:1/0);if(g=r-u,!(g>Q)){z>-Q?(f=q.P,e=q):g>-Q?(f=q,e=q.N):f=e=q;break}if(!q.R){f=q;break}q=q.R}z=Hf(d);if(xc.insert(f,z),f||e)if(f===e)wc(f),e=Hf(f.site),xc.insert(z,e),z.edge=e.edge=ad(f.site,z.site),yc(f),yc(e);else if(e){wc(f);wc(e);g=f.site;p=g.x;q=g.y;r=d.x-p;u=d.y-q;var k=e.site,t=k.x-p,v=k.y-q,y=2*(r*v-u*t),E=r*r+u*u,D=t*t+v*v,p={x:(v*E-u*D)/y+p,y:(r*D-t*E)/y+q};Ed(e.edge,g,k,p);z.edge=
ad(g,d,null,p);e.edge=ad(d,k,null,p);yc(f);yc(e)}else z.edge=ad(f.site,z.site);d=m.x;f=m.y}m=a.pop()}else{if(!l)break;k=l.arc;e=k.circle;g=e.x;p=e.cy;e={x:g,y:p};r=k.P;q=k.N;z=[k];we(k);for(k=r;k.circle&&Y(g-k.circle.x)<Q&&Y(p-k.circle.cy)<Q;)r=k.P,z.unshift(k),we(k),k=r;z.unshift(k);wc(k);for(r=q;r.circle&&Y(g-r.circle.x)<Q&&Y(p-r.circle.cy)<Q;)q=r.N,z.push(r),we(r),r=q;z.push(r);wc(r);g=void 0;p=z.length;for(g=1;p>g;++g)r=z[g],k=z[g-1],Ed(r.edge,k.site,r.site,e);k=z[0];r=z[p-1];r.edge=ad(k.site,
r.site,null,e);yc(k);yc(r)}if(b){m=zc;d=h(b[0][0],b[0][1],b[1][0],b[1][1]);for(f=m.length;f--;)l=m[f],(!eh(l,b)||!d(l)||Y(l.a.x-l.b.x)<Q&&Y(l.a.y-l.b.y)<Q)&&(l.a=l.b=null,m.splice(f,1));var $,k=b[0][0],p=b[1][0],q=b[0][1],r=b[1][1];u=Sb;for(t=u.length;t--;)if($=u[t],$&&$.prepare())for(e=$.edges,z=e.length,f=0;z>f;)g=e[f].end(),m=g.x,d=g.y,v=e[++f%z].start(),l=v.x,v=v.y,(Y(m-l)>Q||Y(d-v)>Q)&&(e.splice(f,0,new Fd(fh($.site,g,Y(m-k)<Q&&r-d>Q?{x:k,y:Y(l-k)<Q?v:r}:Y(d-r)<Q&&p-m>Q?{x:Y(v-r)<Q?l:p,y:r}:
Y(m-p)<Q&&d-q>Q?{x:p,y:Y(l-p)<Q?v:q}:Y(d-q)<Q&&m-k>Q?{x:Y(v-q)<Q?l:k,y:q}:null),$.site,null)),++z)}$={cells:Sb,edges:zc};return xc=$c=zc=Sb=null,$}function gh(a,b){return b.y-a.y||b.x-a.x}function hh(a){return a.x}function ih(a){return a.y}function Pf(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dd(a,b,d,f,l,m){if(!a(b,d,f,l,m)){var e=0.5*(d+l),z=0.5*(f+m);b=b.nodes;b[0]&&dd(a,b[0],d,f,e,z);b[1]&&dd(a,b[1],e,f,l,z);b[2]&&dd(a,b[2],d,z,e,m);b[3]&&dd(a,b[3],e,z,l,m)}}function jh(a,b,
d,f,l,m,e){var z,g=1/0;return function za(a,k,h,p,q){if(!(k>m||h>e||f>p||l>q)){if(r=a.point){var r,u=b-a.x,t=d-a.y,u=u*u+t*t;g>u&&(u=Math.sqrt(g=u),f=b-u,l=d-u,m=b+u,e=d+u,z=r)}r=a.nodes;for(var u=0.5*(k+p),t=0.5*(h+q),v=(d>=t)<<1|b>=u,y=v+4;y>v;++v)if(a=r[3&v])switch(3&v){case 0:za(a,k,h,u,t);break;case 1:za(a,u,h,p,t);break;case 2:za(a,k,t,u,q);break;case 3:za(a,u,t,p,q)}}}(a,f,l,m,e),z}function Be(a,b){a=u.rgb(a);b=u.rgb(b);var d=a.r,f=a.g,l=a.b,m=b.r-d,e=b.g-f,z=b.b-l;return function(a){return"#"+
db(Math.round(d+m*a))+db(Math.round(f+e*a))+db(Math.round(l+z*a))}}function Qf(a,b){var d,f={},l={};for(d in a)d in b?f[d]=Tb(a[d],b[d]):l[d]=a[d];for(d in b)d in a||(l[d]=b[d]);return function(a){for(d in f)l[d]=f[d](a);return l}}function ib(a,b){return a=+a,b=+b,function(d){return a*(1-d)+b*d}}function Rf(a,b){var d,f,l,m=Ce.lastIndex=De.lastIndex=0,e=-1,z=[],g=[];a+="";for(b+="";(d=Ce.exec(a))&&(f=De.exec(b));)(l=f.index)>m&&(l=b.slice(m,l),z[e]?z[e]+=l:z[++e]=l),(d=d[0])===(f=f[0])?z[e]?z[e]+=
f:z[++e]=f:(z[++e]=null,g.push({i:e,x:ib(d,f)})),m=De.lastIndex;return m<b.length&&(l=b.slice(m),z[e]?z[e]+=l:z[++e]=l),2>z.length?g[0]?(b=g[0].x,function(a){return b(a)+""}):function(){return b}:(b=g.length,function(a){for(var d,f=0;b>f;++f)z[(d=g[f]).i]=d.x(a);return z.join("")})}function Tb(a,b){for(var d,f=u.interpolators.length;0<=--f&&!(d=u.interpolators[f](a,b)););return d}function Gd(a,b){var d,f=[],l=[],m=a.length,e=b.length,z=Math.min(a.length,b.length);for(d=0;z>d;++d)f.push(Tb(a[d],b[d]));
for(;m>d;++d)l[d]=a[d];for(;e>d;++d)l[d]=b[d];return function(a){for(d=0;z>d;++d)l[d]=f[d](a);return l}}function kh(a){return function(b){return 0>=b?0:1<=b?1:a(b)}}function Sf(a){return function(b){return 1-a(1-b)}}function Tf(a){return function(b){return 0.5*(0.5>b?a(2*b):2-a(2-2*b))}}function lh(a){return a*a}function mh(a){return a*a*a}function nh(a){if(0>=a)return 0;if(1<=a)return 1;var b=a*a,d=b*a;return 4*(0.5>a?d:3*(a-b)+d-0.75)}function oh(a){return 1-Math.cos(a*la)}function ph(a){return Math.pow(2,
10*(a-1))}function qh(a){return 1-Math.sqrt(1-a*a)}function rh(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375}function Uf(a,b){return b-=a,function(d){return Math.round(a+b*d)}}function Vf(a){var b=[a.a,a.b],d=[a.c,a.d],f=Wf(b),l=b[0]*d[0]+b[1]*d[1],m=Wf((d[0]+=-l*b[0],d[1]+=-l*b[1],d))||0;b[0]*d[1]<d[0]*b[1]&&(b[0]*=-1,b[1]*=-1,f*=-1,l*=-1);this.rotate=(f?Math.atan2(b[1],b[0]):Math.atan2(-d[0],d[1]))*
ka;this.translate=[a.e,a.f];this.scale=[f,m];this.skew=m?Math.atan2(l,m)*ka:0}function Wf(a){var b=Math.sqrt(a[0]*a[0]+a[1]*a[1]);return b&&(a[0]/=b,a[1]/=b),b}function Xf(a,b){var d,f=[],l=[],m=u.transform(a),e=u.transform(b),z=m.translate,g=e.translate,k=m.rotate,h=e.rotate,p=m.skew,q=e.skew,m=m.scale,e=e.scale;return z[0]!=g[0]||z[1]!=g[1]?(f.push("translate(",null,",",null,")"),l.push({i:1,x:ib(z[0],g[0])},{i:3,x:ib(z[1],g[1])})):f.push(g[0]||g[1]?"translate("+g+")":""),k!=h?(180<k-h?h+=360:180<
h-k&&(k+=360),l.push({i:f.push(f.pop()+"rotate(",null,")")-2,x:ib(k,h)})):h&&f.push(f.pop()+"rotate("+h+")"),p!=q?l.push({i:f.push(f.pop()+"skewX(",null,")")-2,x:ib(p,q)}):q&&f.push(f.pop()+"skewX("+q+")"),m[0]!=e[0]||m[1]!=e[1]?(d=f.push(f.pop()+"scale(",null,",",null,")"),l.push({i:d-4,x:ib(m[0],e[0])},{i:d-2,x:ib(m[1],e[1])})):(1!=e[0]||1!=e[1])&&f.push(f.pop()+"scale("+e+")"),d=l.length,function(a){for(var b,m=-1;++m<d;)f[(b=l[m]).i]=b.x(a);return f.join("")}}function sh(a,b){return b=(b-=a=+a)||
1/b,function(d){return(d-a)/b}}function th(a,b){return b=(b-=a=+a)||1/b,function(d){return Math.max(0,Math.min(1,(d-a)/b))}}function uh(a){var b=a.source;a=a.target;var d;var f=a;if(b===f)d=b;else{d=Yf(b);for(var f=Yf(f),l=d.pop(),m=f.pop(),e=null;l===m;)e=l,l=d.pop(),m=f.pop();d=e}for(f=[b];b!==d;)b=b.parent,f.push(b);for(b=f.length;a!==d;)f.splice(b,0,a),a=a.parent;return f}function Yf(a){for(var b=[],d=a.parent;null!=d;)b.push(a),a=d,d=d.parent;return b.push(a),b}function vh(a){a.fixed|=2}function wh(a){a.fixed&=
-7}function xh(a){a.fixed|=4;a.px=a.x;a.py=a.y}function yh(a){a.fixed&=-5}function Zf(a,b,d){var f=0,l=0;if(a.charge=0,!a.leaf)for(var m,e=a.nodes,z=e.length,g=-1;++g<z;)m=e[g],null!=m&&(Zf(m,b,d),a.charge+=m.charge,f+=m.charge*m.cx,l+=m.charge*m.cy);a.point&&(a.leaf||(a.point.x+=Math.random()-0.5,a.point.y+=Math.random()-0.5),b*=d[a.point.index],a.charge+=a.pointCharge=b,f+=b*a.point.x,l+=b*a.point.y);a.cx=f/a.charge;a.cy=l/a.charge}function ed(a,b){return u.rebind(a,b,"sort","children","value"),
a.nodes=a,a.links=zh,a}function fd(a,b){for(var d=[a];null!=(a=d.pop());)if(b(a),(l=a.children)&&(f=l.length))for(var f,l;0<=--f;)d.push(l[f])}function bb(a,b){for(var d=[a],f=[];null!=(a=d.pop());)if(f.push(a),(m=a.children)&&(l=m.length))for(var l,m,e=-1;++e<l;)d.push(m[e]);for(;null!=(a=f.pop());)b(a)}function Ah(a){return a.children}function Bh(a){return a.value}function Ch(a,b){return b.value-a.value}function zh(a){return u.merge(a.map(function(a){return(a.children||[]).map(function(d){return{source:a,
target:d}})}))}function Dh(a){return a.x}function Eh(a){return a.y}function Fh(a,b,d){a.y0=b;a.y=d}function Ee(a){return u.range(a.length)}function Fe(a){var b=-1;a=a[0].length;for(var d=[];++b<a;)d[b]=0;return d}function Gh(a){for(var b,d=1,f=0,l=a[0][1],m=a.length;m>d;++d)(b=a[d][1])>l&&(f=d,l=b);return f}function Hh(a){return a.reduce(Ih,0)}function Ih(a,b){return a+b[1]}function Jh(a,b){return $f(a,Math.ceil(Math.log(b.length)/Math.LN2+1))}function $f(a,b){for(var d=-1,f=+a[0],l=(a[1]-f)/b,m=
[];++d<=b;)m[d]=l*d+f;return m}function Kh(a){return[u.min(a),u.max(a)]}function Lh(a,b){return a.value-b.value}function Ge(a,b){var d=a._pack_next;a._pack_next=b;b._pack_prev=a;b._pack_next=d;d._pack_prev=b}function ag(a,b){a._pack_next=b;b._pack_prev=a}function bg(a,b){var d=b.x-a.x,f=b.y-a.y,l=a.r+b.r;return 0.999*l*l>d*d+f*f}function cg(a){function b(a){h=Math.min(a.x-a.r,h);p=Math.max(a.x+a.r,p);q=Math.min(a.y-a.r,q);r=Math.max(a.y+a.r,r)}if((d=a.children)&&(k=d.length)){var d,f,l,m,e,z,g,k,
h=1/0,p=-1/0,q=1/0,r=-1/0;if(d.forEach(Mh),f=d[0],f.x=-f.r,f.y=0,b(f),1<k&&(l=d[1],l.x=l.r,l.y=0,b(l),2<k))for(m=d[2],dg(f,l,m),b(m),Ge(f,m),f._pack_prev=m,Ge(m,l),l=f._pack_next,e=3;k>e;e++){dg(f,l,m=d[e]);var u=0,t=1,v=1;for(z=l._pack_next;z!==l;z=z._pack_next,t++)if(bg(z,m)){u=1;break}if(1==u)for(g=f._pack_prev;g!==z._pack_prev&&!bg(g,m);g=g._pack_prev,v++);u?(v>t||t==v&&l.r<f.r?ag(f,l=z):ag(f=g,l),e--):(Ge(f,m),l=m,b(m))}f=(h+p)/2;l=(q+r)/2;for(e=z=0;k>e;e++)m=d[e],m.x-=f,m.y-=l,z=Math.max(z,
m.r+Math.sqrt(m.x*m.x+m.y*m.y));a.r=z;d.forEach(Nh)}}function Mh(a){a._pack_next=a._pack_prev=a}function Nh(a){delete a._pack_next;delete a._pack_prev}function eg(a,b,d,f){var l=a.children;if(a.x=b+=f*a.x,a.y=d+=f*a.y,a.r*=f,l){a=-1;for(var m=l.length;++a<m;)eg(l[a],b,d,f)}}function dg(a,b,d){var f=a.r+d.r,l=b.x-a.x,m=b.y-a.y;if(f&&(l||m)){var e=b.r+d.r,z=l*l+m*m,e=e*e,f=f*f;b=0.5+(f-e)/(2*z);e=Math.sqrt(Math.max(0,2*e*(f+z)-(f-=z)*f-e*e))/(2*z);d.x=a.x+b*l+e*m;d.y=a.y+b*m-e*l}else d.x=a.x+f,d.y=
a.y}function fg(a,b){return a.parent==b.parent?1:2}function He(a){var b=a.children;return b.length?b[0]:a.t}function Ie(a){var b,d=a.children;return(b=d.length)?d[b-1]:a.t}function Oh(a){return 1+u.max(a,function(a){return a.y})}function Ph(a){return a.reduce(function(a,d){return a+d.x},0)/a.length}function gg(a){var b=a.children;return b&&b.length?gg(b[0]):a}function hg(a){var b,d=a.children;return d&&(b=d.length)?hg(d[b-1]):a}function Je(a){return{x:a.x,y:a.y,dx:a.dx,dy:a.dy}}function ig(a,b){var d=
a.x+b[3],f=a.y+b[0],l=a.dx-b[1]-b[3],m=a.dy-b[0]-b[2];return 0>l&&(d+=l/2,l=0),0>m&&(f+=m/2,m=0),{x:d,y:f,dx:l,dy:m}}function Ac(a){var b=a[0];a=a[a.length-1];return a>b?[b,a]:[a,b]}function Hd(a){return a.rangeExtent?a.rangeExtent():Ac(a.range())}function Qh(a,b,d,f){var l=d(a[0],a[1]),m=f(b[0],b[1]);return function(a){return m(l(a))}}function Id(a,b){var d,f=0,l=a.length-1,m=a[f],e=a[l];return m>e&&(d=f,f=l,l=d,d=m,m=e,e=d),a[f]=b.floor(m),a[l]=b.ceil(e),a}function jg(a){return a?{floor:function(b){return Math.floor(b/
a)*a},ceil:function(b){return Math.ceil(b/a)*a}}:Rh}function Sh(a,b,d,f){var l=[],m=[],e=0,z=Math.min(a.length,b.length)-1;for(a[z]<a[0]&&(a=a.slice().reverse(),b=b.slice().reverse());++e<=z;)l.push(d(a[e-1],a[e])),m.push(f(b[e-1],b[e]));return function(b){var d=u.bisect(a,b,1,z)-1;return m[d](l[d](b))}}function kg(a,b,d,f){function l(){var l=2<Math.min(a.length,b.length)?Sh:Qh,g=f?th:sh;return e=l(a,b,g,d),z=l(b,a,g,Tb),m}function m(a){return e(a)}var e,z;return m.invert=function(a){return z(a)},
m.domain=function(b){return arguments.length?(a=b.map(Number),l()):a},m.range=function(a){return arguments.length?(b=a,l()):b},m.rangeRound=function(a){return m.range(a).interpolate(Uf)},m.clamp=function(a){return arguments.length?(f=a,l()):f},m.interpolate=function(a){return arguments.length?(d=a,l()):d},m.ticks=function(b){return u.range.apply(u,wb(a,b))},m.tickFormat=function(b,d){return Ke(a,b,d)},m.nice=function(b){return Id(a,jg(wb(a,b)[2])),l()},m.copy=function(){return kg(a,b,d,f)},l()}function Le(a,
b){return u.rebind(a,b,"range","rangeRound","interpolate","clamp")}function wb(a,b){null==b&&(b=10);var d=Ac(a),f=d[1]-d[0],l=Math.pow(10,Math.floor(Math.log(f/b)/Math.LN10)),f=b/f*l;return 0.15>=f?l*=10:0.35>=f?l*=5:0.75>=f&&(l*=2),d[0]=Math.ceil(d[0]/l)*l,d[1]=Math.floor(d[1]/l)*l+0.5*l,d[2]=l,d}function Ke(a,b,d){a=wb(a,b);if(d){b=kf.exec(d);if(b.shift(),"s"===b[8]){var f=u.formatPrefix(Math.max(Y(a[0]),Y(a[1])));return b[7]||(b[7]="."+Jd(f.scale(a[2]))),b[8]="f",d=u.format(b.join("")),function(a){return d(f.scale(a))+
f.symbol}}b[7]||(b[7]="."+Th(b[8],a));d=b.join("")}else d=",."+Jd(a[2])+"f";return u.format(d)}function Jd(a){return-Math.floor(Math.log(a)/Math.LN10+0.01)}function Th(a,b){var d=Jd(b[2]);return a in Uh?Math.abs(d-Jd(Math.max(Y(b[0]),Y(b[1]))))+ +("e"!==a):d-2*("%"===a)}function lg(a,b,d,f){function l(a){return(d?Math.log(0>a?0:a):-Math.log(0<a?0:-a))/Math.log(b)}function m(a){return d?Math.pow(b,a):-Math.pow(b,-a)}function e(b){return a(l(b))}return e.invert=function(b){return m(a.invert(b))},e.domain=
function(b){return arguments.length?(d=0<=b[0],a.domain((f=b.map(Number)).map(l)),e):f},e.base=function(d){return arguments.length?(b=+d,a.domain(f.map(l)),e):b},e.nice=function(){var b=Id(f.map(l),d?Math:Vh);return a.domain(b),f=b.map(m),e},e.ticks=function(){var a=Ac(f),e=[],g=a[0],a=a[1],k=Math.floor(l(g)),h=Math.ceil(l(a)),p=b%1?2:b;if(isFinite(h-k)){if(d){for(;h>k;k++)for(var q=1;p>q;q++)e.push(m(k)*q);e.push(m(k))}else for(e.push(m(k));k++<h;)for(q=p-1;0<q;q--)e.push(m(k)*q);for(k=0;e[k]<g;k++);
for(h=e.length;e[h-1]>a;h--);e=e.slice(k,h)}return e},e.tickFormat=function(a,b){if(!arguments.length)return mg;2>arguments.length?b=mg:"function"!=typeof b&&(b=u.format(b));var f,g=Math.max(0.1,a/e.ticks().length),k=d?(f=1E-12,Math.ceil):(f=-1E-12,Math.floor);return function(a){return a/m(k(l(a)+f))<=g?b(a):""}},e.copy=function(){return lg(a.copy(),b,d,f)},Le(e,a)}function ng(a,b,d){function f(b){return a(l(b))}var l=Kd(b),m=Kd(1/b);return f.invert=function(b){return m(a.invert(b))},f.domain=function(b){return arguments.length?
(a.domain((d=b.map(Number)).map(l)),f):d},f.ticks=function(a){return u.range.apply(u,wb(d,a))},f.tickFormat=function(a,b){return Ke(d,a,b)},f.nice=function(a){return f.domain(Id(d,jg(wb(d,a)[2])))},f.exponent=function(e){return arguments.length?(l=Kd(b=e),m=Kd(1/b),a.domain(d.map(l)),f):b},f.copy=function(){return ng(a.copy(),b,d)},Le(f,a)}function Kd(a){return function(b){return 0>b?-Math.pow(-b,a):Math.pow(b,a)}}function og(a,b){function d(d){return m[((l.get(d)||("range"===b.t?l.set(d,a.push(d)):
0/0))-1)%m.length]}function f(b,d){return u.range(a.length).map(function(a){return b+d*a})}var l,m,e;return d.domain=function(f){if(!arguments.length)return a;a=[];l=new V;for(var m,e=-1,g=f.length;++e<g;)l.has(m=f[e])||l.set(m,a.push(m));return d[b.t].apply(d,b.a)},d.range=function(a){return arguments.length?(m=a,e=0,b={t:"range",a:arguments},d):m},d.rangePoints=function(l,g){2>arguments.length&&(g=0);var k=l[0],h=l[1],h=2>a.length?(k=(k+h)/2,0):(h-k)/(a.length-1+g);return m=f(k+h*g/2,h),e=0,b={t:"rangePoints",
a:arguments},d},d.rangeRoundPoints=function(l,g){2>arguments.length&&(g=0);var k=l[0],h=l[1],q=2>a.length?(k=h=Math.round((k+h)/2),0):(h-k)/(a.length-1+g)|0;return m=f(k+Math.round(q*g/2+(h-k-(a.length-1+g)*q)/2),q),e=0,b={t:"rangeRoundPoints",a:arguments},d},d.rangeBands=function(l,g,k){2>arguments.length&&(g=0);3>arguments.length&&(k=g);var h=l[1]<l[0],q=l[h-0],p=(l[1-h]-q)/(a.length-g+2*k);return m=f(q+p*k,p),h&&m.reverse(),e=p*(1-g),b={t:"rangeBands",a:arguments},d},d.rangeRoundBands=function(l,
g,k){2>arguments.length&&(g=0);3>arguments.length&&(k=g);var h=l[1]<l[0],q=l[h-0],p=l[1-h],r=Math.floor((p-q)/(a.length-g+2*k));return m=f(q+Math.round((p-q-(a.length-g)*r)/2),r),h&&m.reverse(),e=Math.round(r*(1-g)),b={t:"rangeRoundBands",a:arguments},d},d.rangeBand=function(){return e},d.rangeExtent=function(){return Ac(b.a[0])},d.copy=function(){return og(a,b)},d.domain(a)}function pg(a,b){function d(){var d=0,e=b.length;for(l=[];++d<e;)l[d-1]=u.quantile(a,d/e);return f}function f(a){return isNaN(a=
+a)?void 0:b[u.bisect(l,a)]}var l;return f.domain=function(b){return arguments.length?(a=b.map(M).filter(I).sort(na),d()):a},f.range=function(a){return arguments.length?(b=a,d()):b},f.quantiles=function(){return l},f.invertExtent=function(d){return d=b.indexOf(d),0>d?[0/0,0/0]:[0<d?l[d-1]:a[0],d<l.length?l[d]:a[a.length-1]]},f.copy=function(){return pg(a,b)},d()}function qg(a,b,d){function f(b){return d[Math.max(0,Math.min(e,Math.floor(m*(b-a))))]}function l(){return m=d.length/(b-a),e=d.length-1,
f}var m,e;return f.domain=function(d){return arguments.length?(a=+d[0],b=+d[d.length-1],l()):[a,b]},f.range=function(a){return arguments.length?(d=a,l()):d},f.invertExtent=function(b){return b=d.indexOf(b),b=0>b?0/0:b/m+a,[b,b+1/m]},f.copy=function(){return qg(a,b,d)},l()}function rg(a,b){function d(d){return d>=d?b[u.bisect(a,d)]:void 0}return d.domain=function(b){return arguments.length?(a=b,d):a},d.range=function(a){return arguments.length?(b=a,d):b},d.invertExtent=function(d){return d=b.indexOf(d),
[a[d-1],a[d]]},d.copy=function(){return rg(a,b)},d}function sg(a){function b(a){return+a}return b.invert=b,b.domain=b.range=function(d){return arguments.length?(a=d.map(b),b):a},b.ticks=function(b){return u.range.apply(u,wb(a,b))},b.tickFormat=function(b,f){return Ke(a,b,f)},b.copy=function(){return sg(a)},b}function Wh(){return 0}function Xh(a){return a.innerRadius}function Yh(a){return a.outerRadius}function tg(a){return a.startAngle}function ug(a){return a.endAngle}function Zh(a){return a&&a.padAngle}
function Ld(a,b,d,f,l){var m=a[0]-b[0],e=a[1]-b[1];l=(l?f:-f)/Math.sqrt(m*m+e*e);var e=l*e,m=-l*m,g=a[0]+e,k=a[1]+m,h=b[0]+e,q=b[1]+m;a=(g+h)/2;b=(k+q)/2;l=h-g;var p=q-k,r=l*l+p*p;f=d-f;var q=g*q-h*k,u=(0>p?-1:1)*Math.sqrt(f*f*r-q*q),g=(q*p-l*u)/r,k=(-q*l-p*u)/r,h=(q*p+l*u)/r;l=(-q*l+p*u)/r;p=g-a;r=k-b;a=h-a;b=l-b;return p*p+r*r>a*a+b*b&&(g=h,k=l),[[g-e,k-m],[g*d/f,k*d/f]]}function vg(a){function b(b){function e(){h.push("M",m(a(q),g))}for(var k,h=[],q=[],p=-1,G=b.length,r=ga(d),u=ga(f);++p<G;)l.call(this,
k=b[p],p)?q.push([+r.call(this,k,p),+u.call(this,k,p)]):q.length&&(e(),q=[]);return q.length&&e(),h.length?h.join(""):null}var d=vc,f=Zc,l=ab,m=Ia,e=m.key,g=0.7;return b.x=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(f=a,b):f},b.defined=function(a){return arguments.length?(l=a,b):l},b.interpolate=function(a){return arguments.length?(e="function"==typeof a?m=a:(m=Me.get(a)||Ia).key,b):e},b.tension=function(a){return arguments.length?(g=a,b):g},b}function Ia(a){return a.join("L")}
function Ne(a){for(var b=0,d=a.length,f=a[0],l=[f[0],",",f[1]];++b<d;)l.push("V",(f=a[b])[1],"H",f[0]);return l.join("")}function Oe(a){for(var b=0,d=a.length,f=a[0],l=[f[0],",",f[1]];++b<d;)l.push("H",(f=a[b])[0],"V",f[1]);return l.join("")}function Md(a,b){if(1>b.length||a.length!=b.length&&a.length!=b.length+2)return Ia(a);var d=a.length!=b.length,f="",l=a[0],m=a[1],e=b[0],g=e,k=1;if(d&&(f+="Q"+(m[0]-2*e[0]/3)+","+(m[1]-2*e[1]/3)+","+m[0]+","+m[1],l=a[1],k=2),1<b.length)for(g=b[1],m=a[k],k++,f+=
"C"+(l[0]+e[0])+","+(l[1]+e[1])+","+(m[0]-g[0])+","+(m[1]-g[1])+","+m[0]+","+m[1],l=2;l<b.length;l++,k++)m=a[k],g=b[l],f+="S"+(m[0]-g[0])+","+(m[1]-g[1])+","+m[0]+","+m[1];d&&(d=a[k],f+="Q"+(m[0]+2*g[0]/3)+","+(m[1]+2*g[1]/3)+","+d[0]+","+d[1]);return f}function Pe(a,b){for(var d,f=[],l=(1-b)/2,m=a[0],e=a[1],g=1,k=a.length;++g<k;)d=m,m=e,e=a[g],f.push([l*(e[0]-d[0]),l*(e[1]-d[1])]);return f}function wg(a){if(3>a.length)return Ia(a);var b=1,d=a.length,f=a[0],l=f[0],m=f[1],e=[l,l,l,(f=a[1])[0]],g=[m,
m,m,f[1]],l=[l,",",m,"L",Qa(xb,e),",",Qa(xb,g)];for(a.push(a[d-1]);++b<=d;)f=a[b],e.shift(),e.push(f[0]),g.shift(),g.push(f[1]),Qe(l,e,g);return a.pop(),l.push("L",f),l.join("")}function Qa(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]}function Qe(a,b,d){a.push("C",Qa(xg,b),",",Qa(xg,d),",",Qa(yg,b),",",Qa(yg,d),",",Qa(xb,b),",",Qa(xb,d))}function Re(a,b){return(b[1]-a[1])/(b[0]-a[0])}function zg(a){for(var b,d,f,l=-1,m=a.length;++l<m;)b=a[l],d=b[0],f=b[1]-la,b[0]=d*Math.cos(f),b[1]=d*Math.sin(f);
return a}function Ag(a){function b(b){function k(){t.push("M",g(a(y),p),q,h(a(v.reverse()),p),"Z")}for(var r,u,U,t=[],v=[],y=[],E=-1,D=b.length,x=ga(d),s=ga(l),L=d===f?function(){return u}:ga(f),w=l===m?function(){return U}:ga(m);++E<D;)e.call(this,r=b[E],E)?(v.push([u=+x.call(this,r,E),U=+s.call(this,r,E)]),y.push([+L.call(this,r,E),+w.call(this,r,E)])):v.length&&(k(),v=[],y=[]);return v.length&&k(),t.length?t.join(""):null}var d=vc,f=vc,l=0,m=Zc,e=ab,g=Ia,k=g.key,h=g,q="L",p=0.7;return b.x=function(a){return arguments.length?
(d=f=a,b):f},b.x0=function(a){return arguments.length?(d=a,b):d},b.x1=function(a){return arguments.length?(f=a,b):f},b.y=function(a){return arguments.length?(l=m=a,b):m},b.y0=function(a){return arguments.length?(l=a,b):l},b.y1=function(a){return arguments.length?(m=a,b):m},b.defined=function(a){return arguments.length?(e=a,b):e},b.interpolate=function(a){return arguments.length?(k="function"==typeof a?g=a:(g=Me.get(a)||Ia).key,h=g.reverse||g,q=g.closed?"M":"L",b):k},b.tension=function(a){return arguments.length?
(p=a,b):p},b}function $h(a){return a.radius}function Bg(a){return[a.x,a.y]}function ai(a){return function(){var b=a.apply(this,arguments),d=b[0],b=b[1]-la;return[d*Math.cos(b),d*Math.sin(b)]}}function bi(){return 64}function ci(){return"circle"}function Cg(a){a=Math.sqrt(a/W);return"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z"}function Dg(a){return function(){var b,d;(b=this[a])&&(d=b[b.active])&&(--b.count?delete b[b.active]:delete this[a],b.active+=0.5,d.event&&d.event.interrupt.call(this,
this.__data__,d.index))}}function gd(a,b,d){return hd(a,pa),a.namespace=b,a.id=d,a}function Se(a,b,d,f){var l=a.id,m=a.namespace;return Ja(a,"function"==typeof d?function(a,e,g){a[m][l].tween.set(b,f(d.call(a,a.__data__,e,g)))}:(d=f(d),function(a){a[m][l].tween.set(b,d)}))}function di(a){return null==a&&(a=""),function(){this.textContent=a}}function Te(a){return null==a?"__transition__":"__transition_"+a+"__"}function Nd(a,b,d,f,l){var m=a[d]||(a[d]={active:0,count:0}),e=m[f];if(!e){var g=l.time,
e=m[f]={tween:new V,time:g,delay:l.delay,duration:l.duration,ease:l.ease,index:b};l=null;++m.count;u.timer(function(l){function k(d){if(m.active>f)return q();var l=m[m.active];l&&(--m.count,delete m[m.active],l.event&&l.event.interrupt.call(a,a.__data__,l.index));m.active=f;e.event&&e.event.start.call(a,a.__data__,b);e.tween.forEach(function(d,f){(f=f.call(a,a.__data__,b))&&y.push(f)});r=e.ease;p=e.duration;u.timer(function(){return v.c=h(d||1)?ab:h,1},0,g)}function h(d){if(m.active!==f)return 1;
d/=p;for(var l=r(d),g=y.length;0<g;)y[--g].call(a,l);return 1<=d?(e.event&&e.event.end.call(a,a.__data__,b),q()):void 0}function q(){return--m.count?delete m[f]:delete a[d],1}var p,r,t=e.delay,v=eb,y=[];return v.t=t+g,l>=t?k(l-t):void(v.c=k)},0,g)}}function ei(a,b,d){a.attr("transform",function(a){var l=b(a);return"translate("+(isFinite(l)?l:d(a))+",0)"})}function fi(a,b,d){a.attr("transform",function(a){var l=b(a);return"translate(0,"+(isFinite(l)?l:d(a))+")"})}function Ue(a){return a.toISOString()}
function Ve(a,b,d){function f(b){return a(b)}function l(a,d){var f=(a[1]-a[0])/d,l=u.bisect(Od,f);return l==Od.length?[b.year,wb(a.map(function(a){return a/31536E6}),d)[2]]:l?b[f/Od[l-1]<Od[l]/f?l-1:l]:[gi,wb(a,d)[2]]}return f.invert=function(b){return Ub(a.invert(b))},f.domain=function(b){return arguments.length?(a.domain(b),f):a.domain().map(Ub)},f.nice=function(a,b){function d(f){return!isNaN(f)&&!a.range(f,Ub(+f+1),b).length}var e=f.domain(),g=Ac(e),g=null==a?l(g,10):"number"==typeof a&&l(g,a);
return g&&(a=g[0],b=g[1]),f.domain(Id(e,1<b?{floor:function(b){for(;d(b=a.floor(b));)b=Ub(b-1);return b},ceil:function(b){for(;d(b=a.ceil(b));)b=Ub(+b+1);return b}}:a))},f.ticks=function(a,b){var d=Ac(f.domain()),e=null==a?l(d,10):"number"==typeof a?l(d,a):!a.range&&[{range:a},b];return e&&(a=e[0],b=e[1]),a.range(d[0],Ub(+d[1]+1),1>b?1:b)},f.tickFormat=function(){return d},f.copy=function(){return Ve(a.copy(),b,d)},Le(f,a)}function Ub(a){return new Date(a)}function hi(a){return JSON.parse(a.responseText)}
function ii(a){var b=ya.createRange();return b.selectNode(ya.body),b.createContextualFragment(a.responseText)}var u={version:"3.5.6"},Eg=[].slice,kb=function(a){return Eg.call(a)},ya=this.document;if(ya)try{kb(ya.documentElement.childNodes)[0].nodeType}catch(Gi){kb=function(a){for(var b=a.length,d=Array(b);b--;)d[b]=a[b];return d}}if(Date.now||(Date.now=function(){return+new Date}),ya)try{ya.createElement("DIV").style.setProperty("opacity",0,"")}catch(Hi){var Pd=this.Element.prototype,ji=Pd.setAttribute,
ki=Pd.setAttributeNS,Fg=this.CSSStyleDeclaration.prototype,li=Fg.setProperty;Pd.setAttribute=function(a,b){ji.call(this,a,b+"")};Pd.setAttributeNS=function(a,b,d){ki.call(this,a,b,d+"")};Fg.setProperty=function(a,b,d){li.call(this,a,b+"",d)}}u.ascending=na;u.descending=function(a,b){return a>b?-1:b>a?1:b>=a?0:0/0};u.min=function(a,b){var d,f,l=-1,m=a.length;if(1===arguments.length){for(;++l<m;)if(null!=(f=a[l])&&f>=f){d=f;break}for(;++l<m;)null!=(f=a[l])&&d>f&&(d=f)}else{for(;++l<m;)if(null!=(f=b.call(a,
a[l],l))&&f>=f){d=f;break}for(;++l<m;)null!=(f=b.call(a,a[l],l))&&d>f&&(d=f)}return d};u.max=function(a,b){var d,f,l=-1,m=a.length;if(1===arguments.length){for(;++l<m;)if(null!=(f=a[l])&&f>=f){d=f;break}for(;++l<m;)null!=(f=a[l])&&f>d&&(d=f)}else{for(;++l<m;)if(null!=(f=b.call(a,a[l],l))&&f>=f){d=f;break}for(;++l<m;)null!=(f=b.call(a,a[l],l))&&f>d&&(d=f)}return d};u.extent=function(a,b){var d,f,l,m=-1,e=a.length;if(1===arguments.length){for(;++m<e;)if(null!=(f=a[m])&&f>=f){d=l=f;break}for(;++m<e;)null!=
(f=a[m])&&(d>f&&(d=f),f>l&&(l=f))}else{for(;++m<e;)if(null!=(f=b.call(a,a[m],m))&&f>=f){d=l=f;break}for(;++m<e;)null!=(f=b.call(a,a[m],m))&&(d>f&&(d=f),f>l&&(l=f))}return[d,l]};u.sum=function(a,b){var d,f=0,l=a.length,m=-1;if(1===arguments.length)for(;++m<l;)I(d=+a[m])&&(f+=d);else for(;++m<l;)I(d=+b.call(a,a[m],m))&&(f+=d);return f};u.mean=function(a,b){var d,f=0,l=a.length,m=-1,e=l;if(1===arguments.length)for(;++m<l;)I(d=M(a[m]))?f+=d:--e;else for(;++m<l;)I(d=M(b.call(a,a[m],m)))?f+=d:--e;return e?
f/e:void 0};u.quantile=function(a,b){var d=(a.length-1)*b+1,f=Math.floor(d),l=+a[f-1];return(d-=f)?l+d*(a[f]-l):l};u.median=function(a,b){var d,f=[],l=a.length,m=-1;if(1===arguments.length)for(;++m<l;)I(d=M(a[m]))&&f.push(d);else for(;++m<l;)I(d=M(b.call(a,a[m],m)))&&f.push(d);return f.length?u.quantile(f.sort(na),0.5):void 0};u.variance=function(a,b){var d,f,l=a.length,m=0,e=0,g=-1,k=0;if(1===arguments.length)for(;++g<l;)I(d=M(a[g]))&&(f=d-m,m+=f/++k,e+=f*(d-m));else for(;++g<l;)I(d=M(b.call(a,a[g],
g)))&&(f=d-m,m+=f/++k,e+=f*(d-m));return 1<k?e/(k-1):void 0};u.deviation=function(){var a=u.variance.apply(this,arguments);return a?Math.sqrt(a):a};var Gg=C(na);u.bisectLeft=Gg.left;u.bisect=u.bisectRight=Gg.right;u.bisector=function(a){return C(1===a.length?function(b,d){return na(a(b),d)}:a)};u.shuffle=function(a,b,d){3>(m=arguments.length)&&(d=a.length,2>m&&(b=0));for(var f,l,m=d-b;m;)l=Math.random()*m--|0,f=a[m+b],a[m+b]=a[l+b],a[l+b]=f;return a};u.permute=function(a,b){for(var d=b.length,f=Array(d);d--;)f[d]=
a[b[d]];return f};u.pairs=function(a){for(var b=0,d=a.length-1,f=a[0],l=Array(0>d?0:d);d>b;)l[b]=[f,f=a[++b]];return l};u.zip=function(){if(!(f=arguments.length))return[];for(var a=-1,b=u.min(arguments,ca),d=Array(b);++a<b;)for(var f,l=-1,m=d[a]=Array(f);++l<f;)m[l]=arguments[l][a];return d};u.transpose=function(a){return u.zip.apply(u,a)};u.keys=function(a){var b=[],d;for(d in a)b.push(d);return b};u.values=function(a){var b=[],d;for(d in a)b.push(a[d]);return b};u.entries=function(a){var b=[],d;
for(d in a)b.push({key:d,value:a[d]});return b};u.merge=function(a){var b,d,f,l=a.length;b=-1;for(var m=0;++b<l;)m+=a[b].length;for(d=Array(m);0<=--l;)for(f=a[l],b=f.length;0<=--b;)d[--m]=f[b];return d};var Y=Math.abs;u.range=function(a,b,d){if(3>arguments.length&&(d=1,2>arguments.length&&(b=a,a=0)),(b-a)/d===1/0)throw Error("infinite range");var f,l=[],m;f=Y(d);for(m=1;f*m%1;)m*=10;var e=-1;if(a*=m,b*=m,d*=m,0>d)for(;(f=a+d*++e)>b;)l.push(f/m);else for(;(f=a+d*++e)<b;)l.push(f/m);return l};u.map=
function(a,b){var d=new V;if(a instanceof V)a.forEach(function(a,b){d.set(a,b)});else if(Array.isArray(a)){var f,l=-1,m=a.length;if(1===arguments.length)for(;++l<m;)d.set(l,a[l]);else for(;++l<m;)d.set(b.call(a,f=a[l],l),f)}else for(l in a)d.set(l,a[l]);return d};var Yg="__proto__",ge="\x00";S(V,{has:O,get:function(a){return this._[da(a)]},set:function(a,b){return this._[da(a)]=b},remove:ea,keys:B,values:function(){var a=[],b;for(b in this._)a.push(this._[b]);return a},entries:function(){var a=[],
b;for(b in this._)a.push({key:ha(b),value:this._[b]});return a},size:F,empty:H,forEach:function(a){for(var b in this._)a.call(this,ha(b),this._[b])}});u.nest=function(){function a(b,e,g){if(g>=m.length)return f?f.call(l,e):d?e.sort(d):e;for(var k,h,q,p,r=-1,G=e.length,u=m[g++],t=new V;++r<G;)(p=t.get(k=u(h=e[r])))?p.push(h):t.set(k,[h]);return b?(h=b(),q=function(d,f){h.set(d,a(b,f,g))}):(h={},q=function(d,f){h[d]=a(b,f,g)}),t.forEach(q),h}function b(a,d){if(d>=m.length)return a;var f=[],l=e[d++];
return a.forEach(function(a,l){f.push({key:a,values:b(l,d)})}),l?f.sort(function(a,b){return l(a.key,b.key)}):f}var d,f,l={},m=[],e=[];return l.map=function(b,d){return a(d,b,0)},l.entries=function(d){return b(a(u.map,d,0),0)},l.key=function(a){return m.push(a),l},l.sortKeys=function(a){return e[m.length-1]=a,l},l.sortValues=function(a){return d=a,l},l.rollup=function(a){return f=a,l},l};u.set=function(a){var b=new s;if(a)for(var d=0,f=a.length;f>d;++d)b.add(a[d]);return b};S(s,{has:O,add:function(a){return this._[da(a+=
"")]=!0,a},remove:ea,values:B,size:F,empty:H,forEach:function(a){for(var b in this._)a.call(this,ha(b))}});u.behavior={};u.rebind=function(a,b){for(var d,f=1,l=arguments.length;++f<l;)a[d=arguments[f]]=A(a,b,b[d]);return a};var ef="webkit ms moz Moz o O".split(" ");u.dispatch=function(){for(var a=new Wb,b=-1,d=arguments.length;++b<d;)a[arguments[b]]=Wa(a);return a};Wb.prototype.on=function(a,b){var d=a.indexOf("."),f="";if(0<=d&&(f=a.slice(d+1),a=a.slice(0,d)),a)return 2>arguments.length?this[a].on(f):
this[a].on(f,b);if(2===arguments.length){if(null==b)for(a in this)this.hasOwnProperty(a)&&this[a].on(f,null);return this}};u.event=null;u.requote=function(a){return a.replace(mi,"\\$&")};var mi=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,hd={}.__proto__?function(a,b){a.__proto__=b}:function(a,b){for(var d in b)a[d]=b[d]},he=function(a,b){return b.querySelector(a)},ie=function(a,b){return b.querySelectorAll(a)},je=function(a,b){var d=a.matches||a[ia(a,"matchesSelector")];return(je=function(a,b){return d.call(a,
b)})(a,b)};"function"==typeof Sizzle&&(he=function(a,b){return Sizzle(a,b)[0]||null},ie=Sizzle,je=Sizzle.matchesSelector);u.selection=function(){return u.select(ya.documentElement)};var fa=u.selection.prototype=[];fa.select=function(a){var b,d,f,l,m=[];a=zb(a);for(var e=-1,g=this.length;++e<g;){m.push(b=[]);b.parentNode=(f=this[e]).parentNode;for(var k=-1,h=f.length;++k<h;)(l=f[k])?(b.push(d=a.call(l,l.__data__,k,e)),d&&"__data__"in l&&(d.__data__=l.__data__)):b.push(null)}return Ra(m)};fa.selectAll=
function(a){var b,d,f=[];a=Ec(a);for(var l=-1,m=this.length;++l<m;)for(var e=this[l],g=-1,k=e.length;++g<k;)(d=e[g])&&(f.push(b=kb(a.call(d,d.__data__,g,l))),b.parentNode=d);return Ra(f)};var We={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};u.ns={prefix:We,qualify:function(a){var b=a.indexOf(":"),d=a;return 0<=b&&(d=a.slice(0,b),a=a.slice(b+1)),We.hasOwnProperty(d)?
{space:We[d],local:a}:a}};fa.attr=function(a,b){if(2>arguments.length){if("string"==typeof a){var d=this.node();return a=u.ns.qualify(a),a.local?d.getAttributeNS(a.space,a.local):d.getAttribute(a)}for(b in a)this.each(Fc(b,a[b]));return this}return this.each(Fc(a,b))};fa.classed=function(a,b){if(2>arguments.length){if("string"==typeof a){var d=this.node(),f=(a=(a+"").trim().split(/^|\s+/)).length,l=-1;if(b=d.classList)for(;++l<f;){if(!b.contains(a[l]))return!1}else for(b=d.getAttribute("class");++l<
f;)if(!Yb(a[l]).test(b))return!1;return!0}for(b in a)this.each(Zb(b,a[b]));return this}return this.each(Zb(a,b))};fa.style=function(a,b,d){var f=arguments.length;if(3>f){if("string"!=typeof a){2>f&&(b="");for(d in a)this.each($b(d,a[d],b));return this}if(2>f)return f=this.node(),ja(f).getComputedStyle(f,null).getPropertyValue(a);d=""}return this.each($b(a,b,d))};fa.property=function(a,b){if(2>arguments.length){if("string"==typeof a)return this.node()[a];for(b in a)this.each(ac(b,a[b]));return this}return this.each(ac(a,
b))};fa.text=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.textContent=null==b?"":b}:null==a?function(){this.textContent=""}:function(){this.textContent=a}):this.node().textContent};fa.html=function(a){return arguments.length?this.each("function"==typeof a?function(){var b=a.apply(this,arguments);this.innerHTML=null==b?"":b}:null==a?function(){this.innerHTML=""}:function(){this.innerHTML=a}):this.node().innerHTML};fa.append=function(a){return a=
bc(a),this.select(function(){return this.appendChild(a.apply(this,arguments))})};fa.insert=function(a,b){return a=bc(a),b=zb(b),this.select(function(){return this.insertBefore(a.apply(this,arguments),b.apply(this,arguments)||null)})};fa.remove=function(){return this.each(Hc)};fa.data=function(a,b){function d(a,d){var f,l,m,e=a.length,q=d.length,p=Math.min(e,q),r=Array(q),G=Array(q),u=Array(e);if(b){var t,p=new V,v=Array(e);for(f=-1;++f<e;)p.has(t=b.call(l=a[f],l.__data__,f))?u[f]=l:p.set(t,l),v[f]=
t;for(f=-1;++f<q;)(l=p.get(t=b.call(d,m=d[f],f)))?!0!==l&&(r[f]=l,l.__data__=m):G[f]={__data__:m},p.set(t,!0);for(f=-1;++f<e;)!0!==p.get(v[f])&&(u[f]=a[f])}else{for(f=-1;++f<p;)l=a[f],m=d[f],l?(l.__data__=m,r[f]=l):G[f]={__data__:m};for(;q>f;++f)G[f]={__data__:d[f]};for(;e>f;++f)u[f]=a[f]}G.update=r;G.parentNode=r.parentNode=u.parentNode=a.parentNode;g.push(G);k.push(r);h.push(u)}var f,l,m=-1,e=this.length;if(!arguments.length){for(a=Array(e=(f=this[0]).length);++m<e;)(l=f[m])&&(a[m]=l.__data__);
return a}var g=Ab([]),k=Ra([]),h=Ra([]);if("function"==typeof a)for(;++m<e;)d(f=this[m],a.call(f,f.parentNode.__data__,m));else for(;++m<e;)d(f=this[m],a);return k.enter=function(){return g},k.exit=function(){return h},k};fa.datum=function(a){return arguments.length?this.property("__data__",a):this.property("__data__")};fa.filter=function(a){var b,d,f,l=[];"function"!=typeof a&&(a=cc(a));for(var m=0,e=this.length;e>m;m++){l.push(b=[]);b.parentNode=(d=this[m]).parentNode;for(var g=0,k=d.length;k>g;g++)(f=
d[g])&&a.call(f,f.__data__,g,m)&&b.push(f)}return Ra(l)};fa.order=function(){for(var a=-1,b=this.length;++a<b;)for(var d,f=this[a],l=f.length-1,m=f[l];0<=--l;)(d=f[l])&&(m&&m!==d.nextSibling&&m.parentNode.insertBefore(d,m),m=d);return this};fa.sort=function(a){a=id.apply(this,arguments);for(var b=-1,d=this.length;++b<d;)this[b].sort(a);return this.order()};fa.each=function(a){return Ja(this,function(b,d,f){a.call(b,b.__data__,d,f)})};fa.call=function(a){var b=kb(arguments);return a.apply(b[0]=this,
b),this};fa.empty=function(){return!this.node()};fa.node=function(){for(var a=0,b=this.length;b>a;a++)for(var d=this[a],f=0,l=d.length;l>f;f++){var m=d[f];if(m)return m}return null};fa.size=function(){var a=0;return Ja(this,function(){++a}),a};var cb=[];u.selection.enter=Ab;u.selection.enter.prototype=cb;cb.append=fa.append;cb.empty=fa.empty;cb.node=fa.node;cb.call=fa.call;cb.size=fa.size;cb.select=function(a){for(var b,d,f,l,m,e=[],g=-1,k=this.length;++g<k;){f=(l=this[g]).update;e.push(b=[]);b.parentNode=
l.parentNode;for(var h=-1,q=l.length;++h<q;)(m=l[h])?(b.push(f[h]=d=a.call(l.parentNode,m.__data__,h,g)),d.__data__=m.__data__):b.push(null)}return Ra(e)};cb.insert=function(a,b){return 2>arguments.length&&(b=dc(this)),fa.insert.call(this,a,b)};u.select=function(a){var b;return"string"==typeof a?(b=[he(a,ya)],b.parentNode=ya.documentElement):(b=[a],b.parentNode=a&&(a.ownerDocument||a.document||a).documentElement),Ra([b])};u.selectAll=function(a){var b;return"string"==typeof a?(b=kb(ie(a,ya)),b.parentNode=
ya.documentElement):(b=a,b.parentNode=null),Ra([b])};fa.on=function(a,b,d){var f=arguments.length;if(3>f){if("string"!=typeof a){2>f&&(b=!1);for(d in a)this.each(ec(d,a[d],b));return this}if(2>f)return(f=this.node()["__on"+a])&&f._;d=!1}return this.each(ec(a,b,d))};var ke=u.map({mouseenter:"mouseover",mouseleave:"mouseout"});ya&&ke.forEach(function(a){"on"+a in ya&&ke.remove(a)});var Bb,Zg=0;u.mouse=function(a){return Cb(a,Dc())};var le=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;
u.touch=function(a,b,d){if(3>arguments.length&&(d=b,b=Dc().changedTouches),b)for(var f,l=0,m=b.length;m>l;++l)if((f=b[l]).identifier===d)return Cb(a,f)};u.behavior.drag=function(){function a(){this.on("mousedown.drag",l).on("touchstart.drag",m)}function b(a,b,l,m,e){return function(){var g,k=u.event.target,h=this.parentNode,q=d.of(this,arguments),p=0,r=a(),t=".drag"+(null==r?"":"-"+r),v=u.select(l(k)).on(m+t,function(){var a,d,f=b(h,r);f&&(a=f[0]-E[0],d=f[1]-E[1],p|=a|d,E=f,q({type:"drag",x:f[0]+
g[0],y:f[1]+g[1],dx:a,dy:d}))}).on(e+t,function(){b(h,r)&&(v.on(m+t,null).on(e+t,null),y(p&&u.event.target===k),q({type:"dragend"}))}),y=gc(k),E=b(h,r);f?(g=f.apply(this,arguments),g=[g.x-E[0],g.y-E[1]]):g=[0,0];q({type:"dragstart"})}}var d=yb(a,"drag","dragstart","dragend"),f=null,l=b(K,u.mouse,ja,"mousemove","mouseup"),m=b(Db,u.touch,w,"touchmove","touchend");return a.origin=function(b){return arguments.length?(f=b,a):f},u.rebind(a,d,"on")};u.touches=function(a,b){return 2>arguments.length&&(b=
Dc().touches),b?kb(b).map(function(b){var f=Cb(a,b);return f.identifier=b.identifier,f}):[]};var Q=1E-6,xe=Q*Q,W=Math.PI,Ha=2*W,ni=Ha-Q,la=W/2,X=W/180,ka=180/W,Qd=Math.SQRT2,Xe=2;u.interpolateZoom=function(a,b){function d(a){var b=a*t;if(u){a=Ic(r);var d=m/(Xe*q),e,h=Qd*b+r;e=((h=Math.exp(2*h))-1)/(h+1);e*=a;var p=r,h=((p=Math.exp(p))-1/p)/2,d=d*(e-h);return[f+d*g,l+d*k,m*a/Ic(Qd*b+r)]}return[f+a*g,l+a*k,m*Math.exp(Qd*b)]}var f=a[0],l=a[1],m=a[2],e=b[2],g=b[0]-f,k=b[1]-l,h=g*g+k*k,q=Math.sqrt(h),
p=(e*e-m*m+4*h)/(2*m*Xe*q),h=(e*e-m*m-4*h)/(2*e*Xe*q),r=Math.log(Math.sqrt(p*p+1)-p),u=Math.log(Math.sqrt(h*h+1)-h)-r,t=(u||Math.log(e/m))/Qd;return d.duration=1E3*t,d};u.behavior.zoom=function(){function a(a){a.on(K,h).on(Ye+".zoom",p).on("dblclick.zoom",r).on(C,q)}function b(a){return[(a[0]-aa.x)/aa.k,(a[1]-aa.y)/aa.k]}function d(a){aa.k=Math.max(ba[0],Math.min(ba[1],a))}function f(a,b){b=[b[0]*aa.k+aa.x,b[1]*aa.k+aa.y];aa.x+=a[0]-b[0];aa.y+=a[1]-b[1]}function l(b,l,m,e){b.__chart__={x:aa.x,y:aa.y,
k:aa.k};d(Math.pow(2,e));f(v=l,m);b=u.select(b);0<A&&(b=b.transition().duration(A));b.call(a.event)}function m(){$&&$.domain(x.range().map(function(a){return(a-aa.x)/aa.k}).map(x.invert));L&&L.domain(s.range().map(function(a){return(a-aa.y)/aa.k}).map(s.invert))}function e(a){B++||a({type:"zoomstart"})}function g(a){m();a({type:"zoom",scale:aa.k,translate:[aa.x,aa.y]})}function k(a){--B||(a({type:"zoomend"}),v=null)}function h(){var a=this,d=u.event.target,l=H.of(a,arguments),m=0,q=u.select(ja(a)).on(oa,
function(){m=1;f(u.mouse(a),p);g(l)}).on(F,function(){q.on(oa,null).on(F,null);r(m&&u.event.target===d);k(l)}),p=b(u.mouse(a)),r=gc(a);Rd.call(a);e(l)}function q(){function a(){var d=u.touches(v);return t=aa.k,d.forEach(function(a){a.identifier in E&&(E[a.identifier]=b(a))}),d}function m(){var b=u.event.target;u.select(b).on(jd,p).on(L,r);s.push(b);for(var b=u.event.changedTouches,d=0,f=b.length;f>d;++d)E[b[d].identifier]=null;d=a();f=Date.now();1===d.length?(500>f-D&&(b=d[0],l(v,b,E[b.identifier],
Math.floor(Math.log(aa.k)/Math.LN2)+1),J()),D=f):1<d.length&&(b=d[0],f=d[1],d=b[0]-f[0],b=b[1]-f[1],$=d*d+b*b)}function p(){var a,b,l,m,e=u.touches(v);Rd.call(v);for(var k=0,h=e.length;h>k;++k,m=null)if(l=e[k],m=E[l.identifier]){if(b)break;a=l;b=m}if(m){var q=(q=l[0]-a[0])*q+(q=l[1]-a[1])*q,e=$&&Math.sqrt(q/$);a=[(a[0]+l[0])/2,(a[1]+l[1])/2];b=[(b[0]+m[0])/2,(b[1]+m[1])/2];d(e*t)}D=null;f(a,b);g(y)}function r(){if(u.event.touches.length){for(var b=u.event.changedTouches,d=0,f=b.length;f>d;++d)delete E[b[d].identifier];
for(var l in E)return void a()}u.selectAll(s).on(x,null);Ka.on(K,h).on(C,q);w();k(y)}var t,v=this,y=H.of(v,arguments),E={},$=0,x=".zoom-"+u.event.changedTouches[0].identifier,jd="touchmove"+x,L="touchend"+x,s=[],Ka=u.select(v),w=gc(v);m();e(y);Ka.on(K,null).on(C,m)}function p(){var a=H.of(this,arguments);E?clearTimeout(E):(Rd.call(this),t=b(v=y||u.mouse(this)),e(a));E=setTimeout(function(){E=null;k(a)},50);J();d(Math.pow(2,0.002*Sd())*aa.k);f(v,t);g(a)}function r(){var a=u.mouse(this),d=Math.log(aa.k)/
Math.LN2;l(this,a,b(a),u.event.shiftKey?Math.ceil(d)-1:Math.floor(d)+1)}var t,v,y,E,D,x,$,s,L,aa={x:0,y:0,k:1},w=[960,500],ba=Hg,A=250,B=0,K="mousedown.zoom",oa="mousemove.zoom",F="mouseup.zoom",C="touchstart.zoom",H=yb(a,"zoomstart","zoom","zoomend");return Ye||(Ye="onwheel"in ya?(Sd=function(){return-u.event.deltaY*(u.event.deltaMode?120:1)},"wheel"):"onmousewheel"in ya?(Sd=function(){return u.event.wheelDelta},"mousewheel"):(Sd=function(){return-u.event.detail},"MozMousePixelScroll")),a.event=
function(a){a.each(function(){var a=H.of(this,arguments),b=aa;Vb?u.select(this).transition().each("start.zoom",function(){aa=this.__chart__||{x:0,y:0,k:1};e(a)}).tween("zoom:zoom",function(){var d=w[0],f=w[1],l=v?v[0]:d/2,m=v?v[1]:f/2,e=u.interpolateZoom([(l-aa.x)/aa.k,(m-aa.y)/aa.k,d/aa.k],[(l-b.x)/b.k,(m-b.y)/b.k,d/b.k]);return function(b){b=e(b);var f=d/b[2];this.__chart__=aa={x:l-b[0]*f,y:m-b[1]*f,k:f};g(a)}}).each("interrupt.zoom",function(){k(a)}).each("end.zoom",function(){k(a)}):(this.__chart__=
aa,e(a),g(a),k(a))})},a.translate=function(b){return arguments.length?(aa={x:+b[0],y:+b[1],k:aa.k},m(),a):[aa.x,aa.y]},a.scale=function(b){return arguments.length?(aa={x:aa.x,y:aa.y,k:+b},m(),a):aa.k},a.scaleExtent=function(b){return arguments.length?(ba=null==b?Hg:[+b[0],+b[1]],a):ba},a.center=function(b){return arguments.length?(y=b&&[+b[0],+b[1]],a):y},a.size=function(b){return arguments.length?(w=b&&[+b[0],+b[1]],a):w},a.duration=function(b){return arguments.length?(A=+b,a):A},a.x=function(b){return arguments.length?
($=b,x=b.copy(),aa={x:0,y:0,k:1},a):$},a.y=function(b){return arguments.length?(L=b,s=b.copy(),aa={x:0,y:0,k:1},a):L},u.rebind(a,H,"on")};var Sd,Ye,Hg=[0,1/0];u.color=Xa;Xa.prototype.toString=function(){return this.rgb()+""};u.hsl=Ba;var Ze=Ba.prototype=new Xa;Ze.brighter=function(a){return a=Math.pow(0.7,arguments.length?a:1),new Ba(this.h,this.s,this.l/a)};Ze.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new Ba(this.h,this.s,a*this.l)};Ze.rgb=function(){return jc(this.h,this.s,
this.l)};u.hcl=Ca;var $e=Ca.prototype=new Xa;$e.brighter=function(a){return new Ca(this.h,this.c,Math.min(100,this.l+Td*(arguments.length?a:1)))};$e.darker=function(a){return new Ca(this.h,this.c,Math.max(0,this.l-Td*(arguments.length?a:1)))};$e.rgb=function(){return Fb(this.h,this.c,this.l).rgb()};u.lab=Aa;var Td=18,ff=0.95047,gf=1,hf=1.08883,af=Aa.prototype=new Xa;af.brighter=function(a){return new Aa(Math.min(100,this.l+Td*(arguments.length?a:1)),this.a,this.b)};af.darker=function(a){return new Aa(Math.max(0,
this.l-Td*(arguments.length?a:1)),this.a,this.b)};af.rgb=function(){return lc(this.l,this.a,this.b)};u.rgb=ra;var Ud=ra.prototype=new Xa;Ud.brighter=function(a){a=Math.pow(0.7,arguments.length?a:1);var b=this.r,d=this.g,f=this.b;return b||d||f?(b&&30>b&&(b=30),d&&30>d&&(d=30),f&&30>f&&(f=30),new ra(Math.min(255,b/a),Math.min(255,d/a),Math.min(255,f/a))):new ra(30,30,30)};Ud.darker=function(a){return a=Math.pow(0.7,arguments.length?a:1),new ra(a*this.r,a*this.g,a*this.b)};Ud.hsl=function(){return ic(this.r,
this.g,this.b)};Ud.toString=function(){return"#"+db(this.r)+db(this.g)+db(this.b)};var ld=u.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,
darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,
slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ld.forEach(function(a,b){ld.set(a,new ra(b>>16,b>>8&255,255&b))});u.functor=ga;u.xhr=Lb(w);u.dsv=function(a,b){function d(a,d,m){3>arguments.length&&(m=d,d=null);var e=Mb(a,b,null==d?f:l(d),m);return e.row=function(a){return arguments.length?e.response(null==
(d=a)?f:l(a)):d},e}function f(a){return d.parse(a.responseText)}function l(a){return function(b){return d.parse(b.responseText,a)}}function m(b){return b.map(e).join(a)}function e(a){return g.test(a)?'"'+a.replace(/\"/g,'""')+'"':a}var g=RegExp('["'+a+"\n]"),k=a.charCodeAt(0);return d.parse=function(a,b){var f;return d.parseRows(a,function(a,d){if(f)return f(a,d-1);var l=new Function("d","return {"+a.map(function(a,b){return JSON.stringify(a)+": d["+b+"]"}).join(",")+"}");f=b?function(a,d){return b(l(a),
d)}:l})},d.parseRows=function(a,b){function d(){if(q>=h)return e;if(l)return l=!1,m;var b=q;if(34===a.charCodeAt(b)){for(var f=b;f++<h;)if(34===a.charCodeAt(f)){if(34!==a.charCodeAt(f+1))break;++f}q=f+2;var g=a.charCodeAt(f+1);return 13===g?(l=!0,10===a.charCodeAt(f+2)&&++q):10===g&&(l=!0),a.slice(b+1,f).replace(/""/g,'"')}for(;h>q;){g=a.charCodeAt(q++);f=1;if(10===g)l=!0;else if(13===g)l=!0,10===a.charCodeAt(q)&&(++q,++f);else if(g!==k)continue;return a.slice(b,q-f)}return a.slice(b)}for(var f,l,
m={},e={},g=[],h=a.length,q=0,p=0;(f=d())!==e;){for(var z=[];f!==m&&f!==e;)z.push(f),f=d();b&&null==(z=b(z,p++))||g.push(z)}return g},d.format=function(b){if(Array.isArray(b[0]))return d.formatRows(b);var f=new s,l=[];return b.forEach(function(a){for(var b in a)f.has(b)||l.push(f.add(b))}),[l.map(e).join(a)].concat(b.map(function(b){return l.map(function(a){return e(b[a])}).join(a)})).join("\n")},d.formatRows=function(a){return a.map(m).join("\n")},d};u.csv=u.dsv(",","text/csv");u.tsv=u.dsv("\t",
"text/tab-separated-values");var od,pd,nd,md,eb,jf=this[ia(this,"requestAnimationFrame")]||function(a){setTimeout(a,17)};u.timer=function(a,b,d){var f=arguments.length;2>f&&(b=0);3>f&&(d=Date.now());f={c:a,t:d+b,f:!1,n:null};pd?pd.n=f:od=f;pd=f;nd||(md=clearTimeout(md),nd=1,jf(Mc))};u.timer.flush=function(){Nc();mc()};u.round=function(a,b){return b?Math.round(a*(b=Math.pow(10,b)))/b:Math.round(a)};var oi="y z a f p n \u00b5 m  k M G T P E Z Y".split(" ").map(function(a,b){var d=Math.pow(10,3*Y(8-
b));return{scale:8<b?function(a){return a/d}:function(a){return a*d},symbol:a}});u.formatPrefix=function(a,b){var d=0;return a&&(0>a&&(a*=-1),b&&(a=u.round(a,nc(a,b))),d=1+Math.floor(1E-12+Math.log(a)/Math.LN10),d=Math.max(-24,Math.min(24,3*Math.floor((d-1)/3)))),oi[8+d/3]};var kf=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,$g=u.map({b:function(a){return a.toString(2)},c:function(a){return String.fromCharCode(a)},o:function(a){return a.toString(8)},x:function(a){return a.toString(16)},
X:function(a){return a.toString(16).toUpperCase()},g:function(a,b){return a.toPrecision(b)},e:function(a,b){return a.toExponential(b)},f:function(a,b){return a.toFixed(b)},r:function(a,b){return(a=u.round(a,nc(a,b))).toFixed(Math.max(0,Math.min(20,nc(a*(1+1E-15),b))))}}),T=u.time={},va=Date;Ea.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},
getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){jb.setUTCDate.apply(this._,arguments)},setDay:function(){jb.setUTCDay.apply(this._,arguments)},setFullYear:function(){jb.setUTCFullYear.apply(this._,
arguments)},setHours:function(){jb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){jb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){jb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){jb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){jb.setUTCSeconds.apply(this._,arguments)},setTime:function(){jb.setTime.apply(this._,arguments)}};var jb=Date.prototype;T.year=Ta(function(a){return a=T.day(a),a.setMonth(0,1),a},function(a,b){a.setFullYear(a.getFullYear()+
b)},function(a){return a.getFullYear()});T.years=T.year.range;T.years.utc=T.year.utc.range;T.day=Ta(function(a){var b=new va(2E3,0);return b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),b},function(a,b){a.setDate(a.getDate()+b)},function(a){return a.getDate()-1});T.days=T.day.range;T.days.utc=T.day.utc.range;T.dayOfYear=function(a){var b=T.year(a);return Math.floor((a-b-6E4*(a.getTimezoneOffset()-b.getTimezoneOffset()))/864E5)};"sunday monday tuesday wednesday thursday friday saturday".split(" ").forEach(function(a,
b){b=7-b;var d=T[a]=Ta(function(a){return(a=T.day(a)).setDate(a.getDate()-(a.getDay()+b)%7),a},function(a,b){a.setDate(a.getDate()+7*Math.floor(b))},function(a){var d=T.year(a).getDay();return Math.floor((T.dayOfYear(a)+(d+b)%7)/7)-(d!==b)});T[a+"s"]=d.range;T[a+"s"].utc=d.utc.range;T[a+"OfYear"]=function(a){var d=T.year(a).getDay();return Math.floor((T.dayOfYear(a)+(d+b)%7)/7)}});T.week=T.sunday;T.weeks=T.sunday.range;T.weeks.utc=T.sunday.utc.range;T.weekOfYear=T.sundayOfYear;var of={"-":"",_:" ",
0:"0"},ma=/^\s*\d+/,pf=/^%/;u.locale=function(a){return{numberFormat:qd(a),timeFormat:Pc(a)}};var Ig=u.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),shortDays:"Sun Mon Tue Wed Thu Fri Sat".split(" "),months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")});
u.format=Ig.numberFormat;u.geo={};Rc.prototype={s:0,t:0,add:function(a){Sc(a,this.t,Vd);Sc(Vd.s,this.s,this);this.s?this.t+=Vd.t:this.s=Vd.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Vd=new Rc;u.geo.stream=function(a,b){a&&Jg.hasOwnProperty(a.type)?Jg[a.type](a,b):oc(a,b)};var Jg={Feature:function(a,b){oc(a.geometry,b)},FeatureCollection:function(a,b){for(var d=a.features,f=-1,l=d.length;++f<l;)oc(d[f].geometry,b)}},qf={Sphere:function(a,b){b.sphere()},Point:function(a,
b){a=a.coordinates;b.point(a[0],a[1],a[2])},MultiPoint:function(a,b){for(var d=a.coordinates,f=-1,l=d.length;++f<l;)a=d[f],b.point(a[0],a[1],a[2])},LineString:function(a,b){Ya(a.coordinates,b,0)},MultiLineString:function(a,b){for(var d=a.coordinates,f=-1,l=d.length;++f<l;)Ya(d[f],b,0)},Polygon:function(a,b){Tc(a.coordinates,b)},MultiPolygon:function(a,b){for(var d=a.coordinates,f=-1,l=d.length;++f<l;)Tc(d[f],b)},GeometryCollection:function(a,b){for(var d=a.geometries,f=-1,l=d.length;++f<l;)oc(d[f],
b)}};u.geo.area=function(a){return Bc=0,u.geo.stream(a,Ga),Bc};var Bc,Ob=new Rc,Ga={sphere:function(){Bc+=4*W},point:K,lineStart:K,lineEnd:K,polygonStart:function(){Ob.reset();Ga.lineStart=pc},polygonEnd:function(){var a=2*Ob;Bc+=0>a?4*W+a:a;Ga.lineStart=Ga.lineEnd=Ga.point=K}};u.geo.bounds=function(){function a(a,b){$.push(s=[q=a,r=a]);p>b&&(p=b);b>t&&(t=b)}function b(b,d){var f=Ma([b*X,d*X]);if(D){var l=fb(D,f),l=fb([l[1],-l[0],0],l);Rb(l);var l=pb(l),m=b-v,e=0<m?1:-1,k=l[0]*ka*e,m=180<Y(m);m^(k>
e*v&&e*b>k)?(l=l[1]*ka,l>t&&(t=l)):(k=(k+360)%360-180,m^(k>e*v&&e*b>k))?(l=-l[1]*ka,p>l&&(p=l)):(p>d&&(p=d),d>t&&(t=d));m?v>b?g(q,b)>g(q,r)&&(r=b):g(b,r)>g(q,r)&&(q=b):r>=q?(q>b&&(q=b),b>r&&(r=b)):b>v?g(q,b)>g(q,r)&&(r=b):g(b,r)>g(q,r)&&(q=b)}else a(b,d);D=f;v=b}function d(){L.point=b}function f(){s[0]=q;s[1]=r;L.point=a;D=null}function l(a,d){if(D){var f=a-v;x+=180<Y(f)?f+(0<f?360:-360):f}else E=a,y=d;Ga.point(a,d);b(a,d)}function m(){Ga.lineStart()}function e(){l(E,y);Ga.lineEnd();Y(x)>Q&&(q=-(r=
180));s[0]=q;s[1]=r;D=null}function g(a,b){return 0>(b-=a)?b+360:b}function k(a,b){return a[0]-b[0]}function h(a,b){return b[0]<=b[1]?b[0]<=a&&a<=b[1]:a<b[0]||b[1]<a}var q,p,r,t,v,E,y,D,x,$,s,L={point:a,lineStart:d,lineEnd:f,polygonStart:function(){L.point=l;L.lineStart=m;L.lineEnd=e;x=0;Ga.polygonStart()},polygonEnd:function(){Ga.polygonEnd();L.point=a;L.lineStart=d;L.lineEnd=f;0>Ob?(q=-(r=180),p=-(t=90)):x>Q?t=90:-Q>x&&(p=-90);s[0]=q;s[1]=r}};return function(a){t=r=-(q=p=1/0);$=[];u.geo.stream(a,
L);if(a=$.length){$.sort(k);for(var b,d=1,f=$[0],l=[f];a>d;++d)b=$[d],h(b[0],f)||h(b[1],f)?(g(f[0],b[1])>g(f[0],f[1])&&(f[1]=b[1]),g(b[0],f[1])>g(f[0],f[1])&&(f[0]=b[0])):l.push(f=b);var m,e=-1/0;a=l.length-1;d=0;for(f=l[a];a>=d;f=b,++d)b=l[d],(m=g(f[1],b[0]))>e&&(e=m,q=b[0],r=f[1])}return $=s=null,1/0===q||1/0===p?[[0/0,0/0],[0/0,0/0]]:[[q,p],[r,t]]}}();u.geo.centroid=function(a){Uc=rc=gb=hb=Za=Oa=Pa=Da=sb=tb=$a=0;u.geo.stream(a,Ua);a=sb;var b=tb,d=$a,f=a*a+b*b+d*d;return xe>f&&(a=Oa,b=Pa,d=Da,Q>
rc&&(a=gb,b=hb,d=Za),f=a*a+b*b+d*d,xe>f)?[0/0,0/0]:[Math.atan2(b,a)*ka,Sa(d/Math.sqrt(f))*ka]};var Uc,rc,gb,hb,Za,Oa,Pa,Da,sb,tb,$a,Ua={sphere:K,point:rb,lineStart:Vc,lineEnd:sc,polygonStart:function(){Ua.lineStart=Wc},polygonEnd:function(){Ua.lineStart=Vc}},uf=xd(ab,function(a){var b,d=0/0,f=0/0,l=0/0;return{lineStart:function(){a.lineStart();b=1},point:function(m,e){var g=0<m?W:-W,k=Y(m-d);if(Y(k-W)<Q)a.point(d,f=0<(f+e)/2?la:-la),a.point(l,f),a.lineEnd(),a.lineStart(),a.point(g,f),a.point(m,f),
b=0;else if(l!==g&&k>=W){Y(d-l)<Q&&(d-=l*Q);Y(m-g)<Q&&(m-=g*Q);var k=d,h=f,q=m,p,r,u=Math.sin(k-q);f=Y(u)>Q?Math.atan((Math.sin(h)*(r=Math.cos(e))*Math.sin(q)-Math.sin(e)*(p=Math.cos(h))*Math.sin(k))/(p*r*u)):(h+e)/2;a.point(l,f);a.lineEnd();a.lineStart();a.point(g,f);b=0}a.point(d=m,f=e);l=g},lineEnd:function(){a.lineEnd();d=f=0/0},clean:function(){return 2-b}}},function(a,b,d,f){null==a?(d*=la,f.point(-W,d),f.point(0,d),f.point(W,d),f.point(W,0),f.point(W,-d),f.point(0,-d),f.point(-W,-d),f.point(-W,
0),f.point(-W,d)):Y(a[0]-b[0])>Q?(a=a[0]<b[0]?W:-W,d=d*a/2,f.point(-a,d),f.point(0,d),f.point(a,d)):f.point(b[0],b[1])},[-W,-W/2]),Ad=1E9;u.geo.clipExtent=function(){var a,b,d,f,l,m,e={stream:function(a){return l&&(l.valid=!1),l=m(a),l.valid=!0,l},extent:function(k){return arguments.length?(m=g(a=+k[0][0],b=+k[0][1],d=+k[1][0],f=+k[1][1]),l&&(l.valid=!1,l=null),e):[[a,b],[d,f]]}};return e.extent([[0,0],[960,500]])};(u.geo.conicEqualArea=function(){return k(q)}).raw=q;u.geo.albers=function(){return u.geo.conicEqualArea().rotate([96,
0]).center([-0.6,38.7]).parallels([29.5,45.5]).scale(1070)};u.geo.albersUsa=function(){function a(a){var m=a[0];a=a[1];return b=null,d(m,a),b||(f(m,a),b)||l(m,a),b}var b,d,f,l,m=u.geo.albers(),e=u.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=u.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),k={point:function(a,d){b=[a,d]}};return a.invert=function(a){var b=m.scale(),d=m.translate(),f=(a[0]-d[0])/b,b=(a[1]-d[1])/b;return(0.12<=b&&0.234>b&&-0.425<=
f&&-0.214>f?e:0.166<=b&&0.234>b&&-0.214<=f&&-0.115>f?g:m).invert(a)},a.stream=function(a){var b=m.stream(a),d=e.stream(a),f=g.stream(a);return{point:function(a,l){b.point(a,l);d.point(a,l);f.point(a,l)},sphere:function(){b.sphere();d.sphere();f.sphere()},lineStart:function(){b.lineStart();d.lineStart();f.lineStart()},lineEnd:function(){b.lineEnd();d.lineEnd();f.lineEnd()},polygonStart:function(){b.polygonStart();d.polygonStart();f.polygonStart()},polygonEnd:function(){b.polygonEnd();d.polygonEnd();
f.polygonEnd()}}},a.precision=function(b){return arguments.length?(m.precision(b),e.precision(b),g.precision(b),a):m.precision()},a.scale=function(b){return arguments.length?(m.scale(b),e.scale(0.35*b),g.scale(b),a.translate(m.translate())):m.scale()},a.translate=function(b){if(!arguments.length)return m.translate();var h=m.scale(),q=+b[0],p=+b[1];return d=m.translate(b).clipExtent([[q-0.455*h,p-0.238*h],[q+0.455*h,p+0.238*h]]).stream(k).point,f=e.translate([q-0.307*h,p+0.201*h]).clipExtent([[q-0.425*
h+Q,p+0.12*h+Q],[q-0.214*h-Q,p+0.234*h-Q]]).stream(k).point,l=g.translate([q-0.205*h,p+0.212*h]).clipExtent([[q-0.214*h+Q,p+0.166*h+Q],[q-0.115*h-Q,p+0.234*h-Q]]).stream(k).point,a},a.scale(1070)};var Wd,Bd,Xd,Yd,Zd,$d,ub={point:K,lineStart:K,lineEnd:K,polygonStart:function(){Bd=0;ub.lineStart=p},polygonEnd:function(){ub.lineStart=ub.lineEnd=ub.point=K;Wd+=Y(Bd/2)}},pi={point:function(a,b){Xd>a&&(Xd=a);a>Zd&&(Zd=a);Yd>b&&(Yd=b);b>$d&&($d=b)},lineStart:K,lineEnd:K,polygonStart:K,polygonEnd:K},Va={point:y,
lineStart:t,lineEnd:E,polygonStart:function(){Va.lineStart=L},polygonEnd:function(){Va.point=y;Va.lineStart=t;Va.lineEnd=E}};u.geo.path=function(){function a(a){return a&&("function"==typeof e&&l.pointRadius(+e.apply(this,arguments)),m&&m.valid||(m=f(l)),u.geo.stream(a,m)),l.result()}var b,d,f,l,m,e=4.5;return a.area=function(a){return Wd=0,u.geo.stream(a,f(ub)),Wd},a.centroid=function(a){return gb=hb=Za=Oa=Pa=Da=sb=tb=$a=0,u.geo.stream(a,f(Va)),$a?[sb/$a,tb/$a]:Da?[Oa/Da,Pa/Da]:Za?[gb/Za,hb/Za]:
[0/0,0/0]},a.bounds=function(a){return Zd=$d=-(Xd=Yd=1/0),u.geo.stream(a,f(pi)),[[Xd,Yd],[Zd,$d]]},a.projection=function(d){return arguments.length?(f=(b=d)?d.stream||oa(d):w,m=null,a):b},a.context=function(b){return arguments.length?(l=null==(d=b)?new r:new D(b),"function"!=typeof e&&l.pointRadius(e),m=null,a):d},a.pointRadius=function(b){return arguments.length?(e="function"==typeof b?b:(l.pointRadius(+b),+b),a):e},a.projection(u.geo.albersUsa()).context(null)};u.geo.transform=function(a){return{stream:function(b){b=
new tf(b);for(var d in a)b[d]=a[d];return b}}};tf.prototype={point:function(a,b){this.stream.point(a,b)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};u.geo.projection=vb;u.geo.projectionMutator=pe;(u.geo.equirectangular=function(){return vb(Xc)}).raw=Xc.invert=Xc;u.geo.rotation=function(a){function b(b){return b=a(b[0]*
X,b[1]*X),b[0]*=ka,b[1]*=ka,b}return a=qe(a[0]%360*X,a[1]*X,2<a.length?a[2]*X:0),b.invert=function(b){return b=a.invert(b[0]*X,b[1]*X),b[0]*=ka,b[1]*=ka,b},b};vf.invert=Xc;u.geo.circle=function(){function a(){var a="function"==typeof f?f.apply(this,arguments):f,b=qe(-a[0]*X,-a[1]*X,0).invert,l=[];return d(null,null,1,{point:function(a,d){l.push(a=b(a,d));a[0]*=ka;a[1]*=ka}}),{type:"Polygon",coordinates:[l]}}var b,d,f=[0,0],l=6;return a.origin=function(b){return arguments.length?(f=b,a):f},a.angle=
function(f){return arguments.length?(d=oe((b=+f)*X,l*X),a):b},a.precision=function(f){return arguments.length?(d=oe(b*X,(l=+f)*X),a):l},a.angle(90)};u.geo.distance=function(a,b){var d,f=(b[0]-a[0])*X,l=a[1]*X,m=b[1]*X,e=Math.sin(f),f=Math.cos(f),g=Math.sin(l),l=Math.cos(l),k=Math.sin(m),m=Math.cos(m);return Math.atan2(Math.sqrt((d=m*e)*d+(d=l*k-g*m*f)*d),g*k+l*m*f)};u.geo.graticule=function(){function a(){return{type:"MultiLineString",coordinates:b()}}function b(){return u.range(Math.ceil(m/y)*y,
l,y).map(r).concat(u.range(Math.ceil(h/D)*D,k,D).map(t)).concat(u.range(Math.ceil(f/v)*v,d,v).filter(function(a){return Y(a%y)>Q}).map(q)).concat(u.range(Math.ceil(g/E)*E,e,E).filter(function(a){return Y(a%D)>Q}).map(p))}var d,f,l,m,e,g,k,h,q,p,r,t,v=10,E=v,y=90,D=360,x=2.5;return a.lines=function(){return b().map(function(a){return{type:"LineString",coordinates:a}})},a.outline=function(){return{type:"Polygon",coordinates:[r(m).concat(t(k).slice(1),r(l).reverse().slice(1),t(h).reverse().slice(1))]}},
a.extent=function(b){return arguments.length?a.majorExtent(b).minorExtent(b):a.minorExtent()},a.majorExtent=function(b){return arguments.length?(m=+b[0][0],l=+b[1][0],h=+b[0][1],k=+b[1][1],m>l&&(b=m,m=l,l=b),h>k&&(b=h,h=k,k=b),a.precision(x)):[[m,h],[l,k]]},a.minorExtent=function(b){return arguments.length?(f=+b[0][0],d=+b[1][0],g=+b[0][1],e=+b[1][1],f>d&&(b=f,f=d,d=b),g>e&&(b=g,g=e,e=b),a.precision(x)):[[f,g],[d,e]]},a.step=function(b){return arguments.length?a.majorStep(b).minorStep(b):a.minorStep()},
a.majorStep=function(b){return arguments.length?(y=+b[0],D=+b[1],a):[y,D]},a.minorStep=function(b){return arguments.length?(v=+b[0],E=+b[1],a):[v,E]},a.precision=function(b){return arguments.length?(x=+b,q=Af(g,e,90),p=Bf(f,d,x),r=Af(h,k,90),t=Bf(m,l,x),a):x},a.majorExtent([[-180,-90+Q],[180,90-Q]]).minorExtent([[-180,-80-Q],[180,80+Q]])};u.geo.greatArc=function(){function a(){return{type:"LineString",coordinates:[b||f.apply(this,arguments),d||l.apply(this,arguments)]}}var b,d,f=re,l=se;return a.distance=
function(){return u.geo.distance(b||f.apply(this,arguments),d||l.apply(this,arguments))},a.source=function(d){return arguments.length?(f=d,b="function"==typeof d?null:d,a):f},a.target=function(b){return arguments.length?(l=b,d="function"==typeof b?null:b,a):l},a.precision=function(){return arguments.length?a:0},a};u.geo.interpolate=function(a,b){return ah(a[0]*X,a[1]*X,b[0]*X,b[1]*X)};u.geo.length=function(a){return ae=0,u.geo.stream(a,Cc),ae};var ae,Cc={sphere:K,point:K,lineStart:function(){function a(a,
e){var g=Math.sin(e*=X),k=Math.cos(e),h=Y((a*=X)-b),q=Math.cos(h);ae+=Math.atan2(Math.sqrt((h=k*Math.sin(h))*h+(h=f*g-d*k*q)*h),d*g+f*k*q);b=a;d=g;f=k}var b,d,f;Cc.point=function(l,e){b=l*X;d=Math.sin(e*=X);f=Math.cos(e);Cc.point=a};Cc.lineEnd=function(){Cc.point=Cc.lineEnd=K}},lineEnd:K,polygonStart:K,polygonEnd:K},Kg=Yc(function(a){return Math.sqrt(2/(1+a))},function(a){return 2*Math.asin(a/2)});(u.geo.azimuthalEqualArea=function(){return vb(Kg)}).raw=Kg;var Lg=Yc(function(a){return(a=Math.acos(a))&&
a/Math.sin(a)},w);(u.geo.azimuthalEquidistant=function(){return vb(Lg)}).raw=Lg;(u.geo.conicConformal=function(){return k(Cf)}).raw=Cf;(u.geo.conicEquidistant=function(){return k(Df)}).raw=Df;var Mg=Yc(function(a){return 1/a},Math.atan);(u.geo.gnomonic=function(){return vb(Mg)}).raw=Mg;Cd.invert=function(a,b){return[a,2*Math.atan(Math.exp(b))-la]};(u.geo.mercator=function(){return Ef(Cd)}).raw=Cd;var Ng=Yc(function(){return 1},Math.asin);(u.geo.orthographic=function(){return vb(Ng)}).raw=Ng;var Og=
Yc(function(a){return 1/(1+a)},function(a){return 2*Math.atan(a)});(u.geo.stereographic=function(){return vb(Og)}).raw=Og;te.invert=function(a,b){return[-b,2*Math.atan(Math.exp(a))-la]};(u.geo.transverseMercator=function(){var a=Ef(te),b=a.center,d=a.rotate;return a.center=function(a){return a?b([-a[1],a[0]]):(a=b(),[a[1],-a[0]])},a.rotate=function(a){return a?d([a[0],a[1],2<a.length?a[2]+90:90]):(a=d(),[a[0],a[1],a[2]-90])},d([0,0,90])}).raw=te;u.geom={};u.geom.hull=function(a){function b(a){if(3>
a.length)return[];var b,e=ga(d),g=ga(f),k=a.length,h=[],q=[];for(b=0;k>b;b++)h.push([+e.call(this,a[b],b),+g.call(this,a[b],b),b]);h.sort(bh);for(b=0;k>b;b++)q.push([h[b][0],-h[b][1]]);var e=Ff(h),q=Ff(q),g=q[0]===e[0],k=q[q.length-1]===e[e.length-1],p=[];for(b=e.length-1;0<=b;--b)p.push(a[h[e[b]][2]]);for(b=+g;b<q.length-k;++b)p.push(a[h[q[b]][2]]);return p}var d=vc,f=Zc;return arguments.length?b(a):(b.x=function(a){return arguments.length?(d=a,b):d},b.y=function(a){return arguments.length?(f=a,
b):f},b)};u.geom.polygon=function(a){return hd(a,be),a};var be=u.geom.polygon.prototype=[];be.area=function(){for(var a,b=-1,d=this.length,f=this[d-1],l=0;++b<d;)a=f,f=this[b],l+=a[1]*f[0]-a[0]*f[1];return 0.5*l};be.centroid=function(a){var b,d,f=-1,l=this.length,e=0,g=0,k=this[l-1];for(arguments.length||(a=-1/(6*this.area()));++f<l;)b=k,k=this[f],d=b[0]*k[1]-k[0]*b[1],e+=(b[0]+k[0])*d,g+=(b[1]+k[1])*d;return[e*a,g*a]};be.clip=function(a){for(var b,d,f,l,e,g,k=Gf(a),h=-1,q=this.length-Gf(this),p=
this[q-1];++h<q;){b=a.slice();a.length=0;l=this[h];e=b[(f=b.length-k)-1];for(d=-1;++d<f;)g=b[d],ue(g,p,l)?(ue(e,p,l)||a.push(ve(e,g,p,l)),a.push(g)):ue(e,p,l)&&a.push(ve(e,g,p,l)),e=g;k&&a.push(a[0]);p=l}return a};var zc,Sb,xc,ye,$c,If=[],Mf=[];Kf.prototype.prepare=function(){for(var a,b=this.edges,d=b.length;d--;)a=b[d].edge,a.b&&a.a||b.splice(d,1);return b.sort(Lf),b.length};Fd.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===
this.site?this.edge.b:this.edge.a}};ze.prototype={insert:function(a,b){var d,f,l;if(a){if(b.P=a,b.N=a.N,a.N&&(a.N.P=b),a.N=b,a.R){for(a=a.R;a.L;)a=a.L;a.L=b}else a.R=b;d=a}else this._?(a=Of(this._),b.P=null,b.N=a,a.P=a.L=b,d=a):(b.P=b.N=null,this._=b,d=null);b.L=b.R=null;b.U=d;b.C=!0;for(a=b;d&&d.C;)f=d.U,d===f.L?(l=f.R,l&&l.C?(d.C=l.C=!1,f.C=!0,a=f):(a===d.R&&(bd(this,d),a=d,d=a.U),d.C=!1,f.C=!0,cd(this,f))):(l=f.L,l&&l.C?(d.C=l.C=!1,f.C=!0,a=f):(a===d.L&&(cd(this,d),a=d,d=a.U),d.C=!1,f.C=!0,bd(this,
f))),d=a.U;this._.C=!1},remove:function(a){a.N&&(a.N.P=a.P);a.P&&(a.P.N=a.N);a.N=a.P=null;var b,d,f,l=a.U,e=a.L,g=a.R;if(d=e?g?Of(g):e:g,l?l.L===a?l.L=d:l.R=d:this._=d,e&&g?(f=d.C,d.C=a.C,d.L=e,e.U=d,d!==g?(l=d.U,d.U=a.U,a=d.R,l.L=a,d.R=g,g.U=d):(d.U=l,l=d,a=d.R)):(f=a.C,a=d),a&&(a.U=l),!f){if(a&&a.C)return void(a.C=!1);do{if(a===this._)break;if(a===l.L){if(b=l.R,b.C&&(b.C=!1,l.C=!0,bd(this,l),b=l.R),b.L&&b.L.C||b.R&&b.R.C){b.R&&b.R.C||(b.L.C=!1,b.C=!0,cd(this,b),b=l.R);b.C=l.C;l.C=b.R.C=!1;bd(this,
l);a=this._;break}}else if(b=l.L,b.C&&(b.C=!1,l.C=!0,cd(this,l),b=l.L),b.L&&b.L.C||b.R&&b.R.C){b.L&&b.L.C||(b.R.C=!1,b.C=!0,bd(this,b),b=l.L);b.C=l.C;l.C=b.L.C=!1;cd(this,l);a=this._;break}b.C=!0;a=l;l=l.U}while(!a.C);a&&(a.C=!1)}}};u.geom.voronoi=function(a){function b(a){var b=Array(a.length),f=k[0][0],l=k[0][1],e=k[1][0],m=k[1][1];return Ae(d(a),k).cells.forEach(function(d,g){var k=d.edges,h=d.site;(b[g]=k.length?k.map(function(a){a=a.start();return[a.x,a.y]}):h.x>=f&&h.x<=e&&h.y>=l&&h.y<=m?[[f,
m],[e,m],[e,l],[f,l]]:[]).point=a[g]}),b}function d(a){return a.map(function(a,b){return{x:Math.round(e(a,b)/Q)*Q,y:Math.round(g(a,b)/Q)*Q,i:b}})}var f=vc,l=Zc,e=f,g=l,k=ce;return a?b(a):(b.links=function(a){return Ae(d(a)).edges.filter(function(a){return a.l&&a.r}).map(function(b){return{source:a[b.l.i],target:a[b.r.i]}})},b.triangles=function(a){var b=[];return Ae(d(a)).cells.forEach(function(d,f){for(var l,e=d.site,m=d.edges.sort(Lf),g=-1,k=m.length,h=m[k-1].edge,h=h.l===e?h.r:h.l;++g<k;)l=h,h=
m[g].edge,h=h.l===e?h.r:h.l,f<l.i&&f<h.i&&0>(e.x-h.x)*(l.y-e.y)-(e.x-l.x)*(h.y-e.y)&&b.push([a[f],a[l.i],a[h.i]])}),b},b.x=function(a){return arguments.length?(e=ga(f=a),b):f},b.y=function(a){return arguments.length?(g=ga(l=a),b):l},b.clipExtent=function(a){return arguments.length?(k=null==a?ce:a,b):k===ce?null:k},b.size=function(a){return arguments.length?b.clipExtent(a&&[[0,0],a]):k===ce?null:k&&k[1]},b)};var ce=[[-1E6,-1E6],[1E6,1E6]];u.geom.delaunay=function(a){return u.geom.voronoi().triangles(a)};
u.geom.quadtree=function(a,b,d,f,l){function e(a){function m(a,b,d,f,l,e,g,k){if(!isNaN(d)&&!isNaN(f))if(a.leaf){var h=a.x,p=a.y;if(null!=h){if(!(0.01>Y(h-d)+Y(p-f))){var r=a.point;a.x=a.y=a.point=null;q(a,r,h,p,l,e,g,k)}q(a,b,d,f,l,e,g,k)}else a.x=d,a.y=f,a.point=b}else q(a,b,d,f,l,e,g,k)}function q(a,b,d,f,l,e,g,k){var h=0.5*(l+g),p=0.5*(e+k),r=d>=h,z=f>=p,u=z<<1|r;a.leaf=!1;a=a.nodes[u]||(a.nodes[u]=Pf());r?l=h:g=h;z?e=p:k=p;m(a,b,d,f,l,e,g,k)}var p,r,u,t,v,y,E,D,x,L=ga(k),s=ga(h);if(null!=b)y=
b,E=d,D=f,x=l;else if(D=x=-(y=E=1/0),r=[],u=[],v=a.length,g)for(t=0;v>t;++t)p=a[t],p.x<y&&(y=p.x),p.y<E&&(E=p.y),p.x>D&&(D=p.x),p.y>x&&(x=p.y),r.push(p.x),u.push(p.y);else for(t=0;v>t;++t){var w=+L(p=a[t],t);p=+s(p,t);y>w&&(y=w);E>p&&(E=p);w>D&&(D=w);p>x&&(x=p);r.push(w);u.push(p)}w=D-y;p=x-E;w>p?x=E+w:D=y+p;var ba=Pf();if(ba.add=function(a){m(ba,a,+L(a,++t),+s(a,t),y,E,D,x)},ba.visit=function(a){dd(a,ba,y,E,D,x)},ba.find=function(a){return jh(ba,a[0],a[1],y,E,D,x)},t=-1,null==b){for(;++t<v;)m(ba,
a[t],r[t],u[t],y,E,D,x);--t}else a.forEach(ba.add);return r=u=a=p=null,ba}var g,k=vc,h=Zc;return(g=arguments.length)?(k=hh,h=ih,3===g&&(l=d,f=b,d=b=0),e(a)):(e.x=function(a){return arguments.length?(k=a,e):k},e.y=function(a){return arguments.length?(h=a,e):h},e.extent=function(a){return arguments.length?(null==a?b=d=f=l=null:(b=+a[0][0],d=+a[0][1],f=+a[1][0],l=+a[1][1]),e):null==b?null:[[b,d],[f,l]]},e.size=function(a){return arguments.length?(null==a?b=d=f=l=null:(b=d=0,f=+a[0],l=+a[1]),e):null==
b?null:[f-b,l-d]},e)};u.interpolateRgb=Be;u.interpolateObject=Qf;u.interpolateNumber=ib;u.interpolateString=Rf;var Ce=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,De=RegExp(Ce.source,"g");u.interpolate=Tb;u.interpolators=[function(a,b){var d=typeof b;return("string"===d?ld.has(b.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(b)?Be:Rf:b instanceof Xa?Be:Array.isArray(b)?Gd:"object"===d&&isNaN(b)?Qf:ib)(a,b)}];u.interpolateArray=Gd;var Pg=function(){return w},qi=u.map({linear:Pg,poly:function(a){return function(b){return Math.pow(b,
a)}},quad:function(){return lh},cubic:function(){return mh},sin:function(){return oh},exp:function(){return ph},circle:function(){return qh},elastic:function(a,b){var d;return 2>arguments.length&&(b=0.45),arguments.length?d=b/Ha*Math.asin(1/a):(a=1,d=b/4),function(f){return 1+a*Math.pow(2,-10*f)*Math.sin((f-d)*Ha/b)}},back:function(a){return a||(a=1.70158),function(b){return b*b*((a+1)*b-a)}},bounce:function(){return rh}}),ri=u.map({"in":w,out:Sf,"in-out":Tf,"out-in":function(a){return Tf(Sf(a))}});
u.ease=function(a){var b=a.indexOf("-"),d=0<=b?a.slice(0,b):a,b=0<=b?a.slice(b+1):"in";return d=qi.get(d)||Pg,b=ri.get(b)||w,kh(b(d.apply(null,Eg.call(arguments,1))))};u.interpolateHcl=function(a,b){a=u.hcl(a);b=u.hcl(b);var d=a.h,f=a.c,l=a.l,e=b.h-d,g=b.c-f,k=b.l-l;return isNaN(g)&&(g=0,f=isNaN(f)?b.c:f),isNaN(e)?(e=0,d=isNaN(d)?b.h:d):180<e?e-=360:-180>e&&(e+=360),function(a){return Fb(d+e*a,f+g*a,l+k*a)+""}};u.interpolateHsl=function(a,b){a=u.hsl(a);b=u.hsl(b);var d=a.h,f=a.s,l=a.l,e=b.h-d,g=b.s-
f,k=b.l-l;return isNaN(g)&&(g=0,f=isNaN(f)?b.s:f),isNaN(e)?(e=0,d=isNaN(d)?b.h:d):180<e?e-=360:-180>e&&(e+=360),function(a){return jc(d+e*a,f+g*a,l+k*a)+""}};u.interpolateLab=function(a,b){a=u.lab(a);b=u.lab(b);var d=a.l,f=a.a,e=a.b,m=b.l-d,g=b.a-f,k=b.b-e;return function(a){return lc(d+m*a,f+g*a,e+k*a)+""}};u.interpolateRound=Uf;u.transform=function(a){var b=ya.createElementNS(u.ns.prefix.svg,"g");return(u.transform=function(a){if(null!=a){b.setAttribute("transform",a);var f=b.transform.baseVal.consolidate()}return new Vf(f?
f.matrix:si)})(a)};Vf.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var si={a:1,b:0,c:0,d:1,e:0,f:0};u.interpolateTransform=Xf;u.layout={};u.layout.bundle=function(){return function(a){for(var b=[],d=-1,f=a.length;++d<f;)b.push(uh(a[d]));return b}};u.layout.chord=function(){function a(){var a,q,r,t,v,y={},E=[],N=u.range(m),D=[];d=[];f=[];a=0;for(t=-1;++t<m;){q=0;for(v=-1;++v<m;)q+=e[t][v];E.push(q);D.push(u.range(m));
a+=q}g&&N.sort(function(a,b){return g(E[a],E[b])});k&&D.forEach(function(a,b){a.sort(function(a,d){return k(e[b][a],e[b][d])})});a=(Ha-p*m)/a;q=0;for(t=-1;++t<m;){r=q;for(v=-1;++v<m;){var x=N[t],L=D[x][v],s=e[x][L],w=q,ba=q+=s*a;y[x+"-"+L]={index:x,subindex:L,startAngle:w,endAngle:ba,value:s}}f[x]={index:x,startAngle:r,endAngle:q,value:(q-r)/a};q+=p}for(t=-1;++t<m;)for(v=t-1;++v<m;)a=y[t+"-"+v],q=y[v+"-"+t],(a.value||q.value)&&d.push(a.value<q.value?{source:q,target:a}:{source:a,target:q});h&&b()}
function b(){d.sort(function(a,b){return h((a.source.value+a.target.value)/2,(b.source.value+b.target.value)/2)})}var d,f,e,m,g,k,h,q={},p=0;return q.matrix=function(a){return arguments.length?(m=(e=a)&&e.length,d=f=null,q):e},q.padding=function(a){return arguments.length?(p=a,d=f=null,q):p},q.sortGroups=function(a){return arguments.length?(g=a,d=f=null,q):g},q.sortSubgroups=function(a){return arguments.length?(k=a,d=null,q):k},q.sortChords=function(a){return arguments.length?(h=a,d&&b(),q):h},q.chords=
function(){return d||a(),d},q.groups=function(){return f||a(),f},q};u.layout.force=function(){function a(a){return function(b,d,f,e){if(b.point!==a){f=b.cx-a.x;var l=b.cy-a.y;d=e-d;e=f*f+l*l;if(e>d*d/D)return y>e&&(d=b.charge/e,a.px-=f*d,a.py-=l*d),!0;b.point&&(e&&y>e)&&(d=b.pointCharge/e,a.px-=f*d,a.py-=l*d)}return!b.charge}}function b(a){a.px=u.event.x;a.py=u.event.y;k.resume()}var d,f,e,m,g,k={},h=u.dispatch("start","tick","end"),q=[1,1],p=0.9,r=ti,t=ui,v=-30,y=vi,E=0.1,D=0.64,x=[],L=[];return k.tick=
function(){if(0.005>(f*=0.99))return h.end({type:"end",alpha:f=0}),!0;var b,d,k,r,z,t,y,D,s=x.length,w=L.length;for(d=0;w>d;++d)k=L[d],b=k.source,r=k.target,y=r.x-b.x,D=r.y-b.y,(z=y*y+D*D)&&(z=f*m[d]*((z=Math.sqrt(z))-e[d])/z,y*=z,D*=z,r.x-=y*(t=b.weight/(r.weight+b.weight)),r.y-=D*t,b.x+=y*(t=1-t),b.y+=D*t);if((t=f*E)&&(y=q[0]/2,D=q[1]/2,d=-1,t))for(;++d<s;)k=x[d],k.x+=(y-k.x)*t,k.y+=(D-k.y)*t;if(v)for(Zf(b=u.geom.quadtree(x),f,g),d=-1;++d<s;)(k=x[d]).fixed||b.visit(a(k));for(d=-1;++d<s;)k=x[d],
k.fixed?(k.x=k.px,k.y=k.py):(k.x-=(k.px-(k.px=k.x))*p,k.y-=(k.py-(k.py=k.y))*p);h.tick({type:"tick",alpha:f})},k.nodes=function(a){return arguments.length?(x=a,k):x},k.links=function(a){return arguments.length?(L=a,k):L},k.size=function(a){return arguments.length?(q=a,k):q},k.linkDistance=function(a){return arguments.length?(r="function"==typeof a?a:+a,k):r},k.distance=k.linkDistance,k.linkStrength=function(a){return arguments.length?(t="function"==typeof a?a:+a,k):t},k.friction=function(a){return arguments.length?
(p=+a,k):p},k.charge=function(a){return arguments.length?(v="function"==typeof a?a:+a,k):v},k.chargeDistance=function(a){return arguments.length?(y=a*a,k):Math.sqrt(y)},k.gravity=function(a){return arguments.length?(E=+a,k):E},k.theta=function(a){return arguments.length?(D=a*a,k):Math.sqrt(D)},k.alpha=function(a){return arguments.length?(a=+a,f?f=0<a?a:0:0<a&&(h.start({type:"start",alpha:f=a}),u.timer(k.tick)),k):f},k.start=function(){function a(f,e){if(!d){d=Array(h);for(g=0;h>g;++g)d[g]=[];for(g=
0;p>g;++g){var l=L[g];d[l.source.index].push(l.target);d[l.target.index].push(l.source)}}for(var m=d[b],g=-1,k=m.length;++g<k;)if(!isNaN(l=m[g][f]))return l;return Math.random()*e}var b,d,f,h=x.length,p=L.length,u=q[0],y=q[1];for(b=0;h>b;++b)(f=x[b]).index=b,f.weight=0;for(b=0;p>b;++b)f=L[b],"number"==typeof f.source&&(f.source=x[f.source]),"number"==typeof f.target&&(f.target=x[f.target]),++f.source.weight,++f.target.weight;for(b=0;h>b;++b)f=x[b],isNaN(f.x)&&(f.x=a("x",u)),isNaN(f.y)&&(f.y=a("y",
y)),isNaN(f.px)&&(f.px=f.x),isNaN(f.py)&&(f.py=f.y);if(e=[],"function"==typeof r)for(b=0;p>b;++b)e[b]=+r.call(this,L[b],b);else for(b=0;p>b;++b)e[b]=r;if(m=[],"function"==typeof t)for(b=0;p>b;++b)m[b]=+t.call(this,L[b],b);else for(b=0;p>b;++b)m[b]=t;if(g=[],"function"==typeof v)for(b=0;h>b;++b)g[b]=+v.call(this,x[b],b);else for(b=0;h>b;++b)g[b]=v;return k.resume()},k.resume=function(){return k.alpha(0.1)},k.stop=function(){return k.alpha(0)},k.drag=function(){return d||(d=u.behavior.drag().origin(w).on("dragstart.force",
vh).on("drag.force",b).on("dragend.force",wh)),arguments.length?void this.on("mouseover.force",xh).on("mouseout.force",yh).call(d):d},u.rebind(k,h,"on")};var ti=20,ui=1,vi=1/0;u.layout.hierarchy=function(){function a(e){var m,g=[e],k=[];for(e.depth=0;null!=(m=g.pop());)if(k.push(m),(q=d.call(a,m,m.depth))&&(h=q.length)){for(var h,q,p;0<=--h;)g.push(p=q[h]),p.parent=m,p.depth=m.depth+1;f&&(m.value=0);m.children=q}else f&&(m.value=+f.call(a,m,m.depth)||0),delete m.children;return bb(e,function(a){var d,
e;b&&(d=a.children)&&d.sort(b);f&&(e=a.parent)&&(e.value+=a.value)}),k}var b=Ch,d=Ah,f=Bh;return a.sort=function(d){return arguments.length?(b=d,a):b},a.children=function(b){return arguments.length?(d=b,a):d},a.value=function(b){return arguments.length?(f=b,a):f},a.revalue=function(b){return f&&(fd(b,function(a){a.children&&(a.value=0)}),bb(b,function(b){var d;b.children||(b.value=+f.call(a,b,b.depth)||0);(d=b.parent)&&(d.value+=b.value)})),b},a};u.layout.partition=function(){function a(b,d,f,e){var l=
b.children;if(b.x=d,b.y=b.depth*e,b.dx=f,b.dy=e,l&&(g=l.length)){var g,k,h=-1;for(f=b.value?f/b.value:0;++h<g;)a(k=l[h],d,b=k.value*f,e),d+=b}}function b(a){a=a.children;var d=0;if(a&&(f=a.length))for(var f,e=-1;++e<f;)d=Math.max(d,b(a[e]));return 1+d}function d(d,g){var k=f.call(this,d,g);return a(k[0],0,e[0],e[1]/b(k[0])),k}var f=u.layout.hierarchy(),e=[1,1];return d.size=function(a){return arguments.length?(e=a,d):e},ed(d,f)};u.layout.pie=function(){function a(k){var h,q=k.length,p=k.map(function(d,
f){return+b.call(a,d,f)}),r=+("function"==typeof f?f.apply(this,arguments):f),t=("function"==typeof e?e.apply(this,arguments):e)-r,v=Math.min(Math.abs(t)/q,+("function"==typeof g?g.apply(this,arguments):g)),y=v*(0>t?-1:1),E=(t-q*y)/u.sum(p),q=u.range(q),D=[];return null!=d&&q.sort(d===Qg?function(a,b){return p[b]-p[a]}:function(a,b){return d(k[a],k[b])}),q.forEach(function(a){D[a]={data:k[a],value:h=p[a],startAngle:r,endAngle:r+=h*E+y,padAngle:v}}),D}var b=Number,d=Qg,f=0,e=Ha,g=0;return a.value=
function(d){return arguments.length?(b=d,a):b},a.sort=function(b){return arguments.length?(d=b,a):d},a.startAngle=function(b){return arguments.length?(f=b,a):f},a.endAngle=function(b){return arguments.length?(e=b,a):e},a.padAngle=function(b){return arguments.length?(g=b,a):g},a};var Qg={};u.layout.stack=function(){function a(h,q){if(!(v=h.length))return h;var p=h.map(function(d,f){return b.call(a,d,f)}),r=p.map(function(b){return b.map(function(b,d){return[g.call(a,b,d),k.call(a,b,d)]})}),t=d.call(a,
r,q),p=u.permute(p,t),r=u.permute(r,t),v,y,E,D=f.call(a,r,q),x=p[0].length;for(y=0;x>y;++y)for(e.call(a,p[0][y],E=D[y],r[0][y][1]),t=1;v>t;++t)e.call(a,p[t][y],E+=r[t-1][y][1],r[t][y][1]);return h}var b=w,d=Ee,f=Fe,e=Fh,g=Dh,k=Eh;return a.values=function(d){return arguments.length?(b=d,a):b},a.order=function(b){return arguments.length?(d="function"==typeof b?b:wi.get(b)||Ee,a):d},a.offset=function(b){return arguments.length?(f="function"==typeof b?b:xi.get(b)||Fe,a):f},a.x=function(b){return arguments.length?
(g=b,a):g},a.y=function(b){return arguments.length?(k=b,a):k},a.out=function(b){return arguments.length?(e=b,a):e},a};var wi=u.map({"inside-out":function(a){var b,d=a.length,f=a.map(Gh),e=a.map(Hh),g=u.range(d).sort(function(a,b){return f[a]-f[b]}),k=0,h=0,q=[],p=[];for(a=0;d>a;++a)b=g[a],h>k?(k+=e[b],q.push(b)):(h+=e[b],p.push(b));return p.reverse().concat(q)},reverse:function(a){return u.range(a.length).reverse()},"default":Ee}),xi=u.map({silhouette:function(a){var b,d,f,e=a.length,g=a[0].length,
k=[],h=0,q=[];for(d=0;g>d;++d){for(f=b=0;e>b;b++)f+=a[b][d][1];f>h&&(h=f);k.push(f)}for(d=0;g>d;++d)q[d]=(h-k[d])/2;return q},wiggle:function(a){var b,d,f,e,g,k,h,q,p,r=a.length,t=a[0],u=t.length,v=[];v[0]=q=p=0;for(d=1;u>d;++d){for(e=b=0;r>b;++b)e+=a[b][d][1];g=b=0;for(h=t[d][0]-t[d-1][0];r>b;++b){f=0;for(k=(a[b][d][1]-a[b][d-1][1])/(2*h);b>f;++f)k+=(a[f][d][1]-a[f][d-1][1])/h;g+=k*a[b][d][1]}v[d]=q-=e?g/e*h:0;p>q&&(p=q)}for(d=0;u>d;++d)v[d]-=p;return v},expand:function(a){var b,d,f,e=a.length,g=
a[0].length,k=1/e,h=[];for(d=0;g>d;++d){for(f=b=0;e>b;b++)f+=a[b][d][1];if(f)for(b=0;e>b;b++)a[b][d][1]/=f;else for(b=0;e>b;b++)a[b][d][1]=k}for(d=0;g>d;++d)h[d]=0;return h},zero:Fe});u.layout.histogram=function(){function a(a,g){var k,h,q=[],p=a.map(d,this),r=f.call(this,p,g),t=e.call(this,r,p,g);g=-1;for(var v=p.length,y=t.length-1,E=b?1:1/v;++g<y;)k=q[g]=[],k.dx=t[g+1]-(k.x=t[g]),k.y=0;if(0<y)for(g=-1;++g<v;)h=p[g],h>=r[0]&&h<=r[1]&&(k=q[u.bisect(t,h,1,y)-1],k.y+=E,k.push(a[g]));return q}var b=
!0,d=Number,f=Kh,e=Jh;return a.value=function(b){return arguments.length?(d=b,a):d},a.range=function(b){return arguments.length?(f=ga(b),a):f},a.bins=function(b){return arguments.length?(e="number"==typeof b?function(a){return $f(a,b)}:ga(b),a):e},a.frequency=function(d){return arguments.length?(b=!!d,a):b},a};u.layout.pack=function(){function a(a,g){var k=d.call(this,a,g),h=k[0],q=e[0],p=e[1],r=null==b?Math.sqrt:"function"==typeof b?b:function(){return b};if(h.x=h.y=0,bb(h,function(a){a.r=+r(a.value)}),
bb(h,cg),f){var t=f*(b?1:Math.max(2*h.r/q,2*h.r/p))/2;bb(h,function(a){a.r+=t});bb(h,cg);bb(h,function(a){a.r-=t})}return eg(h,q/2,p/2,b?1:1/Math.max(2*h.r/q,2*h.r/p)),k}var b,d=u.layout.hierarchy().sort(Lh),f=0,e=[1,1];return a.size=function(b){return arguments.length?(e=b,a):e},a.radius=function(d){return arguments.length?(b=null==d||"function"==typeof d?d:+d,a):b},a.padding=function(b){return arguments.length?(f=+b,a):f},ed(a,d)};u.layout.tree=function(){function a(a,p){var r=g.call(this,a,p),
t=r[0],u=b(t);if(bb(u,d),u.parent.m=-u.z,fd(u,f),q)fd(t,e);else{var v=t,y=t,E=t;fd(t,function(a){a.x<v.x&&(v=a);a.x>y.x&&(y=a);a.depth>E.depth&&(E=a)});var D=k(v,y)/2-v.x,x=h[0]/(y.x+k(y,v)/2+D),L=h[1]/(E.depth||1);fd(t,function(a){a.x=(a.x+D)*x;a.y=a.depth*L})}return r}function b(a){for(var b={A:null,children:[a]},d=[b];null!=(a=d.pop());)for(var f,e=a.children,l=0,g=e.length;g>l;++l)d.push((e[l]=f={_:e[l],parent:a,children:(f=e[l].children)&&f.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:l}).a=
f);return b.children[0]}function d(a){var b=a.children,d=a.parent.children,f=a.i?d[a.i-1]:null;if(b.length){for(var e,l=0,g=0,m=a.children,h=m.length;0<=--h;)e=m[h],e.z+=l,e.m+=l,l+=e.s+(g+=e.c);b=(b[0].z+b[b.length-1].z)/2;f?(a.z=f.z+k(a._,f._),a.m=a.z-b):a.z=b}else f&&(a.z=f.z+k(a._,f._));b=a.parent;d=a.parent.A||d[0];if(f){for(var l=e=a,g=f,m=e.parent.children[0],h=e.m,q=l.m,p=g.m,r=m.m;g=Ie(g),e=He(e),g&&e;){m=He(m);l=Ie(l);l.a=a;f=g.z+p-e.z-h+k(g._,e._);if(0<f){var t=g.a.parent===a.parent?g.a:
d,u=a,v=f,z=v/(u.i-t.i);u.c-=z;u.s+=v;t.c+=z;u.z+=v;u.m+=v;h+=f;q+=f}p+=g.m;h+=e.m;r+=m.m;q+=l.m}g&&!Ie(l)&&(l.t=g,l.m+=p-q);e&&!He(m)&&(m.t=e,m.m+=h-r,d=a)}b.A=d}function f(a){a._.x=a.z+a.parent.m;a.m+=a.parent.m}function e(a){a.x*=h[0];a.y=a.depth*h[1]}var g=u.layout.hierarchy().sort(null).value(null),k=fg,h=[1,1],q=null;return a.separation=function(b){return arguments.length?(k=b,a):k},a.size=function(b){return arguments.length?(q=null==(h=b)?e:null,a):q?null:h},a.nodeSize=function(b){return arguments.length?
(q=null==(h=b)?null:e,a):q?h:null},ed(a,g)};u.layout.cluster=function(){function a(a,g){var k,h=b.call(this,a,g),q=h[0],p=0;bb(q,function(a){var b=a.children;b&&b.length?(a.x=Ph(b),a.y=Oh(b)):(a.x=k?p+=d(a,k):0,a.y=0,k=a)});var r=gg(q),t=hg(q),u=r.x-d(r,t)/2,v=t.x+d(t,r)/2;return bb(q,e?function(a){a.x=(a.x-q.x)*f[0];a.y=(q.y-a.y)*f[1]}:function(a){a.x=(a.x-u)/(v-u)*f[0];a.y=(1-(q.y?a.y/q.y:1))*f[1]}),h}var b=u.layout.hierarchy().sort(null).value(null),d=fg,f=[1,1],e=!1;return a.separation=function(b){return arguments.length?
(d=b,a):d},a.size=function(b){return arguments.length?(e=null==(f=b),a):e?null:f},a.nodeSize=function(b){return arguments.length?(e=null!=(f=b),a):e?f:null},ed(a,b)};u.layout.treemap=function(){function a(a,b){for(var d,f,e=-1,l=a.length;++e<l;)f=(d=a[e]).value*(0>b?0:b),d.area=isNaN(f)||0>=f?0:f}function b(d){var e=d.children;if(e&&e.length){var l,g=r(d),k=[],m=e.slice(),h=1/0,q="slice"===v?g.dx:"dice"===v?g.dy:"slice-dice"===v?1&d.depth?g.dy:g.dx:Math.min(g.dx,g.dy);a(m,g.dx*g.dy/d.value);for(k.area=
0;0<(d=m.length);){k.push(d=m[d-1]);k.area+=d.area;var p;if(!(p="squarify"!==v)){d=q;l=void 0;var t=k.area;p=0;for(var u=1/0,z=-1,E=k.length;++z<E;)(l=k[z].area)&&(u>l&&(u=l),l>p&&(p=l));p=(l=(t*=t,d*=d,t?Math.max(d*p*y/t,t/(d*u*y)):1/0))<=h}p?(m.pop(),h=l):(k.area-=k.pop().area,f(k,q,g,!1),q=Math.min(g.dx,g.dy),k.length=k.area=0,h=1/0)}k.length&&(f(k,q,g,!0),k.length=k.area=0);e.forEach(b)}}function d(b){var e=b.children;if(e&&e.length){var l=r(b),g=e.slice(),k=[];a(g,l.dx*l.dy/b.value);for(k.area=
0;b=g.pop();)k.push(b),k.area+=b.area,null!=b.z&&(f(k,b.z?l.dx:l.dy,l,!g.length),k.length=k.area=0);e.forEach(d)}}function f(a,b,d,f){var e,l=-1,g=a.length,k=d.x,m=d.y,q=b?h(a.area/b):0;if(b==d.dx){for((f||q>d.dy)&&(q=d.dy);++l<g;)e=a[l],e.x=k,e.y=m,e.dy=q,k+=e.dx=Math.min(d.x+d.dx-k,q?h(e.area/q):0);e.z=!0;e.dx+=d.x+d.dx-k;d.y+=q;d.dy-=q}else{for((f||q>d.dx)&&(q=d.dx);++l<g;)e=a[l],e.x=k,e.y=m,e.dx=q,m+=e.dy=Math.min(d.y+d.dy-m,q?h(e.area/q):0);e.z=!1;e.dy+=d.y+d.dy-m;d.x+=q;d.dx-=q}}function e(f){f=
g||k(f);var l=f[0];return l.x=0,l.y=0,l.dx=q[0],l.dy=q[1],g&&k.revalue(l),a([l],l.dx*l.dy/l.value),(g?d:b)(l),t&&(g=f),f}var g,k=u.layout.hierarchy(),h=Math.round,q=[1,1],p=null,r=Je,t=!1,v="squarify",y=0.5*(1+Math.sqrt(5));return e.size=function(a){return arguments.length?(q=a,e):q},e.padding=function(a){function b(d){var f=a.call(e,d,d.depth);return null==f?Je(d):ig(d,"number"==typeof f?[f,f,f,f]:f)}function d(b){return ig(b,a)}if(!arguments.length)return p;var f;return r=null==(p=a)?Je:"function"==
(f=typeof a)?b:"number"===f?(a=[a,a,a,a],d):d,e},e.round=function(a){return arguments.length?(h=a?Math.round:Number,e):h!=Number},e.sticky=function(a){return arguments.length?(t=a,g=null,e):t},e.ratio=function(a){return arguments.length?(y=a,e):y},e.mode=function(a){return arguments.length?(v=a+"",e):v},ed(e,k)};u.random={normal:function(a,b){var d=arguments.length;return 2>d&&(b=1),1>d&&(a=0),function(){var d,e;do d=2*Math.random()-1,e=2*Math.random()-1,e=d*d+e*e;while(!e||1<e);return a+b*d*Math.sqrt(-2*
Math.log(e)/e)}},logNormal:function(){var a=u.random.normal.apply(u,arguments);return function(){return Math.exp(a())}},bates:function(a){var b=u.random.irwinHall(a);return function(){return b()/a}},irwinHall:function(a){return function(){for(var b=0,d=0;a>d;d++)b+=Math.random();return b}}};u.scale={};var Rh={floor:w,ceil:w};u.scale.linear=function(){return kg([0,1],[0,1],Tb,!1)};var Uh={s:1,g:1,p:1,r:1,e:1};u.scale.log=function(){return lg(u.scale.linear().domain([0,1]),10,!0,[1,10])};var mg=u.format(".0e"),
Vh={floor:function(a){return-Math.ceil(-a)},ceil:function(a){return-Math.floor(-a)}};u.scale.pow=function(){return ng(u.scale.linear(),1,[0,1])};u.scale.sqrt=function(){return u.scale.pow().exponent(0.5)};u.scale.ordinal=function(){return og([],{t:"range",a:[[]]})};u.scale.category10=function(){return u.scale.ordinal().range(yi)};u.scale.category20=function(){return u.scale.ordinal().range(zi)};u.scale.category20b=function(){return u.scale.ordinal().range(Ai)};u.scale.category20c=function(){return u.scale.ordinal().range(Bi)};
var yi=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(lb),zi=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(lb),Ai=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(lb),Bi=[3244733,7057110,10406625,
13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(lb);u.scale.quantile=function(){return pg([],[])};u.scale.quantize=function(){return qg(0,1,[0,1])};u.scale.threshold=function(){return rg([0.5],[0,1])};u.scale.identity=function(){return sg([0,1])};u.svg={};u.svg.arc=function(){function a(){var a=Math.max(0,+d.apply(this,arguments)),p=Math.max(0,+f.apply(this,arguments)),r=k.apply(this,arguments)-
la,t=h.apply(this,arguments)-la,u=Math.abs(t-r),v=r>t?0:1;if(a>p&&(y=p,p=a,a=y),u>=ni)return b(p,v)+(a?b(a,1-v):"")+"Z";var y,E,D,x,L,s,w,ba,A,B;w=y=0;u=[];((x=(+q.apply(this,arguments)||0)/2)&&(D=g===de?Math.sqrt(a*a+p*p):+g.apply(this,arguments),v||(w*=-1),p&&(w=Sa(D/p*Math.sin(x))),a&&(y=Sa(D/a*Math.sin(x)))),p)?(D=p*Math.cos(r+w),x=p*Math.sin(r+w),L=p*Math.cos(t-w),s=p*Math.sin(t-w),E=Math.abs(t-r-2*w)<=W?0:1,w&&(0<(D-L)*x-(x-s)*D?0:1)===v^E&&(L=(r+t)/2,D=p*Math.cos(L),x=p*Math.sin(L),L=s=null)):
D=x=0;if(a){w=a*Math.cos(t-y);ba=a*Math.sin(t-y);A=a*Math.cos(r+y);B=a*Math.sin(r+y);var J=Math.abs(r-t+2*y)<=W?0:1;y&&(0<(w-A)*ba-(ba-B)*w?0:1)===1-v^J&&(A=(r+t)/2,w=a*Math.cos(A),ba=a*Math.sin(A),A=B=null)}else w=ba=0;if(0.001<(y=Math.min(Math.abs(p-a)/2,+e.apply(this,arguments)))){E=p>a^v?0:1;var J=null==A?[w,ba]:null==L?[D,x]:ve([D,x],[A,B],[L,s],[w,ba]),r=D-J[0],t=x-J[1],K=L-J[0],oa=s-J[1],r=1/Math.sin(Math.acos((r*K+t*oa)/(Math.sqrt(r*r+t*t)*Math.sqrt(K*K+oa*oa)))/2),J=Math.sqrt(J[0]*J[0]+J[1]*
J[1]);null!=L?(t=Math.min(y,(p-J)/(r+1)),K=Ld(null==A?[w,ba]:[A,B],[D,x],p,t,v),oa=Ld([L,s],[w,ba],p,t,v),y===t?u.push("M",K[0],"A",t,",",t," 0 0,",E," ",K[1],"A",p,",",p," 0 ",1-v^(0<(K[1][0]-oa[1][0])*K[1][1]-(K[1][1]-oa[1][1])*K[1][0]?0:1),",",v," ",oa[1],"A",t,",",t," 0 0,",E," ",oa[0]):u.push("M",K[0],"A",t,",",t," 0 1,",E," ",oa[0])):u.push("M",D,",",x);null!=A?(p=Math.min(y,(a-J)/(r-1)),A=Ld([D,x],[A,B],a,-p,v),L=Ld([w,ba],null==L?[D,x]:[L,s],a,-p,v),y===p?u.push("L",L[0],"A",p,",",p," 0 0,",
E," ",L[1],"A",a,",",a," 0 ",v^(0<(L[1][0]-A[1][0])*L[1][1]-(L[1][1]-A[1][1])*L[1][0]?0:1),",",1-v," ",A[1],"A",p,",",p," 0 0,",E," ",A[0]):u.push("L",L[0],"A",p,",",p," 0 0,",E," ",A[0])):u.push("L",w,",",ba)}else u.push("M",D,",",x),null!=L&&u.push("A",p,",",p," 0 ",E,",",v," ",L,",",s),u.push("L",w,",",ba),null!=A&&u.push("A",a,",",a," 0 ",J,",",1-v," ",A,",",B);return u.push("Z"),u.join("")}function b(a,b){return"M0,"+a+"A"+a+","+a+" 0 1,"+b+" 0,"+-a+"A"+a+","+a+" 0 1,"+b+" 0,"+a}var d=Xh,f=Yh,
e=Wh,g=de,k=tg,h=ug,q=Zh;return a.innerRadius=function(b){return arguments.length?(d=ga(b),a):d},a.outerRadius=function(b){return arguments.length?(f=ga(b),a):f},a.cornerRadius=function(b){return arguments.length?(e=ga(b),a):e},a.padRadius=function(b){return arguments.length?(g=b==de?de:ga(b),a):g},a.startAngle=function(b){return arguments.length?(k=ga(b),a):k},a.endAngle=function(b){return arguments.length?(h=ga(b),a):h},a.padAngle=function(b){return arguments.length?(q=ga(b),a):q},a.centroid=function(){var a=
(+d.apply(this,arguments)+ +f.apply(this,arguments))/2,b=(+k.apply(this,arguments)+ +h.apply(this,arguments))/2-la;return[Math.cos(b)*a,Math.sin(b)*a]},a};var de="auto";u.svg.line=function(){return vg(w)};var Me=u.map({linear:Ia,"linear-closed":function(a){return Ia(a)+"Z"},step:function(a){for(var b=0,d=a.length,f=a[0],e=[f[0],",",f[1]];++b<d;)e.push("H",(f[0]+(f=a[b])[0])/2,"V",f[1]);return 1<d&&e.push("H",f[0]),e.join("")},"step-before":Ne,"step-after":Oe,basis:wg,"basis-open":function(a){if(4>
a.length)return Ia(a);for(var b,d=[],f=-1,e=a.length,g=[0],k=[0];3>++f;)b=a[f],g.push(b[0]),k.push(b[1]);d.push(Qa(xb,g)+","+Qa(xb,k));for(--f;++f<e;)b=a[f],g.shift(),g.push(b[0]),k.shift(),k.push(b[1]),Qe(d,g,k);return d.join("")},"basis-closed":function(a){for(var b,d,f=-1,e=a.length,g=e+4,k=[],h=[];4>++f;)d=a[f%e],k.push(d[0]),h.push(d[1]);b=[Qa(xb,k),",",Qa(xb,h)];for(--f;++f<g;)d=a[f%e],k.shift(),k.push(d[0]),h.shift(),h.push(d[1]),Qe(b,k,h);return b.join("")},bundle:function(a,b){var d=a.length-
1;if(d)for(var f,e,g=a[0][0],k=a[0][1],h=a[d][0]-g,q=a[d][1]-k,p=-1;++p<=d;)f=a[p],e=p/d,f[0]=b*f[0]+(1-b)*(g+e*h),f[1]=b*f[1]+(1-b)*(k+e*q);return wg(a)},cardinal:function(a,b){return 3>a.length?Ia(a):a[0]+Md(a,Pe(a,b))},"cardinal-open":function(a,b){return 4>a.length?Ia(a):a[1]+Md(a.slice(1,-1),Pe(a,b))},"cardinal-closed":function(a,b){return 3>a.length?Ia(a):a[0]+Md((a.push(a[0]),a),Pe([a[a.length-2]].concat(a,[a[1]]),b))},monotone:function(a){if(3>a.length)a=Ia(a);else{var b=a[0],d,f,e,g,k=[],
h;d=0;h=a.length-1;for(var q=[],p=a[1],r=q[0]=Re(a[0],p);++d<h;)q[d]=(r+(r=Re(p,p=a[d+1])))/2;h=(q[d]=r,q);q=-1;for(p=a.length-1;++q<p;)d=Re(a[q],a[q+1]),Y(d)<Q?h[q]=h[q+1]=0:(f=h[q]/d,e=h[q+1]/d,g=f*f+e*e,9<g&&(g=3*d/Math.sqrt(g),h[q]=g*f,h[q+1]=g*e));for(q=-1;++q<=p;)g=(a[Math.min(p,q+1)][0]-a[Math.max(0,q-1)][0])/(6*(1+h[q]*h[q])),k.push([g||0,h[q]*g||0]);a=b+Md(a,k)}return a}});Me.forEach(function(a,b){b.key=a;b.closed=/-closed$/.test(a)});var xg=[0,2/3,1/3,0],yg=[0,1/3,2/3,0],xb=[0,1/6,2/3,1/
6];u.svg.line.radial=function(){var a=vg(zg);return a.radius=a.x,delete a.x,a.angle=a.y,delete a.y,a};Ne.reverse=Oe;Oe.reverse=Ne;u.svg.area=function(){return Ag(w)};u.svg.area.radial=function(){var a=Ag(zg);return a.radius=a.x,delete a.x,a.innerRadius=a.x0,delete a.x0,a.outerRadius=a.x1,delete a.x1,a.angle=a.y,delete a.y,a.startAngle=a.y0,delete a.y0,a.endAngle=a.y1,delete a.y1,a};u.svg.chord=function(){function a(a,e){var g=b(this,d,a,e),k=b(this,f,a,e);return"M"+g.p0+("A"+g.r+","+g.r+" 0 "+ +(g.a1-
g.a0>W)+",1 "+g.p1)+(g.a0==k.a0&&g.a1==k.a1?"Q 0,0 "+g.p0:"Q 0,0 "+k.p0+("A"+k.r+","+k.r+" 0 "+ +(k.a1-k.a0>W)+",1 "+k.p1)+("Q 0,0 "+g.p0))+"Z"}function b(a,b,d,f){var h=b.call(a,d,f);b=e.call(a,h,f);d=g.call(a,h,f)-la;a=k.call(a,h,f)-la;return{r:b,a0:d,a1:a,p0:[b*Math.cos(d),b*Math.sin(d)],p1:[b*Math.cos(a),b*Math.sin(a)]}}var d=re,f=se,e=$h,g=tg,k=ug;return a.radius=function(b){return arguments.length?(e=ga(b),a):e},a.source=function(b){return arguments.length?(d=ga(b),a):d},a.target=function(b){return arguments.length?
(f=ga(b),a):f},a.startAngle=function(b){return arguments.length?(g=ga(b),a):g},a.endAngle=function(b){return arguments.length?(k=ga(b),a):k},a};u.svg.diagonal=function(){function a(a,e){var g=b.call(this,a,e),k=d.call(this,a,e),h=(g.y+k.y)/2,g=[g,{x:g.x,y:h},{x:k.x,y:h},k];return g=g.map(f),"M"+g[0]+"C"+g[1]+" "+g[2]+" "+g[3]}var b=re,d=se,f=Bg;return a.source=function(d){return arguments.length?(b=ga(d),a):b},a.target=function(b){return arguments.length?(d=ga(b),a):d},a.projection=function(b){return arguments.length?
(f=b,a):f},a};u.svg.diagonal.radial=function(){var a=u.svg.diagonal(),b=Bg,d=a.projection;return a.projection=function(a){return arguments.length?d(ai(b=a)):b},a};u.svg.symbol=function(){function a(a,e){return(Rg.get(b.call(this,a,e))||Cg)(d.call(this,a,e))}var b=ci,d=bi;return a.type=function(d){return arguments.length?(b=ga(d),a):b},a.size=function(b){return arguments.length?(d=ga(b),a):d},a};var Rg=u.map({circle:Cg,cross:function(a){a=Math.sqrt(a/5)/2;return"M"+-3*a+","+-a+"H"+-a+"V"+-3*a+"H"+
a+"V"+-a+"H"+3*a+"V"+a+"H"+a+"V"+3*a+"H"+-a+"V"+a+"H"+-3*a+"Z"},diamond:function(a){a=Math.sqrt(a/(2*Sg));var b=a*Sg;return"M0,"+-a+"L"+b+",0 0,"+a+" "+-b+",0Z"},square:function(a){a=Math.sqrt(a)/2;return"M"+-a+","+-a+"L"+a+","+-a+" "+a+","+a+" "+-a+","+a+"Z"},"triangle-down":function(a){a=Math.sqrt(a/ee);var b=a*ee/2;return"M0,"+b+"L"+a+","+-b+" "+-a+","+-b+"Z"},"triangle-up":function(a){a=Math.sqrt(a/ee);var b=a*ee/2;return"M0,"+-b+"L"+a+","+b+" "+-a+","+b+"Z"}});u.svg.symbolTypes=Rg.keys();var ee=
Math.sqrt(3),Sg=Math.tan(30*X);fa.transition=function(a){for(var b,d=Vb||++Tg,f=Te(a),e=[],g=fe||{time:Date.now(),ease:nh,delay:0,duration:250},k=-1,h=this.length;++k<h;){e.push(a=[]);for(var q=this[k],p=-1,r=q.length;++p<r;)(b=q[p])&&Nd(b,p,f,d,g),a.push(b)}return gd(e,f,d)};fa.interrupt=function(a){return this.each(null==a?Rd:Dg(Te(a)))};var Vb,fe,Rd=Dg(Te()),pa=[],Tg=0;pa.call=fa.call;pa.empty=fa.empty;pa.node=fa.node;pa.size=fa.size;u.transition=function(a,b){return a&&a.transition?Vb?a.transition(b):
a:u.selection().transition(a)};u.transition.prototype=pa;pa.select=function(a){var b,d,f,e=this.id,g=this.namespace,k=[];a=zb(a);for(var h=-1,q=this.length;++h<q;){k.push(b=[]);for(var p=this[h],r=-1,t=p.length;++r<t;)(f=p[r])&&(d=a.call(f,f.__data__,r,h))?("__data__"in f&&(d.__data__=f.__data__),Nd(d,r,g,e,f[g][e]),b.push(d)):b.push(null)}return gd(k,g,e)};pa.selectAll=function(a){var b,d,f,e,g=this.id,k=this.namespace,h=[];a=Ec(a);for(var q=-1,p=this.length;++q<p;)for(var r=this[q],t=-1,u=r.length;++t<
u;)if(b=r[t]){e=b[k][g];d=a.call(b,b.__data__,t,q);h.push(b=[]);for(var v=-1,y=d.length;++v<y;)(f=d[v])&&Nd(f,v,k,g,e),b.push(f)}return gd(h,k,g)};pa.filter=function(a){var b,d,f,e=[];"function"!=typeof a&&(a=cc(a));for(var g=0,k=this.length;k>g;g++){e.push(b=[]);d=this[g];for(var h=0,q=d.length;q>h;h++)(f=d[h])&&a.call(f,f.__data__,h,g)&&b.push(f)}return gd(e,this.namespace,this.id)};pa.tween=function(a,b){var d=this.id,f=this.namespace;return 2>arguments.length?this.node()[f][d].tween.get(a):Ja(this,
null==b?function(b){b[f][d].tween.remove(a)}:function(e){e[f][d].tween.set(a,b)})};pa.attr=function(a,b){function d(){this.removeAttribute(h)}function f(){this.removeAttributeNS(h.space,h.local)}function e(a){return null==a?d:(a+="",function(){var b,d=this.getAttribute(h);return d!==a&&(b=k(d,a),function(a){this.setAttribute(h,b(a))})})}function g(a){return null==a?f:(a+="",function(){var b,d=this.getAttributeNS(h.space,h.local);return d!==a&&(b=k(d,a),function(a){this.setAttributeNS(h.space,h.local,
b(a))})})}if(2>arguments.length){for(b in a)this.attr(b,a[b]);return this}var k="transform"==a?Xf:Tb,h=u.ns.qualify(a);return Se(this,"attr."+a,b,h.local?g:e)};pa.attrTween=function(a,b){function d(a,d){var f=b.call(this,a,d,this.getAttribute(e));return f&&function(a){this.setAttribute(e,f(a))}}function f(a,d){var f=b.call(this,a,d,this.getAttributeNS(e.space,e.local));return f&&function(a){this.setAttributeNS(e.space,e.local,f(a))}}var e=u.ns.qualify(a);return this.tween("attr."+a,e.local?f:d)};
pa.style=function(a,b,d){function f(){this.style.removeProperty(a)}var e=arguments.length;if(3>e){if("string"!=typeof a){2>e&&(b="");for(d in a)this.style(d,a[d],b);return this}d=""}return Se(this,"style."+a,b,function(b){return null==b?f:(b+="",function(){var f,e=ja(this).getComputedStyle(this,null).getPropertyValue(a);return e!==b&&(f=Tb(e,b),function(b){this.style.setProperty(a,f(b),d)})})})};pa.styleTween=function(a,b,d){return 3>arguments.length&&(d=""),this.tween("style."+a,function(f,e){var g=
b.call(this,f,e,ja(this).getComputedStyle(this,null).getPropertyValue(a));return g&&function(b){this.style.setProperty(a,g(b),d)}})};pa.text=function(a){return Se(this,"text",a,di)};pa.remove=function(){var a=this.namespace;return this.each("end.transition",function(){var b;2>this[a].count&&(b=this.parentNode)&&b.removeChild(this)})};pa.ease=function(a){var b=this.id,d=this.namespace;return 1>arguments.length?this.node()[d][b].ease:("function"!=typeof a&&(a=u.ease.apply(u,arguments)),Ja(this,function(f){f[d][b].ease=
a}))};pa.delay=function(a){var b=this.id,d=this.namespace;return 1>arguments.length?this.node()[d][b].delay:Ja(this,"function"==typeof a?function(f,e,g){f[d][b].delay=+a.call(f,f.__data__,e,g)}:(a=+a,function(f){f[d][b].delay=a}))};pa.duration=function(a){var b=this.id,d=this.namespace;return 1>arguments.length?this.node()[d][b].duration:Ja(this,"function"==typeof a?function(f,e,g){f[d][b].duration=Math.max(1,a.call(f,f.__data__,e,g))}:(a=Math.max(1,a),function(f){f[d][b].duration=a}))};pa.each=function(a,
b){var d=this.id,f=this.namespace;if(2>arguments.length){var e=fe,g=Vb;try{Vb=d,Ja(this,function(b,e,g){fe=b[f][d];a.call(b,b.__data__,e,g)})}finally{fe=e,Vb=g}}else Ja(this,function(e){e=e[f][d];(e.event||(e.event=u.dispatch("start","end","interrupt"))).on(a,b)});return this};pa.transition=function(){for(var a,b,d,f,e=this.id,g=++Tg,k=this.namespace,h=[],q=0,p=this.length;p>q;q++){h.push(a=[]);b=this[q];for(var r=0,t=b.length;t>r;r++)(d=b[r])&&(f=d[k][e],Nd(d,r,k,g,{time:f.time,ease:f.ease,delay:f.delay+
f.duration,duration:f.duration})),a.push(d)}return gd(h,k,g)};u.svg.axis=function(){function a(a){a.each(function(){var a,p=u.select(this),r=this.__chart__||d,t=this.__chart__=d.copy(),v=null==q?t.ticks?t.ticks.apply(t,h):t.domain():q,y=null==b?t.tickFormat?t.tickFormat.apply(t,h):w:b,E=p.selectAll(".tick").data(v,t),v=E.enter().insert("g",".domain").attr("class","tick").style("opacity",Q),D=u.transition(E.exit()).style("opacity",Q).remove(),x=u.transition(E.order()).style("opacity",1),L=Math.max(e,
0)+k,s=Hd(t),p=p.selectAll(".domain").data([0]),p=(p.enter().append("path").attr("class","domain"),u.transition(p));v.append("line");v.append("text");var ba,A,B,J,K=v.select("line"),N=x.select("line"),y=E.select("text").text(y),E=v.select("text"),oa=x.select("text"),F="top"===f||"left"===f?-1:1;if("bottom"===f||"top"===f?(a=ei,ba="x",B="y",A="x2",J="y2",y.attr("dy",0>F?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+s[0]+","+F*g+"V0H"+s[1]+"V"+F*g)):(a=fi,ba="y",B="x",A="y2",J="x2",y.attr("dy",
".32em").style("text-anchor",0>F?"end":"start"),p.attr("d","M"+F*g+","+s[0]+"H0V"+s[1]+"H"+F*g)),K.attr(J,F*e),E.attr(B,F*L),N.attr(A,0).attr(J,F*e),oa.attr(ba,0).attr(B,F*L),t.rangeBand)var C=t,H=C.rangeBand()/2,r=t=function(a){return C(a)+H};else r.rangeBand?r=t:D.call(a,t,r);v.call(a,r,t);x.call(a,t,t)})}var b,d=u.scale.linear(),f=Ug,e=6,g=6,k=3,h=[10],q=null;return a.scale=function(b){return arguments.length?(d=b,a):d},a.orient=function(b){return arguments.length?(f=b in Ci?b+"":Ug,a):f},a.ticks=
function(){return arguments.length?(h=arguments,a):h},a.tickValues=function(b){return arguments.length?(q=b,a):q},a.tickFormat=function(d){return arguments.length?(b=d,a):b},a.tickSize=function(b){var d=arguments.length;return d?(e=+b,g=+arguments[d-1],a):e},a.innerTickSize=function(b){return arguments.length?(e=+b,a):e},a.outerTickSize=function(b){return arguments.length?(g=+b,a):g},a.tickPadding=function(b){return arguments.length?(k=+b,a):k},a.tickSubdivide=function(){return arguments.length&&
a},a};var Ug="bottom",Ci={top:1,right:1,bottom:1,left:1};u.svg.brush=function(){function a(g){g.each(function(){var g=u.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",e).on("touchstart.brush",e),k=g.selectAll(".background").data([0]);k.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");g.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor",
"move");var h=g.selectAll(".resize").data(E,w);h.exit().remove();h.enter().append("g").attr("class",function(a){return"resize "+a}).style("cursor",function(a){return Di[a]}).append("rect").attr("x",function(a){return/[ew]$/.test(a)?-3:null}).attr("y",function(a){return/^[ns]/.test(a)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden");h.style("display",a.empty()?"none":null);var m,g=u.transition(g),k=u.transition(k);q&&(m=Hd(q),k.attr("x",m[0]).attr("width",m[1]-m[0]),d(g));p&&
(m=Hd(p),k.attr("y",m[0]).attr("height",m[1]-m[0]),f(g));b(g)})}function b(a){a.selectAll(".resize").attr("transform",function(a){return"translate("+r[+/e$/.test(a)]+","+t[+/^s/.test(a)]+")"})}function d(a){a.select(".extent").attr("x",r[0]);a.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1]-r[0])}function f(a){a.select(".extent").attr("y",t[0]);a.selectAll(".extent,.e>rect,.w>rect").attr("height",t[1]-t[0])}function e(){function l(){var a=u.mouse(s),e=!1;L&&(a[0]+=L[0],a[1]+=L[1]);F||(u.event.altKey?
(x||(x=[(r[0]+r[1])/2,(t[0]+t[1])/2]),H[0]=r[+(a[0]<x[0])],H[1]=t[+(a[1]<x[1])]):x=null);K&&E(a,q,0)&&(d(A),e=!0);oa&&E(a,p,1)&&(f(A),e=!0);e&&(b(A),ba({type:"brush",mode:F?"move":"resize"}))}function E(a,b,d){var f,e,l=Hd(b);b=l[0];var l=l[1],h=H[d],q=d?t:r,p=q[1]-q[0];return F&&(b-=h,l-=p+h),f=(d?y:v)?Math.max(b,Math.min(l,a[d])):a[d],F?e=(f+=h)+p:(x&&(h=Math.max(b,Math.min(l,2*x[d]-f))),f>h?(e=f,f=h):e=h),q[0]!=f||q[1]!=e?(d?k=null:g=null,q[0]=f,q[1]=e,!0):void 0}function D(){l();A.style("pointer-events",
"all").selectAll(".resize").style("display",a.empty()?"none":null);u.select("body").style("cursor",null);O.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);C();ba({type:"brushend"})}var x,L,s=this,w=u.select(u.event.target),ba=h.of(s,arguments),A=u.select(s),B=w.datum(),K=!/^(n|s)$/.test(B)&&q,oa=!/^(e|w)$/.test(B)&&p,F=w.classed("extent"),C=gc(s),H=u.mouse(s),O=u.select(ja(s)).on("keydown.brush",
function(){32==u.event.keyCode&&(F||(x=null,H[0]-=r[1],H[1]-=t[1],F=2),J())}).on("keyup.brush",function(){32==u.event.keyCode&&2==F&&(H[0]+=r[1],H[1]+=t[1],F=0,J())});if(u.event.changedTouches?O.on("touchmove.brush",l).on("touchend.brush",D):O.on("mousemove.brush",l).on("mouseup.brush",D),A.interrupt().selectAll("*").interrupt(),F)H[0]=r[0]-H[0],H[1]=t[0]-H[1];else if(B){var ia=+/w$/.test(B),B=+/^n/.test(B);L=[r[1-ia]-H[0],t[1-B]-H[1]];H[0]=r[ia];H[1]=t[B]}else u.event.altKey&&(x=H.slice());A.style("pointer-events",
"none").selectAll(".resize").style("display",null);u.select("body").style("cursor",w.style("cursor"));ba({type:"brushstart"});l()}var g,k,h=yb(a,"brushstart","brush","brushend"),q=null,p=null,r=[0,0],t=[0,0],v=!0,y=!0,E=bf[0];return a.event=function(a){a.each(function(){var a=h.of(this,arguments),b={x:r,y:t,i:g,j:k},d=this.__chart__||b;this.__chart__=b;Vb?u.select(this).transition().each("start.brush",function(){g=d.i;k=d.j;r=d.x;t=d.y;a({type:"brushstart"})}).tween("brush:brush",function(){var d=
Gd(r,b.x),f=Gd(t,b.y);return g=k=null,function(e){r=b.x=d(e);t=b.y=f(e);a({type:"brush",mode:"resize"})}}).each("end.brush",function(){g=b.i;k=b.j;a({type:"brush",mode:"resize"});a({type:"brushend"})}):(a({type:"brushstart"}),a({type:"brush",mode:"resize"}),a({type:"brushend"}))})},a.x=function(b){return arguments.length?(q=b,E=bf[!q<<1|!p],a):q},a.y=function(b){return arguments.length?(p=b,E=bf[!q<<1|!p],a):p},a.clamp=function(b){return arguments.length?(q&&p?(v=!!b[0],y=!!b[1]):q?v=!!b:p&&(y=!!b),
a):q&&p?[v,y]:q?v:p?y:null},a.extent=function(b){var d,f,e,l,h;return arguments.length?(q&&(d=b[0],f=b[1],p&&(d=d[0],f=f[0]),g=[d,f],q.invert&&(d=q(d),f=q(f)),d>f&&(h=d,d=f,f=h),(d!=r[0]||f!=r[1])&&(r=[d,f])),p&&(e=b[0],l=b[1],q&&(e=e[1],l=l[1]),k=[e,l],p.invert&&(e=p(e),l=p(l)),e>l&&(h=e,e=l,l=h),(e!=t[0]||l!=t[1])&&(t=[e,l])),a):(q&&(g?(d=g[0],f=g[1]):(d=r[0],f=r[1],q.invert&&(d=q.invert(d),f=q.invert(f)),d>f&&(h=d,d=f,f=h))),p&&(k?(e=k[0],l=k[1]):(e=t[0],l=t[1],p.invert&&(e=p.invert(e),l=p.invert(l)),
e>l&&(h=e,e=l,l=h))),q&&p?[[d,e],[f,l]]:q?[d,f]:p&&[e,l])},a.clear=function(){return a.empty()||(r=[0,0],t=[0,0],g=k=null),a},a.empty=function(){return!!q&&r[0]==r[1]||!!p&&t[0]==t[1]},u.rebind(a,h,"on")};var Di={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bf=["n e s w nw ne se sw".split(" "),["e","w"],["n","s"],[]],cf=T.format=Ig.timeFormat,Vg=cf.utc,Wg=Vg("%Y-%m-%dT%H:%M:%S.%LZ");cf.iso=Date.prototype.toISOString&&
+new Date("2000-01-01T00:00:00.000Z")?Ue:Wg;Ue.parse=function(a){a=new Date(a);return isNaN(a)?null:a};Ue.toString=Wg.toString;T.second=Ta(function(a){return new va(1E3*Math.floor(a/1E3))},function(a,b){a.setTime(a.getTime()+1E3*Math.floor(b))},function(a){return a.getSeconds()});T.seconds=T.second.range;T.seconds.utc=T.second.utc.range;T.minute=Ta(function(a){return new va(6E4*Math.floor(a/6E4))},function(a,b){a.setTime(a.getTime()+6E4*Math.floor(b))},function(a){return a.getMinutes()});T.minutes=
T.minute.range;T.minutes.utc=T.minute.utc.range;T.hour=Ta(function(a){var b=a.getTimezoneOffset()/60;return new va(36E5*(Math.floor(a/36E5-b)+b))},function(a,b){a.setTime(a.getTime()+36E5*Math.floor(b))},function(a){return a.getHours()});T.hours=T.hour.range;T.hours.utc=T.hour.utc.range;T.month=Ta(function(a){return a=T.day(a),a.setDate(1),a},function(a,b){a.setMonth(a.getMonth()+b)},function(a){return a.getMonth()});T.months=T.month.range;T.months.utc=T.month.utc.range;var Od=[1E3,5E3,15E3,3E4,6E4,
3E5,9E5,18E5,36E5,108E5,216E5,432E5,864E5,1728E5,6048E5,2592E6,7776E6,31536E6],df=[[T.second,1],[T.second,5],[T.second,15],[T.second,30],[T.minute,1],[T.minute,5],[T.minute,15],[T.minute,30],[T.hour,1],[T.hour,3],[T.hour,6],[T.hour,12],[T.day,1],[T.day,2],[T.week,1],[T.month,1],[T.month,3],[T.year,1]],Ei=cf.multi([[".%L",function(a){return a.getMilliseconds()}],[":%S",function(a){return a.getSeconds()}],["%I:%M",function(a){return a.getMinutes()}],["%I %p",function(a){return a.getHours()}],["%a %d",
function(a){return a.getDay()&&1!=a.getDate()}],["%b %d",function(a){return 1!=a.getDate()}],["%B",function(a){return a.getMonth()}],["%Y",ab]]),gi={range:function(a,b,d){return u.range(Math.ceil(a/d)*d,+b,d).map(Ub)},floor:w,ceil:w};df.year=T.year;T.scale=function(){return Ve(u.scale.linear(),df,Ei)};var Xg=df.map(function(a){return[a[0].utc,a[1]]}),Fi=Vg.multi([[".%L",function(a){return a.getUTCMilliseconds()}],[":%S",function(a){return a.getUTCSeconds()}],["%I:%M",function(a){return a.getUTCMinutes()}],
["%I %p",function(a){return a.getUTCHours()}],["%a %d",function(a){return a.getUTCDay()&&1!=a.getUTCDate()}],["%b %d",function(a){return 1!=a.getUTCDate()}],["%B",function(a){return a.getUTCMonth()}],["%Y",ab]]);Xg.year=T.year.utc;T.scale.utc=function(){return Ve(u.scale.linear(),Xg,Fi)};u.text=Lb(function(a){return a.responseText});u.json=function(a,b){return Mb(a,"application/json",hi,b)};u.html=function(a,b){return Mb(a,"text/html",ii,b)};u.xml=Lb(function(a){return a.responseXML});"function"==
typeof define&&define.amd?define(u):"object"==typeof module&&module.exports&&(module.exports=u);this.d3=u}();(function(){function ja(e,h){return{type:"Feature",id:e.id,properties:e.properties,geometry:na(e.geometry,h)}}function na(e,h){if(!e)return null;if("GeometryCollection"===e.type)return{type:"GeometryCollection",geometries:object.geometries.map(function(e){return na(e,h)})};if(!rd.hasOwnProperty(e.type))return null;var g=rd[e.type];d3.geo.stream(e,h(g));return g.result()}function M(){}function I(e){return 0<e?1:0>e?-1:0}function C(e){return 1<e?P:-1>e?-P:Math.asin(e)}function ca(e){return 1<e?0:-1>
e?x:Math.acos(e)}function S(e){return 0<e?Math.sqrt(e):0}function V(e){function h(e,g){var h=Math.cos(e),v=Math.cos(g),y=Math.sin(g),h=v*h,h=-((1-h?Math.log(0.5*(1+h))/(1-h):-0.5)+k/(1+h));return[h*v*Math.sin(e),h*y]}var g=Math.tan(0.5*e),k=2*Math.log(Math.cos(0.5*e))/(g*g);h.invert=function(g,h){var r=Math.sqrt(g*g+h*h),v=-0.5*e,y=50,t;if(!r)return[0,0];do{var E=0.5*v;t=Math.cos(E);var x=Math.sin(E),E=Math.tan(E),D=Math.log(1/t),v=v-(t=(2/E*D-k*E-r)/(-D/(x*x)+1-k/(2*t*t)))}while(Math.abs(t)>R&&0<
--y);y=Math.sin(v);return[Math.atan2(g*y,r*Math.cos(v)),C(h*y/r)]};return h}function da(e,h){var g=Math.cos(h),k;k=(k=ca(g*Math.cos(e/=2)))?k/Math.sin(k):1;return[2*g*Math.sin(e)*k,Math.sin(h)*k]}function ha(e){function h(e,h){var t=Math.cos(h),E=Math.cos(e/=2);return[(1+t)*Math.sin(e),(q*h>-Math.atan2(E,p)-0.001?0:10*-q)+r+Math.sin(h)*k-(1+t)*g*E]}var g=Math.sin(e),k=Math.cos(e),q=0<e?1:-1,p=Math.tan(q*e),r=(1+g-k)/2;h.invert=function(e,h){var t=0,E=0,x=50;do var D=Math.cos(t),s=Math.sin(t),w=Math.cos(E),
A=Math.sin(E),B=1+w,J=B*s-e,K=r+A*k-B*g*D-h,F=0.5*B*D,H=-s*A,s=0.5*g*B*s,w=k*w+g*D*A,D=H*s-w*F,H=0.5*(K*H-J*w)/D,J=(J*s-K*F)/D,t=t-H,E=E-J;while((Math.abs(H)>R||Math.abs(J)>R)&&0<--x);return q*E>-Math.atan2(Math.cos(t),p)-0.001?[2*t,E]:null};return h}function O(e){return 0.5*(Math.exp(e)-Math.exp(-e))}function ea(e,h){var g=Math.tan(h/2),k=S(1-g*g),q=1+k*Math.cos(e/=2),k=Math.sin(e)*k/q,g=g/q,q=k*k,p=g*g;return[4/3*k*(3+q-3*p),4/3*g*(3+3*q-p)]}function B(e,h){var g=Math.abs(h);return g<x/4?[e,Math.log(Math.tan(x/
4+h/2))]:[e*Math.cos(g)*(2*Math.SQRT2-1/Math.sin(g)),I(h)*(2*Math.SQRT2*(g-x/4)-Math.log(Math.tan(g/2)))]}function F(e){function h(e,h){var p=Sc(e,h);if(Math.abs(e)>P){var r=Math.atan2(p[1],p[0]),v=Math.sqrt(p[0]*p[0]+p[1]*p[1]),y=g*Math.round((r-P)/g)+P,t=Math.atan2(Math.sin(r-=y),2-Math.cos(r)),r=y+C(x/v*Math.sin(t))-t;p[0]=v*Math.cos(r);p[1]=v*Math.sin(r)}return p}var g=2*x/e;h.invert=function(e,h){var p=Math.sqrt(e*e+h*h);if(p>P){var r=Math.atan2(h,e),v=g*Math.round((r-P)/g)+P,y=r>v?-1:1,r=p*
Math.cos(v-r),r=1/Math.tan(y*Math.acos((r-x)/Math.sqrt(x*(x-2*r)+p*p))),r=v+2*Math.atan((r+y*Math.sqrt(r*r-3))/3);e=p*Math.cos(r);h=p*Math.sin(r)}return Sc.invert(e,h)};return h}function H(e){return function(h){var g=e*Math.sin(h),k=30,q;do h-=q=(h+Math.sin(h)-g)/(1+Math.cos(h));while(Math.abs(q)>R&&0<--k);return h/2}}function s(e,h,g){function k(g,k){return[e*g*Math.cos(k=q(k)),h*Math.sin(k)]}var q=H(g);k.invert=function(k,q){var v=C(q/h);return[k/(e*Math.cos(v)),C((2*v+Math.sin(2*v))/g)]};return k}
function w(e,h){var g=oc(h);return[2.00276*e/(1/Math.cos(h)+1.11072/Math.cos(g)),(h+Math.SQRT2*Math.sin(g))/2.00276]}function A(e){var h=0,g=sa(e);e=g(h);e.parallel=function(e){return arguments.length?g(h=e*x/180):180*(h/x)};return e}function ia(e,h){return[e*Math.cos(h),h]}function K(e){function h(k,h){var p=g+e-h,r=p?k*Math.cos(h)/p:p;return[p*Math.sin(r),g-p*Math.cos(r)]}if(!e)return ia;var g=1/Math.tan(e);h.invert=function(k,h){var p=Math.sqrt(k*k+(h=g-h)*h),r=g+e-p;return[p/Math.cos(r)*Math.atan2(k,
h),r]};return h}function Wb(e){function h(e,h){var p=P-h,r=p?e*g*Math.sin(p)/p:p;return[p*Math.sin(r)/g,P-p*Math.cos(r)]}var g=Math.sin(e);h.invert=function(e,h){var p=e*g,r=P-h,v=Math.sqrt(p*p+r*r),p=Math.atan2(p,r);return[(v?v/Math.sin(v):1)*p/g,P-v]};return h}function Wa(e){e=e.map(function(e){return[e[0],e[1],Math.sin(e[1]),Math.cos(e[1])]});for(var h=e[2],g,k=0;3>k;++k,h=g)g=e[k],h.v=J(g[1]-h[1],h[3],h[2],g[3],g[2],g[0]-h[0]),h.point=[0,0];var h=ca(0.5*(e[0].v[0]*e[0].v[0]+e[2].v[0]*e[2].v[0]-
e[1].v[0]*e[1].v[0])/(e[0].v[0]*e[2].v[0])),q=ca(0.5*(e[0].v[0]*e[0].v[0]+e[1].v[0]*e[1].v[0]-e[2].v[0]*e[2].v[0])/(e[0].v[0]*e[1].v[0])),p=x-h;e[2].point[1]=0;e[0].point[0]=-(e[1].point[0]=0.5*e[0].v[0]);var r=[e[2].point[0]=e[0].point[0]+e[2].v[0]*Math.cos(h),2*(e[0].point[1]=e[1].point[1]=e[2].v[0]*Math.sin(h))];return function(g,k){for(var h=Math.sin(k),E=Math.cos(k),L=Array(3),D=0;3>D;++D){var s=e[D];L[D]=J(k-s[1],s[3],s[2],E,h,g-s[0]);if(!L[D][0])return s.point;L[D][1]=L[D][1]-s.v[1]-2*x*Math.floor((L[D][1]-
s.v[1]+x)/(2*x))}h=r.slice();for(D=0;3>D;++D)E=2==D?0:D+1,E=ca(0.5*(e[D].v[0]*e[D].v[0]+L[D][0]*L[D][0]-L[E][0]*L[E][0])/(e[D].v[0]*L[D][0])),0>L[D][1]&&(E=-E),D?1==D?(E=q-E,h[0]-=L[D][0]*Math.cos(E),h[1]-=L[D][0]*Math.sin(E)):(E=p-E,h[0]+=L[D][0]*Math.cos(E),h[1]+=L[D][0]*Math.sin(E)):(h[0]+=L[D][0]*Math.cos(E),h[1]-=L[D][0]*Math.sin(E));h[0]/=3;h[1]/=3;return h}}function J(e,h,g,k,q,p){var r=Math.cos(p);if(1<Math.abs(e)||1<Math.abs(p))e=ca(g*q+h*k*r);else{e=Math.sin(0.5*e);var v=Math.sin(0.5*p);
e=2*C(Math.sqrt(e*e+h*k*v*v))}return Math.abs(e)>R?[e,Math.atan2(k*Math.sin(p),h*q-g*k*r)]:[0,0]}function Dc(e){return[e[0]*ta,e[1]*ta]}function yb(e,h){var g=S(1-Math.sin(h));return[2/Fa*e*g,Fa*(1-g)]}function Ra(e){function h(e,h){return[e,(e?e/Math.sin(e):1)*(Math.sin(h)*Math.cos(e)-g*Math.cos(h))]}var g=Math.tan(e);h.invert=g?function(e,h){e&&(h*=Math.sin(e)/e);var p=Math.cos(e);return[e,2*Math.atan2(Math.sqrt(p*p+g*g-h*h)-p,g-h)]}:function(e,g){return[e,C(e?g*Math.tan(e)/e:g)]};return h}function zb(e,
h){var g=Math.sqrt(3);return[g*e*(2*Math.cos(2*h/3)-1)/Fa,g*Fa*Math.sin(h/3)]}function Ec(e){function h(e,h){return[e*g,Math.sin(h)/g]}var g=Math.cos(e);h.invert=function(e,h){return[e/g,C(h*g)]};return h}function Fc(e){function h(e,h){return[e*g,(1+g)*Math.tan(0.5*h)]}var g=Math.cos(e);h.invert=function(e,h){return[e/g,2*Math.atan(h/(1+g))]};return h}function Xb(e,h){var g=Math.sqrt(8/(3*x));return[g*e*(1-Math.abs(h)/x),g*h]}function Yb(e,h){var g=Math.sqrt(4-3*Math.sin(Math.abs(h)));return[2/Math.sqrt(6*
x)*e*g,I(h)*Math.sqrt(2*x/3)*(2-g)]}function Zb(e,h){var g=Math.sqrt(x*(4+x));return[2/g*e*(1+Math.sqrt(1-4*h*h/(x*x))),4/g*h]}function Gc(e,h){var g=(2+P)*Math.sin(h);h/=2;for(var k=0,q=Infinity;10>k&&Math.abs(q)>R;k++)q=Math.cos(h),h-=q=(h+Math.sin(h)*(q+2)-g)/(2*q*(1+q));return[2/Math.sqrt(x*(4+x))*e*(1+Math.cos(h)),2*Math.sqrt(x/(4+x))*Math.sin(h)]}function $b(e,h){return[e*(1+Math.cos(h))/Math.sqrt(2+x),2*h/Math.sqrt(2+x)]}function ac(e,h){for(var g=(1+P)*Math.sin(h),k=0,q=Infinity;10>k&&Math.abs(q)>
R;k++)h-=q=(h+Math.sin(h)-g)/(1+Math.cos(h));g=Math.sqrt(2+x);return[e*(1+Math.cos(h))/g,2*h/g]}function bc(e,h){var g=Math.sin(e/=2),k=Math.cos(e),q=Math.sqrt(Math.cos(h)),p=Math.cos(h/=2),r=Math.sin(h)/(p+Math.SQRT2*k*q),v=Math.sqrt(2/(1+r*r)),g=Math.sqrt((Math.SQRT2*p+(k+g)*q)/(Math.SQRT2*p+(k-g)*q));return[pc*(v*(g-1/g)-2*Math.log(g)),pc*(v*r*(g+1/g)-2*Math.atan(r))]}function Hc(e,h){var g=Math.tan(h/2);return[e*Ma*S(1-g*g),(1+Ma)*g]}function cc(e,h){var g=h/2,k=Math.cos(g);return[2*e/Fa*Math.cos(h)*
k*k,Fa*Math.tan(g)]}function id(e,h){function g(g,h){var v=Pb(g,h),y=v[0],t=v[1],E=y*y+t*t;if(E>q){var L=Math.sqrt(E),y=Math.atan2(t,y),E=k*Math.round(y/k),t=y-E,D=e*Math.cos(t),s=(e*Math.sin(t)-t*Math.sin(D))/(P-D),w=Ja(t,s),A=(x-e)/Ab(w,D,x),y=L,B=50,J;do y-=J=(e+Ab(w,D,y)*A-L)/(w(y)*A);while(Math.abs(J)>R&&0<--B);t*=Math.sin(y);y<P&&(t-=s*(y-P));L=Math.sin(E);E=Math.cos(E);v[0]=y*E-t*L;v[1]=y*L+t*E}return v}var k=2*x/h,q=e*e;g.invert=function(g,h){var v=g*g+h*h;if(v>q){var y=Math.sqrt(v),t=Math.atan2(h,
g),v=k*Math.round(t/k),t=t-v;g=y*Math.cos(t);h=y*Math.sin(t);for(var y=g-P,E=Math.sin(g),t=h/E,s=g<P?Infinity:0,D=10;;){var w=e*Math.sin(t),A=e*Math.cos(t),B=Math.sin(A),J=P-A,K=(w-t*B)/J,F=Ja(t,K);if(Math.abs(s)<Nb||!--D)break;t-=s=(t*E-K*y-h)/(E-2*y*(J*(A+t*w*Math.cos(A)-B)-w*(w-t*B))/(J*J))}y=e+Ab(F,A,g)*(x-e)/Ab(F,A,x);t=v+t;g=y*Math.cos(t);h=y*Math.sin(t)}return Pb.invert(g,h)};return g}function Ja(e,h){return function(g){var k=e*Math.cos(g);g<P&&(k-=h);return Math.sqrt(1+k*k)}}function Ab(e,
h,g){var k=(g-h)/50;g=e(h)+e(g);for(var q=1;50>q;++q)g+=2*e(h+=k);return 0.5*g*k}function dc(e,h,g,k,q,p,r,v){function y(t,y){if(!y)return[e*t/x,0];var s=y*y,D=e+s*(h+s*(g+s*k)),w=y*(q-1+s*(p-v+s*r)),w=(D*D+w*w)/(2*w),D=t*Math.asin(D/w)/x;return[w*Math.sin(D),y*(1+s*v)+w*(1-Math.cos(D))]}8>arguments.length&&(v=0);y.invert=function(t,y){var s=x*t/e,D=y,w,A,B=50;do{w=D*D;A=e+w*(h+w*(g+w*k));var J=D*(q-1+w*(p-v+w*r)),K=A*A+J*J,F=2*J,H=K/F,C=H*H,O=Math.asin(A/H)/x,ia=s*O;xB2=A*A;dxBd\u03c6=(2*h+w*(4*
g+6*w*k))*D;dyBd\u03c6=q+w*(3*p+5*w*r);dpd\u03c6=2*(A*dxBd\u03c6+J*(dyBd\u03c6-1));dqd\u03c6=2*(dyBd\u03c6-1);dmd\u03c6=(dpd\u03c6*F-K*dqd\u03c6)/(F*F);cos\u03b1=Math.cos(ia);sin\u03b1=Math.sin(ia);mcos\u03b1=H*cos\u03b1;msin\u03b1=H*sin\u03b1;d\u03b1d\u03c6=s/x*(1/S(1-xB2/C))*(dxBd\u03c6*H-A*dmd\u03c6)/C;fx=msin\u03b1-t;fy=D*(1+w*v)+H-mcos\u03b1-y;\u03b4x\u03b4\u03c6=dmd\u03c6*sin\u03b1+mcos\u03b1*d\u03b1d\u03c6;\u03b4x\u03b4\u03bb=mcos\u03b1*O;\u03b4y\u03b4\u03c6=1+dmd\u03c6-(dmd\u03c6*cos\u03b1-
msin\u03b1*d\u03b1d\u03c6);\u03b4y\u03b4\u03bb=msin\u03b1*O;denominator=\u03b4x\u03b4\u03c6*\u03b4y\u03b4\u03bb-\u03b4y\u03b4\u03c6*\u03b4x\u03b4\u03bb;if(!denominator)break;s-=w=(fy*\u03b4x\u03b4\u03c6-fx*\u03b4y\u03b4\u03c6)/denominator;D-=A=(fx*\u03b4y\u03b4\u03bb-fy*\u03b4x\u03b4\u03bb)/denominator}while((Math.abs(w)>R||Math.abs(A)>R)&&0<--B);return[s,D]};return y}function ec(e,h){var g=e*e,k=h*h;return[e*(1-0.162388*k)*(0.87-9.52426E-4*g*g),h*(1+k/12)]}function fc(e){function h(){var e=!1,k=
sa(g),h=k(e);h.quincuncial=function(g){return arguments.length?k(e=!!g):e};return h}function g(g){var h=g?function(g,h){var q=Math.abs(g)<P,p=e(q?g:0<g?g-x:g+x,h),E=(p[0]-p[1])*Math.SQRT1_2,p=(p[0]+p[1])*Math.SQRT1_2;if(q)return[E,p];var q=k*Math.SQRT1_2,s=0<E^0<p?-1:1;return[s*E-I(p)*q,s*p-I(E)*q]}:function(g,h){var q=0<g?-0.5:0.5,p=e(g+q*x,h);p[0]-=q*k;return p};e.invert&&(h.invert=g?function(g,h){var q=(g+h)*Math.SQRT1_2,p=(h-g)*Math.SQRT1_2,E=Math.abs(q)<0.5*k&&Math.abs(p)<0.5*k;if(!E)var s=k*
Math.SQRT1_2,D=0<q^0<p?-1:1,p=-D*(g+(0<p?1:-1)*s),s=-D*(h+(0<q?1:-1)*s),q=(-p-s)*Math.SQRT1_2,p=(p-s)*Math.SQRT1_2;s=e.invert(q,p);E||(s[0]+=0<q?x:-x);return s}:function(g,h){var q=0<g?-0.5:0.5,p=e.invert(g+q*k,h),q=p[0]-q*x;q<-x?q+=2*x:q>x&&(q-=2*x);p[0]=q;return p});return h}var k=e(P,0)[0]-e(-P,0)[0];h.raw=g;return h}function kd(e,h){var g=I(e),k=I(h),q=Math.cos(h),p=Math.cos(e)*q,r=Math.sin(e)*q,q=Math.sin(k*h);e=Math.abs(Math.atan2(r,q));h=C(p);Math.abs(e-P)>R&&(e%=P);p=gc(e>x/4?P-e:e,h);e>x/
4&&(q=p[0],p[0]=-p[1],p[1]=-q);return p[0]*=g,p[1]*=-k,p}function gc(e,h){if(h===P)return[0,0];var g=Math.sin(h),k=g*g,q=k*k,p=1+q,r=1+3*q,v=1-q,y=C(1/Math.sqrt(p)),t=v+k*p*y,E=(1-g)/t,s=Math.sqrt(E),D=E*p,w=Math.sqrt(D),A=s*v;if(0===e)return[0,-(A+k*w)];var B=Math.cos(h),J=1/B,K=2*g*B,y=(-t*B-(1-g)*(-3*k+y*r)*K)/(t*t),g=-J*K,p=-J*(k*p*y+E*r*K),v=-2*J*(v*(0.5*y/s)-2*k*s*K),s=4*e/x;if(e>0.222*x||h<x/4&&e>0.175*x){q=(A+k*S(D*(1+q)-A*A))/(1+q);if(e>x/4)return[q,q];E=q;y=0.5*q;J=50;q=0.5*(y+E);do{K=Math.sqrt(D-
q*q);r=q*(v+g*K)+p*C(q/w)-s;if(!r)break;0>r?y=q:E=q;q=0.5*(y+E)}while(Math.abs(E-y)>R&&0<--J)}else{q=R;J=25;do E=q*q,K=S(D-E),y=v+g*K,r=q*y+p*C(q/w)-s,E=y+(p-g*E)/K,q-=K=K?r/E:0;while(Math.abs(K)>R&&0<--J)}return[q,-A-k*S(D-q*q)]}function Cb(e,h){var g,k,q,p,r;if(h<R)return p=Math.sin(e),k=Math.cos(e),g=0.25*h*(e-p*k),[p-g*k,k+g*p,1-0.5*h*p*p,e-g];if(h>=1-R)return g=0.25*(1-h),k=0.5*(Math.exp(e)+Math.exp(-e)),q=Math.exp(2*e),p=(q-1)/(q+1),q=1/k,r=k*O(e),[p+g*(r-e)/(k*k),q-g*p*q*(r-e),q+g*p*q*(r+e),
2*Math.atan(Math.exp(e))-P+g*(r-e)/k];var v=[1,0,0,0,0,0,0,0,0],y=[Math.sqrt(h),0,0,0,0,0,0,0,0],t=0;k=Math.sqrt(1-h);for(r=1;Math.abs(y[t]/v[t])>R&&8>t;)g=v[t++],y[t]=0.5*(g-k),v[t]=0.5*(g+k),k=S(g*k),r*=2;q=r*v[t]*e;do p=y[t]*Math.sin(k=q)/v[t],q=0.5*(C(p)+q);while(--t);return[Math.sin(q),p=Math.cos(q),p/Math.cos(q-k),q]}function Db(e,h){if(!h)return e;if(1===h)return Math.log(Math.tan(e/2+x/4));for(var g=1,k=Math.sqrt(1-h),q=Math.sqrt(h),p=0;Math.abs(q)>R;p++)e%x?(q=Math.atan(k*Math.tan(e)/g),
0>q&&(q+=x),e+=q+~~(e/x)*x):e+=e,q=(g+k)/2,k=Math.sqrt(g*k),q=((g=q)-k)/2;return e/(Math.pow(2,p)*g)}function Eb(e,h){var g=(Math.SQRT2-1)/(Math.SQRT2+1),k=Math.sqrt(1-g*g),q=Db(P,k*k),p=Math.log(Math.tan(x/4+Math.abs(h)/2)),p=Math.exp(-1*p)/Math.sqrt(g),g=p*Math.cos(-1*e),r=p*Math.sin(-1*e),p=g*g,v=r+1,r=1-p-r*r,p=[0.5*((0<=g?P:-P)-Math.atan2(r,2*g)),-0.25*Math.log(r*r+4*p)+0.5*Math.log(v*v+p)];g=p[0];p=p[1];k*=k;v=Math.abs(g);r=Math.abs(p);r=O(r);if(v)var y=1/Math.sin(v),v=1/(Math.tan(v)*Math.tan(v)),
r=-(v+k*r*r*y*y-1+k),r=0.5*(-r+Math.sqrt(r*r-4*(k-1)*v)),k=[Db(Math.atan(1/Math.sqrt(r)),k)*I(g),Db(Math.atan(S((r/v-1)/k)),1-k)*I(p)];else k=[0,Db(Math.atan(r),1-k)*I(p)];return[-k[1],(0<=h?1:-1)*(0.5*q-k[0])]}function Sa(e){function h(e,h){var v=q(e,h);e=v[0];h=v[1];var v=Math.sin(h),y=Math.cos(h),t=Math.cos(e),E=ca(g*v+k*y*t),x=Math.sin(E),E=Math.abs(x)>R?E/x:1;return[E*k*Math.sin(e),(Math.abs(e)>P?E:-E)*(g*y-k*v*t)]}var g=Math.sin(e),k=Math.cos(e),q=Ic(e);q.invert=Ic(-e);h.invert=function(e,k){var h=
Math.sqrt(e*e+k*k),y=-Math.sin(h),t=Math.cos(h),E=h*t,x=-k*y,D=h*g,s=S(E*E+x*x-D*D),E=Math.atan2(E*D+x*s,x*D-E*s),h=(h>P?-1:1)*Math.atan2(e*y,h*Math.cos(E)*t+k*Math.sin(E)*y);return q.invert(h,E)};return h}function Ic(e){var h=Math.sin(e),g=Math.cos(e);return function(e,q){var p=Math.cos(q),r=Math.cos(e)*p,p=Math.sin(e)*p,v=Math.sin(q);return[Math.atan2(p,r*g-v*h),C(v*g+r*h)]}}function Jc(e,h){function g(g,q){var p=pb(g/h,q);p[0]*=e;return p}2>arguments.length&&(h=e);if(1===h)return pb;if(Infinity===
h)return Xa;g.invert=function(g,q){var p=pb.invert(g/e,q);p[0]*=h;return p};return g}function Xa(e,h){return[e*Math.cos(h)/Math.cos(h/=2),2*Math.sin(h)]}function Ba(e,h){for(var g=Math.sin(h)*(0>h?2.43763:2.67595),k=0,q;20>k&&!(h-=q=(h+Math.sin(h)-g)/(1+Math.cos(h)),Math.abs(q)<R);k++);return[0.85*e*Math.cos(h*=0.5),Math.sin(h)*(0>h?1.93052:1.75859)]}function jc(e){function h(h,s){var D;D=Math.abs(s);if(D>k){var w=Math.min(e-1,Math.max(0,Math.floor((h+x)/t)));h+=x*(e-1)/e-w*t;D=d3.geo.collignon.raw(h,
D);D[0]=D[0]*q/p-q*(e-1)/(2*e)+w*q/e;D[1]=r+4*(D[1]-v)*y/q;0>s&&(D[1]=-D[1])}else D=g(h,s);D[0]/=2;return D}var g=d3.geo.cylindricalEqualArea.raw(0),k=qb*x/180,q=2*x,p=d3.geo.collignon.raw(x,k)[0]-d3.geo.collignon.raw(-x,k)[0],r=g(0,k)[1],v=d3.geo.collignon.raw(0,k)[1],y=d3.geo.collignon.raw(0,P)[1]-v,t=2*x/e;h.invert=function(k,h){k*=2;var D=Math.abs(h);if(D>r){var s=Math.min(e-1,Math.max(0,Math.floor((k+x)/t)));k=(k+x*(e-1)/e-s*t)*p/q;D=d3.geo.collignon.raw.invert(k,0.25*(D-r)*q/y+v);D[0]-=x*(e-
1)/e-s*t;0>h&&(D[1]=-D[1]);return D}return g.invert(k,h)};return h}function Ca(e){function h(k,h){var D=1-Math.sin(h),s;if(D&&2>D){var w=P-h,A=25,B;do{B=Math.sin(w);var J=Math.cos(w);s=q+Math.atan2(B,g-J);J=1+t-2*g*J;w-=B=(w-y*q-g*B+J*s-0.5*D*r)/(2*g*B*s)}while(Math.abs(B)>Nb&&0<--A);D=p*Math.sqrt(J);s=k*s/x}else D=p*(e+D),s=k*q/x;return[D*Math.sin(s),v-D*Math.cos(s)]}var g=1+e,k=Math.sin(1/g),q=C(k),p=2*Math.sqrt(x/(r=x+4*q*g)),r,v=0.5*p*(g+Math.sqrt(e*(2+e))),y=e*e,t=g*g;h.invert=function(e,k){var h=
e*e+(k-=v)*k,s=(1+t-h/(p*p))/(2*g),w=ca(s),A=Math.sin(w),B=q+Math.atan2(A,g-s);return[C(e/Math.sqrt(h))*x/B,C(1-2*(w-y*q-g*A+(1+t-2*g*s)*B)/r)]};return h}function Fb(e,h){return h>-rb?(e=Ya(e,h),e[1]+=Na,e):ia(e,h)}function Aa(e,h){return Math.abs(h)>rb?(e=Ya(e,h),e[1]-=0<h?Na:-Na,e):ia(e,h)}function lc(e,h){return[3*e/(2*x)*Math.sqrt(x*x/3-h*h),h]}function Kc(e){function h(g,k){if(Math.abs(Math.abs(k)-P)<R)return[0,0>k?-2:2];var h=Math.sin(k),h=Math.pow((1+h)/(1-h),e/2),p=0.5*(h+1/h)+Math.cos(g*=
e);return[2*Math.sin(g)/p,(h-1/h)/p]}h.invert=function(g,k){var h=Math.abs(k);if(Math.abs(h-2)<R)return g?null:[0,I(k)*P];if(2<h)return null;g/=2;k/=2;var h=g*g,p=k*k,r=2*k/(1+h+p),r=Math.pow((1+r)/(1-r),1/e);return[Math.atan2(2*g,1-h-p)/e,C((r-1)/(r+1))]};return h}function Gb(e,h){return[e*(1+Math.sqrt(Math.cos(h)))/2,h/(Math.cos(h/2)*Math.cos(e/6))]}function Ib(e,h){var g=e*e,k=h*h;return[e*(0.975534+k*(-0.119161+-0.0143059*g+-0.0547009*k)),h*(1.00384+g*(0.0802894+-0.02855*k+1.99025E-4*g)+k*(0.0998909+
-0.0491032*k))]}function Hb(e,h){return[Math.sin(e)/Math.cos(h),Math.tan(h)*Math.cos(e)]}function ra(e){function h(h,p){var r=p-e,v=Math.abs(r)<R?h*g:Math.abs(v=x/4+p/2)<R||Math.abs(Math.abs(v)-P)<R?0:h*r/Math.log(Math.tan(v)/k);return[v,r]}var g=Math.cos(e),k=Math.tan(x/4+e/2);h.invert=function(h,p){var r,v=p+e;return[Math.abs(p)<R?h/g:Math.abs(r=x/4+v/2)<R||Math.abs(Math.abs(r)-P)<R?0:h*Math.log(Math.tan(r)/k)/p,v]};return h}function lb(e,h){return[e,1.25*Math.log(Math.tan(x/4+0.4*h))]}function db(e){function h(k,
h){for(var p=Math.cos(h),r=2/(1+p*Math.cos(k)),p=r*p*Math.sin(k),r=r*Math.sin(h),v=g,y=e[v],t=y[0],E=y[1],x;0<=--v;)y=e[v],t=y[0]+p*(x=t)-r*E,E=y[1]+p*E+r*x;t=p*(x=t)-r*E;return[t,p*E+r*x]}var g=e.length-1;h.invert=function(k,h){var p=20,r=k,v=h;do{for(var y=g,t=e[y],E=t[0],x=t[1],s=0,w=0,A;0<=--y;)t=e[y],s=E+r*(A=s)-v*w,w=x+r*w+v*A,E=t[0]+r*(A=E)-v*x,x=t[1]+r*x+v*A;s=E+r*(A=s)-v*w;w=x+r*w+v*A;E=r*(A=E)-v*x-k;x=r*x+v*A-h;t=s*s+w*w;r-=y=(E*s+x*w)/t;v-=E=(x*s-E*w)/t}while(Math.abs(y)+Math.abs(E)>R*
R&&0<--p);if(p)return p=Math.sqrt(r*r+v*v),E=2*Math.atan(0.5*p),x=Math.sin(E),[Math.atan2(r*x,p*Math.cos(E)),p?C(v*x/p):0]};return h}function hc(e,h){var g=Math.sqrt(6),k=Math.sqrt(7),q=Math.asin(7*Math.sin(h)/(3*g));return[g*e*(2*Math.cos(2*q/3)-1)/k,9*Math.sin(q/3)/k]}function ic(e,h){for(var g=(1+Math.SQRT1_2)*Math.sin(h),k=h,q=0,p;25>q&&!(k-=p=(Math.sin(k/2)+Math.sin(k)-g)/(0.5*Math.cos(k/2)+Math.cos(k)),Math.abs(p)<R);q++);return[e*(1+2*Math.cos(k)/Math.cos(k/2))/(3*Math.SQRT2),2*Math.sqrt(3)*
Math.sin(k/2)/Math.sqrt(2+Math.SQRT2)]}function kc(e,h){for(var g=Math.sqrt(6/(4+x)),k=(1+x/4)*Math.sin(h),q=h/2,p=0,r;25>p&&!(q-=r=(q/2+Math.sin(q)-k)/(0.5+Math.cos(q)),Math.abs(r)<R);p++);return[g*(0.5+Math.cos(q))*e/1.5,g*q]}function Kb(e,h){var g=h*h,k=g*g;return[e*(0.8707-0.131979*g+k*(-0.013791+k*(0.003971*g-0.001529*k))),h*(1.007226+g*(0.015085+k*(-0.044475+0.028874*g-0.005916*k)))]}function Jb(e,h){return[e*(1+Math.cos(h))/2,2*(h-Math.tan(h/2))]}function ga(e,h){var g=h*h;return[e,h*(sc+g*
g*(Wc+g*(tc+ab*g)))]}function Lb(e,h){if(Math.abs(h)<R)return[e,0];var g=Math.tan(h),k=e*Math.sin(h);return[Math.sin(k)/g,h+(1-Math.cos(k))/g]}function Mb(e){function h(k,h){var p=g?Math.tan(k*g/2)/g:k/2;if(!h)return[2*p,-e];var p=2*Math.atan(p*Math.sin(h)),r=1/Math.tan(h);return[Math.sin(p)*r,h+(1-Math.cos(p))*r-e]}var g=Math.sin(e);h.invert=function(k,h){if(Math.abs(h+=e)<R)return[g?2*Math.atan(g*k/2)/g:k,0];var p=k*k+h*h,r=0,v=10,y;do{y=Math.tan(r);var t=1/Math.cos(r),E=p-2*h*r+r*r,r=r-(y=(y*E+
2*(r-h))/(2+E*t*t+2*(r-h)*y))}while(Math.abs(y)>R&&0<--v);p=k*(y=Math.tan(r));p=Math.tan(Math.abs(h)<Math.abs(r+1/y)?0.5*C(p):0.5*ca(p)+x/4)/Math.sin(r);return[g?2*Math.atan(g*p)/g:2*p,r]};return h}function Lc(e,h){var g=Math.min(18,36*Math.abs(h)/x),k=Math.floor(g),g=g-k,q=(y=xa[k])[0],p=y[1],r=(y=xa[++k])[0],v=y[1],k=(y=xa[Math.min(19,++k)])[0],y=y[1],y;return[e*(r+g*(k-q)/2+g*g*(k-2*r+q)/2),(0<h?P:-P)*(v+g*(y-p)/2+g*g*(y-2*v+p)/2)]}function Mc(e){function h(g,h){var q=Math.cos(h),p=(e-1)/(e-q*
Math.cos(g));return[p*q*Math.sin(g),p*Math.sin(h)]}h.invert=function(g,h){var q=g*g+h*h,p=Math.sqrt(q),q=(e-Math.sqrt(1-q*(e+1)/(e-1)))/((e-1)/p+p/(e-1));return[Math.atan2(g*q,p*Math.sqrt(1-q*q)),p?C(h*q/p):0]};return h}function Nc(e,h){function g(g,h){var y=k(g,h),t=y[1],x=t*p/(e-1)+q;return[y[0]*q/x,t/x]}var k=Mc(e);if(!h)return k;var q=Math.cos(h),p=Math.sin(h);g.invert=function(g,h){var y=(e-1)/(e-1-h*p);return k.invert(y*g,y*h*q)};return g}function mc(e,h){var g=Math.tan(h/2),k=Math.sin(x/4*
g);return[e*(0.74482-0.34588*k*k),1.70711*g]}function nc(e){function h(h,p){var r=ca(Math.cos(p)*Math.cos(h-g)),x=ca(Math.cos(p)*Math.cos(h-k)),r=r*r,x=x*x;return[(r-x)/(2*e),(0>p?-1:1)*S(4*q*x-(q-r+x)*(q-r+x))/(2*e)]}if(!e)return d3.geo.azimuthalEquidistant.raw;var g=-e/2,k=-g,q=e*e,p=Math.tan(k),r=0.5/Math.sin(k);h.invert=function(e,h){var q=h*h,x=Math.cos(Math.sqrt(q+(s=e+g)*s)),q=Math.cos(Math.sqrt(q+(s=e+k)*s)),s,D;return[Math.atan2(D=x-q,s=(x+q)*p),(0>h?-1:1)*ca(Math.sqrt(s*s+D*D)*r)]};return h}
function qd(e){function h(e,h){var p=d3.geo.gnomonic.raw(e,h);p[0]*=g;return p}var g=Math.cos(e);h.invert=function(e,h){return d3.geo.gnomonic.raw.invert(e/g,h)};return h}function Oc(e,h){if(Math.abs(h)<R)return[e,0];var g=Math.abs(h/P),k=C(g);if(Math.abs(e)<R||Math.abs(Math.abs(h)-P)<R)return[0,I(h)*x*Math.tan(k/2)];var q=Math.cos(k),k=Math.abs(x/e-e/x)/2,p=k*k,q=q/(g+q-1),g=q*(2/g-1),r=g*g,v=r+p,y=q-r,t=p+q;return[I(e)*x*(k*y+Math.sqrt(p*y*y-v*(q*q-r)))/v,I(h)*x*(g*t-k*Math.sqrt((p+1)*v-t*t))/v]}
function Ea(e,h){if(Math.abs(h)<R)return[e,0];var g=Math.abs(h/P),k=C(g);if(Math.abs(e)<R||Math.abs(Math.abs(h)-P)<R)return[0,I(h)*x*Math.tan(k/2)];var q=Math.cos(k),k=Math.abs(x/e-e/x)/2,p=k*k,g=q*(Math.sqrt(1+p)-k*q)/(1+p*g*g);return[I(e)*x*g,I(h)*x*S(1-g*(2*k+g))]}function Ta(e,h){if(Math.abs(h)<R)return[e,0];var g=h/P,k=C(g);if(Math.abs(e)<R||Math.abs(Math.abs(h)-P)<R)return[0,x*Math.tan(k/2)];var q=(x/e-e/x)/2,g=g/(1+Math.cos(k));return[x*(I(e)*S(q*q+1-g*g)-q),x*g]}function mb(e,h){if(!h)return[e,
0];var g=Math.abs(h);if(!e||g===P)return[0,h];var k=g/P,g=k*k,q=(8*k-g*(g+2)-5)/(2*g*(k-1)),p=q*q,r=k*q,v=g+p+2*r,k=k+3*q,q=e/P,q=q+1/q,q=I(Math.abs(e)-P)*Math.sqrt(q*q-4),y=q*q,g=(q*(v+p-1)+2*S(v*(g+p*y-1)+(1-g)*(g*(k*k+4*p)+12*r*p+4*p*p)))/(4*v+y);return[I(e)*P*g,I(h)*P*S(1+q*Math.abs(g)-g*g)]}function Pc(e,h){return[e*Math.sqrt(1-3*h*h/(x*x)),h]}function qa(e,h){var g=0.90631*Math.sin(h),k=Math.sqrt(1-g*g),q=Math.sqrt(2/(1+k*Math.cos(e/=3)));return[2.66723*k*q*Math.sin(e),1.24104*g*q]}function nb(e,
h){var g=Math.cos(h),k=Math.cos(e)*g,q=1-k,p=Math.cos(e=Math.atan2(Math.sin(e)*g,-Math.sin(h))),r=Math.sin(e),g=S(1-k*k);return[r*g-p*q,-p*g-r*q]}function ob(e,h){var g=da(e,h);return[(g[0]+e/P)/2,(g[1]+h)/2]}d3.geo.project=function(e,h){var g=h.stream;if(!g)throw Error("not yet supported");return(e&&sd.hasOwnProperty(e.type)?sd[e.type]:na)(e,g)};var sd={Feature:ja,FeatureCollection:function(e,h){return{type:"FeatureCollection",features:e.features.map(function(e){return ja(e,h)})}}},ua=[],La=[],ud=
{point:function(e,h){ua.push([e,h])},result:function(){var e=ua.length?2>ua.length?{type:"Point",coordinates:ua[0]}:{type:"MultiPoint",coordinates:ua}:null;ua=[];return e}},td={lineStart:M,point:function(e,h){ua.push([e,h])},lineEnd:function(){ua.length&&(La.push(ua),ua=[])},result:function(){var e=La.length?2>La.length?{type:"LineString",coordinates:La[0]}:{type:"MultiLineString",coordinates:La}:null;La=[];return e}},Qc={polygonStart:M,lineStart:M,point:function(e,h){ua.push([e,h])},lineEnd:function(){var e=
ua.length;if(e){do ua.push(ua[0].slice());while(4>++e);La.push(ua);ua=[]}},polygonEnd:M,result:function(){if(!La.length)return null;var e=[],h=[];La.forEach(function(g){var k;if(4>(q=g.length))k=!1;else{k=0;for(var q,p=g[q-1][1]*g[0][0]-g[q-1][0]*g[0][1];++k<q;)p+=g[k-1][1]*g[k][0]-g[k-1][0]*g[k][1];k=0>=p}k?e.push([g]):h.push(g)});h.forEach(function(g){var h=g[0];e.some(function(e){for(var p=e[0],r=h[0],v=h[1],y=!1,t=0,x=p.length,s=x-1;t<x;s=t++){var D=p[t],w=D[0],D=D[1],A=p[s],s=A[0],A=A[1];D>v^
A>v&&r<(s-w)*(v-D)/(A-D)+w&&(y=!y)}if(y)return e.push(g),!0})||e.push([g])});La=[];return e.length?1<e.length?{type:"MultiPolygon",coordinates:e}:{type:"Polygon",coordinates:e[0]}:null}},rd={Point:ud,MultiPoint:ud,LineString:td,MultiLineString:td,Polygon:Qc,MultiPolygon:Qc,Sphere:Qc},R=1E-6,Nb=R*R,x=Math.PI,P=x/2,Fa=Math.sqrt(x),ta=x/180,wa=180/x,Z=d3.geo.projection,sa=d3.geo.projectionMutator;d3.geo.interrupt=function(e){function h(g,h){for(var k=0>h?-1:1,q=p[+(0>h)],r=0,v=q.length-1;r<v&&g>q[r][2][0];++r);
v=e(g-q[r][1][0],h);v[0]+=e(q[r][1][0],k*h>k*q[r][0][1]?q[r][0][1]:h)[0];return v}function g(){r=p.map(function(g){return g.map(function(g){var h=e(g[0][0],g[0][1])[0],k=e(g[2][0],g[2][1])[0],p=e(g[1][0],g[0][1])[1];g=e(g[1][0],g[1][1])[1];var q;p>g&&(q=p,p=g,g=q);return[[h,p],[k,g]]})})}function k(){for(var e=[],g=0,h=p[0].length;g<h;++g){var k=p[0][g],r=180*k[0][0]/x,v=180*k[0][1]/x,y=180*k[1][1]/x,s=180*k[2][0]/x,k=180*k[2][1]/x;e.push(q([[r+1E-6,v+1E-6],[r+1E-6,y-1E-6],[s-1E-6,y-1E-6],[s-1E-6,
k+1E-6]],30))}for(g=p[1].length-1;0<=g;--g)k=p[1][g],r=180*k[0][0]/x,v=180*k[0][1]/x,y=180*k[1][1]/x,s=180*k[2][0]/x,k=180*k[2][1]/x,e.push(q([[s-1E-6,k-1E-6],[s-1E-6,y+1E-6],[r+1E-6,y+1E-6],[r+1E-6,v-1E-6]],30));return{type:"Polygon",coordinates:[d3.merge(e)]}}function q(e,g){for(var h=-1,k=e.length,p=e[0],q,r,v,y=[];++h<k;){q=e[h];r=(q[0]-p[0])/g;v=(q[1]-p[1])/g;for(var x=0;x<g;++x)y.push([p[0]+x*r,p[1]+x*v]);p=q}y.push(q);return y}var p=[[[[-x,0],[0,P],[x,0]]],[[[-x,0],[0,-P],[x,0]]]],r;e.invert&&
(h.invert=function(g,k){for(var q=r[+(0>k)],v=p[+(0>k)],y=0,x=q.length;y<x;++y){var s=q[y];if(s[0][0]<=g&&g<s[1][0]&&s[0][1]<=k&&k<s[1][1])return q=e.invert(g-e(v[y][1][0],0)[0],k),q[0]+=v[y][1][0],v=h(q[0],q[1]),y=[g,k],Math.abs(v[0]-y[0])<R&&Math.abs(v[1]-y[1])<R?q:null}});var v=d3.geo.projection(h),y=v.stream;v.stream=function(e){var g=v.rotate(),h=y(e),p=(v.rotate([0,0]),y(e));v.rotate(g);h.sphere=function(){d3.geo.stream(k(),p)};return h};v.lobes=function(e){if(!arguments.length)return p.map(function(e){return e.map(function(e){return[[180*
e[0][0]/x,180*e[0][1]/x],[180*e[1][0]/x,180*e[1][1]/x],[180*e[2][0]/x,180*e[2][1]/x]]})});p=e.map(function(e){return e.map(function(e){return[[e[0][0]*x/180,e[0][1]*x/180],[e[1][0]*x/180,e[1][1]*x/180],[e[2][0]*x/180,e[2][1]*x/180]]})});g();return v};return v};(d3.geo.airy=function(){var e=P,h=sa(V),g=h(e);g.radius=function(g){return arguments.length?h(e=g*x/180):180*(e/x)};return g}).raw=V;da.invert=function(e,h){if(!(e*e+4*h*h>x*x+R)){var g=e,k=h,q=25;do{var p=Math.sin(g),r=Math.sin(g/2),v=Math.cos(g/
2),y=Math.sin(k),t=Math.cos(k),s=Math.sin(2*k),w=y*y,D=t*t,A=r*r,B=1-D*v*v,J=B?ca(t*v)*Math.sqrt(K=1/B):K=0,K,B=2*J*t*r-e,F=J*y-h,H=K*(D*A+J*t*v*w),C=K*(0.5*p*s-2*J*y*r),p=0.25*K*(s*r-J*y*D*p),t=K*(w*v+J*A*t),v=C*p-t*H;if(!v)break;C=(F*C-B*t)/v;B=(B*p-F*H)/v;g-=C;k-=B}while((Math.abs(C)>R||Math.abs(B)>R)&&0<--q);return[g,k]}};(d3.geo.aitoff=function(){return Z(da)}).raw=da;(d3.geo.armadillo=function(){var e=x/9,h=0<e?1:-1,g=Math.tan(h*e),k=sa(ha),q=k(e),p=q.stream;q.parallel=function(p){if(!arguments.length)return 180*
(e/x);g=Math.tan((h=0<(e=p*x/180)?1:-1)*e);return k(e)};q.stream=function(k){var v=q.rotate(),y=p(k),t=(q.rotate([0,0]),p(k));q.rotate(v);y.sphere=function(){t.polygonStart();t.lineStart();for(var k=-180*h;180>h*k;k+=90*h)t.point(k,90*h);for(;-180<=h*(k-=e);)t.point(k,h*-Math.atan2(Math.cos(k*ta/2),g)*wa);t.lineEnd();t.polygonEnd()};return y};return q}).raw=ha;ea.invert=function(e,h){e*=0.375;h*=0.375;if(!e&&1<Math.abs(h))return null;var g=1+e*e+h*h,k=Math.sqrt(0.5*(g-Math.sqrt(g*g-4*h*h))),g=C(k)/
3;k?(k=Math.abs(h/k),k=Math.log(k+S(k*k-1))/3):(k=Math.abs(e),k=Math.log(k+S(k*k+1))/3);var q=Math.cos(g),p=0.5*(Math.exp(k)+Math.exp(-k)),r=p*p-q*q;return[2*I(e)*Math.atan2(O(k)*q,0.25-r),2*I(h)*Math.atan2(p*Math.sin(g),0.25+r)]};(d3.geo.august=function(){return Z(ea)}).raw=ea;var Rc=Math.log(1+Math.SQRT2);B.invert=function(e,h){if((r=Math.abs(h))<Rc)return[e,2*Math.atan(Math.exp(h))-P];var g=Math.sqrt(8),k=x/4,q=25,p,r;do{p=Math.cos(k/2);var v=Math.tan(k/2),k=k-(p=(g*(k-x/4)-Math.log(v)-r)/(g-0.5*
p*p/v))}while(Math.abs(p)>Nb&&0<--q);return[e/(Math.cos(k)*(g-1/Math.sin(k))),I(h)*k]};(d3.geo.baker=function(){return Z(B)}).raw=B;var Sc=d3.geo.azimuthalEquidistant.raw;(d3.geo.berghaus=function(){var e=5,h=sa(F),g=h(e),k=g.stream,q=-Math.cos(0.01*ta),p=Math.sin(0.01*ta);g.lobes=function(g){return arguments.length?h(e=+g):e};g.stream=function(h){var v=g.rotate(),y=k(h),t=(g.rotate([0,0]),k(h));g.rotate(v);y.sphere=function(){t.polygonStart();t.lineStart();for(var g=0,h=360/e,k=2*x/e,r=90-180/e,
v=P;g<e;++g,r-=h,v-=k)t.point(Math.atan2(p*Math.cos(v),q)*wa,C(p*Math.sin(v))*wa),-90>r?(t.point(-90,-180-r-0.01),t.point(-90,-180-r+0.01)):(t.point(90,r+0.01),t.point(90,r-0.01));t.lineEnd();t.polygonEnd()};return y};return g}).raw=F;var oc=H(x),Ya=s(Math.SQRT2/P,Math.SQRT2,x);(d3.geo.mollweide=function(){return Z(Ya)}).raw=Ya;w.invert=function(e,h){var g=2.00276*h,k=0>h?-x/4:x/4,q=25,p;do p=g-Math.SQRT2*Math.sin(k),k-=p=(Math.sin(2*k)+2*k-x*Math.sin(p))/(2*Math.cos(2*k)+2+x*Math.cos(p)*Math.SQRT2*
Math.cos(k));while(Math.abs(p)>R&&0<--q);p=g-Math.SQRT2*Math.sin(k);return[e*(1/Math.cos(p)+1.11072/Math.cos(k))/2.00276,p]};(d3.geo.boggs=function(){return Z(w)}).raw=w;ia.invert=function(e,h){return[e/Math.cos(h),h]};(d3.geo.sinusoidal=function(){return Z(ia)}).raw=ia;(d3.geo.bonne=function(){return A(K).parallel(45)}).raw=K;(d3.geo.bottomley=function(){var e=x/6,h=d3.geo.projectionMutator(Wb),g=h(e);g.variant=function(g){return arguments.length?h(e=+g):e};return g}).raw=Wb;var Tc=s(1,4/x,x);(d3.geo.bromley=
function(){return Z(Tc)}).raw=Tc;(d3.geo.chamberlin=function(){var e=[[0,0],[0,0],[0,0]],h=sa(Wa),g=h(e),k=g.rotate;delete g.rotate;g.points=function(q){if(!arguments.length)return e;e=q;var p=d3.geo.centroid({type:"MultiPoint",coordinates:e}),p=[-p[0],-p[1]];k.call(g,p);return h(e.map(d3.geo.rotation(p)).map(Dc))};return g.points([[-150,55],[-35,55],[-92.5,10]])}).raw=Wa;yb.invert=function(e,h){var g=(g=h/Fa-1)*g;return[0<g?e*Math.sqrt(x/g)/2:0,C(1-g)]};(d3.geo.collignon=function(){return Z(yb)}).raw=
yb;(d3.geo.craig=function(){return A(Ra)}).raw=Ra;zb.invert=function(e,h){var g=Math.sqrt(3),k=3*C(h/(g*Fa));return[Fa*e/(g*(2*Math.cos(2*k/3)-1)),k]};(d3.geo.craster=function(){return Z(zb)}).raw=zb;(d3.geo.cylindricalEqualArea=function(){return A(Ec)}).raw=Ec;(d3.geo.cylindricalStereographic=function(){return A(Fc)}).raw=Fc;Xb.invert=function(e,h){var g=Math.sqrt(8/(3*x)),k=h/g;return[e/(g*(1-Math.abs(k)/x)),k]};(d3.geo.eckert1=function(){return Z(Xb)}).raw=Xb;Yb.invert=function(e,h){var g=2-Math.abs(h)/
Math.sqrt(2*x/3);return[e*Math.sqrt(6*x)/(2*g),I(h)*C((4-g*g)/3)]};(d3.geo.eckert2=function(){return Z(Yb)}).raw=Yb;Zb.invert=function(e,h){var g=Math.sqrt(x*(4+x))/2;return[e*g/(1+S(1-h*h*(4+x)/(4*x))),h*g/2]};(d3.geo.eckert3=function(){return Z(Zb)}).raw=Zb;Gc.invert=function(e,h){var g=0.5*h*Math.sqrt((4+x)/x),k=C(g),q=Math.cos(k);return[e/(2/Math.sqrt(x*(4+x))*(1+q)),C((k+g*(q+2))/(2+P))]};(d3.geo.eckert4=function(){return Z(Gc)}).raw=Gc;$b.invert=function(e,h){var g=Math.sqrt(2+x),k=h*g/2;return[g*
e/(1+Math.cos(k)),k]};(d3.geo.eckert5=function(){return Z($b)}).raw=$b;ac.invert=function(e,h){var g=1+P,k=Math.sqrt(g/2);return[2*e*k/(1+Math.cos(h*=k)),C((h+Math.sin(h))/g)]};(d3.geo.eckert6=function(){return Z(ac)}).raw=ac;bc.invert=function(e,h){var g=d3.geo.august.raw.invert(e/1.2,1.065*h);if(!g)return null;var k=g[0],g=g[1],q=20;e/=pc;h/=pc;do{var p=k/2,r=g/2,v=Math.sin(p),y=Math.cos(p),t=Math.sin(r),x=Math.cos(r),s=Math.cos(g),w=Math.sqrt(s),A=t/(x+Math.SQRT2*y*w),B=A*A,J=Math.sqrt(2/(1+B)),
K=(Math.SQRT2*x+(y+v)*w)/(Math.SQRT2*x+(y-v)*w),F=Math.sqrt(K),H=F-1/F,C=F+1/F,r=J*H-2*Math.log(F)-e,p=J*A*C-2*Math.atan(A)-h,O=t&&Math.SQRT1_2*w*v*B/t,ia=(Math.SQRT2*y*x+w)/(2*(x+Math.SQRT2*y*w)*(x+Math.SQRT2*y*w)*w),I=-0.5*A*J*J*J,ea=I*O,I=I*ia,Wa=(Wa=2*x+Math.SQRT2*w*(y-v))*Wa*F,y=(Math.SQRT2*y*x*w+s)/Wa,t=-(Math.SQRT2*v*t)/(w*Wa),v=H*ea-2*y/F+J*(y+y/K),F=H*I-2*t/F+J*(t+t/K),O=A*C*ea-2*O/(1+B)+J*C*O+J*A*(y-y/K),B=A*C*I-2*ia/(1+B)+J*C*ia+J*A*(t-t/K),A=F*O-B*v;if(!A)break;B=(p*F-r*B)/A;r=(r*O-p*
v)/A;k-=B;g=Math.max(-P,Math.min(P,g-r))}while((Math.abs(B)>R||Math.abs(r)>R)&&0<--q);return Math.abs(Math.abs(g)-P)<R?[0,g]:q&&[k,g]};var pc=3+2*Math.SQRT2;(d3.geo.eisenlohr=function(){return Z(bc)}).raw=bc;Hc.invert=function(e,h){var g=h/(1+Ma);return[e?e/(Ma*S(1-g*g)):0,2*Math.atan(g)]};var Ma=Math.cos(35*ta);(d3.geo.fahey=function(){return Z(Hc)}).raw=Hc;cc.invert=function(e,h){var g=Math.atan(h/Fa),k=Math.cos(g),g=2*g;return[0.5*e*Fa/(Math.cos(g)*k*k),g]};(d3.geo.foucaut=function(){return Z(cc)}).raw=
cc;d3.geo.gilbert=function(e){function h(g){return e([0.5*g[0],C(Math.tan(0.5*g[1]*ta))*wa])}var g=d3.geo.equirectangular().scale(wa).translate([0,0]);e.invert&&(h.invert=function(g){g=e.invert(g);g[0]*=2;g[1]=2*Math.atan(Math.sin(g[1]*ta))*wa;return g});h.stream=function(h){h=e.stream(h);var q=g.stream({point:function(e,g){h.point(0.5*e,C(Math.tan(0.5*-g*ta))*wa)},lineStart:function(){h.lineStart()},lineEnd:function(){h.lineEnd()},polygonStart:function(){h.polygonStart()},polygonEnd:function(){h.polygonEnd()}});
q.sphere=function(){h.sphere()};q.valid=!1;return q};return h};var Pb=d3.geo.azimuthalEquidistant.raw;(d3.geo.gingery=function(){var e=6,h=30*ta,g=Math.cos(h),k=Math.sin(h),q=sa(id),p=q(h,e),r=p.stream,v=-Math.cos(0.01*ta),y=Math.sin(0.01*ta);p.radius=function(p){if(!arguments.length)return h*wa;g=Math.cos(h=p*ta);k=Math.sin(h);return q(h,e)};p.lobes=function(g){return arguments.length?q(h,e=+g):e};p.stream=function(h){var q=p.rotate(),s=r(h),w=(p.rotate([0,0]),r(h));p.rotate(q);s.sphere=function(){w.polygonStart();
w.lineStart();for(var h=0,p=2*x/e,q=0;h<e;++h,q-=p)w.point(Math.atan2(y*Math.cos(q),v)*wa,Math.asin(y*Math.sin(q))*wa),w.point(Math.atan2(k*Math.cos(q-p/2),g)*wa,Math.asin(k*Math.sin(q-p/2))*wa);w.lineEnd();w.polygonEnd()};return s};return p}).raw=id;var fb=dc(2.8284,-1.6988,0.75432,-0.18071,1.76003,-0.38914,0.042555);(d3.geo.ginzburg4=function(){return Z(fb)}).raw=fb;var qc=dc(2.583819,-0.835827,0.170354,-0.038094,1.543313,-0.411435,0.082742);(d3.geo.ginzburg5=function(){return Z(qc)}).raw=qc;var Qb=
dc(5/6*x,-0.62636,-0.0344,0,1.3493,-0.05524,0,0.045);(d3.geo.ginzburg6=function(){return Z(Qb)}).raw=Qb;ec.invert=function(e,h){var g=e,k=h,q=50,p;do var r=k*k,k=k-(p=(k*(1+r/12)-h)/(1+r/4));while(Math.abs(p)>R&&0<--q);q=50;e/=1-0.162388*r;do var v=(v=g*g)*v,g=g-(p=(g*(0.87-9.52426E-4*v)-e)/(0.87-0.00476213*v));while(Math.abs(p)>R&&0<--q);return[g,k]};(d3.geo.ginzburg8=function(){return Z(ec)}).raw=ec;var Rb=dc(2.6516,-0.76534,0.19123,-0.047094,1.36289,-0.13965,0.031762);(d3.geo.ginzburg9=function(){return Z(Rb)}).raw=
Rb;kd.invert=function(e,h){var g=I(e),k=I(h),q=-g*e,p=-k*h,r=1>p/q,v;for(var y=r?p:q,p=r?q:p,t=0,s=1,q=0.5,w=50;;){v=q*q;var D=Math.sqrt(q),A=Math.asin(1/Math.sqrt(1+v)),B=1-v+q*(1+v)*A,J=(1-D)/B,K=Math.sqrt(J),F=J*(1+v),H=K*(1-v),O=Math.sqrt(F-y*y),H=p+H+q*O;if(Math.abs(s-t)<Nb||0===--w||0===H)break;0<H?t=q:s=q;q=0.5*(t+s)}w?(p=Math.asin(D),w=Math.cos(p),t=1/w,s=2*D*w,D=(-B*w-(1-D)*(-3*q+A*(1+3*v))*s)/(B*B),v=[x/4*(y*(-2*t*((1-v)*(0.5*D/K)-2*q*K*s)+-t*s*O)+-t*(q*(1+v)*D+J*(1+3*v)*s)*Math.asin(y/
Math.sqrt(F))),p]):v=null;y=v[0];v=v[1];r&&(y=-P-y);r=Math.cos(v);e=Math.cos(y)*r;h=Math.sin(y)*r;r=Math.sin(v);return[g*(Math.atan2(h,-r)+x),k*C(e)]};d3.geo.gringorten=fc(kd);Eb.invert=function(e,h){var g=(Math.SQRT2-1)/(Math.SQRT2+1),k=Math.sqrt(1-g*g),q;var p=0.5*Db(P,k*k)-h;q=-e;k*=k;if(p)p=Cb(p,k),q?(r=Cb(q,1-k),q=r[1]*r[1]+k*p[0]*p[0]*r[0]*r[0],q=[[p[0]*r[2]/q,p[1]*p[2]*r[0]*r[1]/q],[p[1]*r[1]/q,-p[0]*p[2]*r[0]*r[2]/q],[p[2]*r[1]*r[2]/q,-k*p[0]*p[1]*r[0]/q]]):q=[[p[0],0],[p[1],0],[p[2],0]];
else{var r=Cb(q,1-k);q=[[0,r[0]/r[1]],[1/r[1],0],[r[2]/r[1],0]]}k=q[0];q=q[1];p=q[0]*q[0]+q[1]*q[1];k=[(k[0]*q[0]+k[1]*q[1])/p,(k[1]*q[0]-k[0]*q[1])/p];return[Math.atan2(k[1],k[0])/-1,2*Math.atan(Math.exp(-0.5*Math.log(g*k[0]*k[0]+g*k[1]*k[1])))-P]};d3.geo.guyou=fc(Eb);(d3.geo.hammerRetroazimuthal=function(){var e=0,h=sa(Sa),g=h(e),k=g.rotate,q=g.stream,p=d3.geo.circle();g.parallel=function(k){if(!arguments.length)return 180*(e/x);var p=g.rotate();return h(e=k*x/180).rotate(p)};g.rotate=function(h){if(!arguments.length)return h=
k.call(g),h[1]+=180*(e/x),h;k.call(g,[h[0],h[1]-180*(e/x)]);p.origin([-h[0],-h[1]]);return g};g.stream=function(e){e=q(e);e.sphere=function(){e.polygonStart();var g=p.angle(89.99)().coordinates[0],h=g.length-1,k=-1,q;for(e.lineStart();++k<h;)e.point((q=g[k])[0],q[1]);e.lineEnd();g=p.angle(90.01)().coordinates[0];for(e.lineStart();0<=--k;)e.point((q=g[k])[0],q[1]);e.lineEnd();e.polygonEnd()};return e};return g}).raw=Sa;var pb=d3.geo.azimuthalEqualArea.raw;Xa.invert=function(e,h){var g=2*C(h/2);return[e*
Math.cos(g/2)/Math.cos(g),g]};(d3.geo.hammer=function(){var e=2,h=sa(Jc),g=h(e);g.coefficient=function(g){return arguments.length?h(e=+g):e};return g}).raw=Jc;Ba.invert=function(e,h){var g=Math.abs(g=h*(0>h?0.5179951515653813:0.5686373742600607))>1-R?0<g?P:-P:C(g);return[1.1764705882352942*e/Math.cos(g),Math.abs(g=((g+=g)+Math.sin(g))*(0>h?0.4102345310814193:0.3736990601468637))>1-R?0<g?P:-P:C(g)]};(d3.geo.hatano=function(){return Z(Ba)}).raw=Ba;var qb=41+48/36+37/3600;(d3.geo.healpix=function(){function e(){var e=
180/h;return{type:"Polygon",coordinates:[d3.range(-180,180+e/2,e).map(function(e,g){return[e,g&1?89.999999:qb]}).concat(d3.range(180,-180-e/2,-e).map(function(e,g){return[e,g&1?-89.999999:-qb]}))]}}var h=2,g=sa(jc),k=g(h),q=k.stream;k.lobes=function(e){return arguments.length?g(h=+e):h};k.stream=function(g){var h=k.rotate(),v=q(g),y=(k.rotate([0,0]),q(g));k.rotate(h);v.sphere=function(){d3.geo.stream(e(),y)};return v};return k}).raw=jc;(d3.geo.hill=function(){var e=1,h=sa(Ca),g=h(e);g.ratio=function(g){return arguments.length?
h(e=+g):e};return g}).raw=Ca;var rb=0.7109889596207567,Na=0.0528035274542;Fb.invert=function(e,h){return h>-rb?Ya.invert(e,h-Na):ia.invert(e,h)};(d3.geo.sinuMollweide=function(){return Z(Fb).rotate([-20,-55])}).raw=Fb;Aa.invert=function(e,h){return Math.abs(h)>rb?Ya.invert(e,h+(0<h?Na:-Na)):ia.invert(e,h)};(d3.geo.homolosine=function(){return Z(Aa)}).raw=Aa;lc.invert=function(e,h){return[2/3*x*e/Math.sqrt(x*x/3-h*h),h]};(d3.geo.kavrayskiy7=function(){return Z(lc)}).raw=lc;(d3.geo.lagrange=function(){var e=
0.5,h=sa(Kc),g=h(e);g.spacing=function(g){return arguments.length?h(e=+g):e};return g}).raw=Kc;Gb.invert=function(e,h){var g=Math.abs(e),k=Math.abs(h),q=x/Math.SQRT2,p=R,r=P;k<q?r*=k/q:p+=6*ca(q/k);for(q=0;25>q;q++){var v=Math.sin(r),y=S(Math.cos(r)),t=Math.sin(r/2),s=Math.cos(r/2),w=Math.sin(p/6),D=Math.cos(p/6),A=0.5*p*(1+y)-g,B=r/(s*D)-k,v=y?-0.25*p*v/y:0,y=0.5*(1+y),t=(1+0.5*r*t/s)/(s*D),w=r/s*(w/6)/(D*D),s=v*w-t*y,w=(A*w-B*y)/s,A=(B*v-A*t)/s,r=r-w,p=p-A;if(Math.abs(w)<R&&Math.abs(A)<R)break}return[0>
e?-p:p,0>h?-r:r]};(d3.geo.larrivee=function(){return Z(Gb)}).raw=Gb;Ib.invert=function(e,h){var g=I(e)*x,k=h/2,q=50;do var p=g*g,r=k*k,v=g*k,y=g*(0.975534+r*(-0.119161+-0.0143059*p+-0.0547009*r))-e,t=k*(1.00384+p*(0.0802894+-0.02855*r+1.99025E-4*p)+r*(0.0998909+-0.0491032*r))-h,s=0.975534-r*(0.119161+0.0429177*p+0.0547009*r),w=-v*(0.238322+0.2188036*r+0.0286118*p),v=v*(0.1605788+7.961E-4*p+-0.0571*r),r=1.00384+p*(0.0802894+1.99025E-4*p)+r*(3*(0.0998909-0.02855*p)-0.245516*r),p=w*v-r*s,w=(t*w-y*r)/
p,y=(y*v-t*s)/p,g=g-w,k=k-y;while((Math.abs(w)>R||Math.abs(y)>R)&&0<--q);return q&&[g,k]};(d3.geo.laskowski=function(){return Z(Ib)}).raw=Ib;Hb.invert=function(e,h){var g=e*e,k=h*h,q=k+1,g=e?Math.SQRT1_2*Math.sqrt((q-Math.sqrt(g*g+2*g*(k-1)+q*q))/g+1):1/Math.sqrt(q);return[C(e*g),I(h)*ca(g)]};(d3.geo.littrow=function(){return Z(Hb)}).raw=Hb;(d3.geo.loximuthal=function(){return A(ra).parallel(40)}).raw=ra;lb.invert=function(e,h){return[e,2.5*Math.atan(Math.exp(0.8*h))-0.625*x]};(d3.geo.miller=function(){return Z(lb)}).raw=
lb;var Vc={alaska:[[0.9972523,0],[0.0052513,-0.0041175],[0.0074606,0.0048125],[-0.0153783,-0.1968253],[0.0636871,-0.1408027],[0.3660976,-0.2937382]],gs48:[[0.98879,0],[0,0],[-0.050909,0],[0,0],[0.075528,0]],gs50:[[0.984299,0],[0.0211642,0.0037608],[-0.1036018,-0.0575102],[-0.0329095,-0.0320119],[0.0499471,0.1223335],[0.026046,0.0899805],[7.388E-4,-0.1435792],[0.0075848,-0.1334108],[-0.0216473,0.0776645],[-0.0225161,0.0853673]],miller:[[0.9245,0],[0,0],[0.01943,0]],lee:[[0.721316,0],[0,0],[-0.00881625,
-0.00617325]]};(d3.geo.modifiedStereographic=function(){var e=Vc.miller,h=sa(db),g=h(e);g.coefficients=function(g){return arguments.length?h(e="string"===typeof g?Vc[g]:g):e};return g}).raw=db;hc.invert=function(e,h){var g=Math.sqrt(6),k=Math.sqrt(7),q=3*C(h*k/9);return[e*k/(g*(2*Math.cos(2*q/3)-1)),C(3*Math.sin(q)*g/7)]};(d3.geo.mtFlatPolarParabolic=function(){return Z(hc)}).raw=hc;ic.invert=function(e,h){var g=h*Math.sqrt(2+Math.SQRT2)/(2*Math.sqrt(3)),k=2*C(g);return[3*Math.SQRT2*e/(1+2*Math.cos(k)/
Math.cos(k/2)),C((g+Math.sin(k))/(1+Math.SQRT1_2))]};(d3.geo.mtFlatPolarQuartic=function(){return Z(ic)}).raw=ic;kc.invert=function(e,h){var g=Math.sqrt(6/(4+x)),k=h/g;Math.abs(Math.abs(k)-P)<R&&(k=0>k?-P:P);return[1.5*e/(g*(0.5+Math.cos(k))),C((k/2+Math.sin(k))/(1+x/4))]};(d3.geo.mtFlatPolarSinusoidal=function(){return Z(kc)}).raw=kc;Kb.invert=function(e,h){var g=h,k=25,q;do{var p=g*g;q=p*p;g-=q=(g*(1.007226+p*(0.015085+q*(-0.044475+0.028874*p-0.005916*q)))-h)/(1.007226+p*(0.045255+q*(-0.311325+
0.259866*p-0.005916*11*q)))}while(Math.abs(q)>R&&0<--k);return[e/(0.8707+(p=g*g)*(-0.131979+p*(-0.013791+p*p*p*(0.003971-0.001529*p)))),g]};(d3.geo.naturalEarth=function(){return Z(Kb)}).raw=Kb;Jb.invert=function(e,h){for(var g=h/2,k=0,q=Infinity;10>k&&Math.abs(q)>R;k++)q=Math.cos(h/2),h-=q=(h-Math.tan(h/2)-g)/(1-0.5/(q*q));return[2*e/(1+Math.cos(h)),h]};(d3.geo.nellHammer=function(){return Z(Jb)}).raw=Jb;var sc=1.0148,Wc=0.23185,tc=-0.14499,ab=0.02406,vd=sc,wd=5*Wc,uc=7*tc,xd=9*ab;ga.invert=function(e,
h){1.790857183<h?h=1.790857183:-1.790857183>h&&(h=-1.790857183);var g=h,k;do k=g*g,g-=k=(g*(sc+k*k*(Wc+k*(tc+ab*k)))-h)/(vd+k*k*(wd+k*(uc+xd*k)));while(Math.abs(k)>R);return[e,g]};(d3.geo.patterson=function(){return Z(ga)}).raw=ga;var yd=fc(Eb);(d3.geo.peirceQuincuncial=function(){return yd().quincuncial(!0).rotate([-90,-90,45]).clipAngle(179.999999)}).raw=yd.raw;Lb.invert=function(e,h){if(Math.abs(h)<R)return[e,0];var g=e*e+h*h,k=0.5*h,q=10,p;do{p=Math.tan(k);var r=1/Math.cos(k),v=g-2*h*k+k*k,k=
k-(p=(p*v+2*(k-h))/(2+v*r*r+2*(k-h)*p))}while(Math.abs(p)>R&&0<--q);p=Math.tan(k);return[(Math.abs(h)<Math.abs(k+1/p)?C(e*p):I(e)*(ca(Math.abs(e*p))+P))/Math.sin(k),k]};(d3.geo.polyconic=function(){return Z(Lb)}).raw=Lb;(d3.geo.rectangularPolyconic=function(){return A(Mb)}).raw=Mb;var xa=[[0.9986,-0.062],[1,0],[0.9986,0.062],[0.9954,0.124],[0.99,0.186],[0.9822,0.248],[0.973,0.31],[0.96,0.372],[0.9427,0.434],[0.9216,0.4958],[0.8962,0.5571],[0.8679,0.6176],[0.835,0.6769],[0.7986,0.7346],[0.7597,0.7903],
[0.7186,0.8435],[0.6732,0.8936],[0.6213,0.9394],[0.5722,0.9761],[0.5322,1]];xa.forEach(function(e){e[1]*=1.0144});Lc.invert=function(e,h){var g=h/P,k=90*g,q=Math.min(18,Math.abs(k/5)),p=Math.max(0,Math.floor(q));do{var r=xa[p][1],v=xa[p+1][1],y=xa[Math.min(19,p+2)][1],t=y-r,r=y-2*v+r,v=2*(Math.abs(g)-v)/t,t=r/t,t=v*(1-t*v*(1-2*t*v));if(0<=t||1===p){k=(0<=h?5:-5)*(t+q);g=50;do q=Math.min(18,Math.abs(k)/5),p=Math.floor(q),t=q-p,r=xa[p][1],v=xa[p+1][1],y=xa[Math.min(19,p+2)][1],k-=(q=(0<=h?P:-P)*(v+
t*(y-r)/2+t*t*(y-2*v+r)/2)-h)*wa;while(Math.abs(q)>Nb&&0<--g);break}}while(0<=--p);q=xa[p][0];g=xa[p+1][0];p=xa[Math.min(19,p+2)][0];return[e/(g+t*(p-q)/2+t*t*(p-2*g+q)/2),k*ta]};(d3.geo.robinson=function(){return Z(Lc)}).raw=Lc;(d3.geo.satellite=function(){var e=1.4,h=0,g=sa(Nc),k=g(e,h);k.distance=function(k){return arguments.length?g(e=+k,h):e};k.tilt=function(k){return arguments.length?g(e,h=k*x/180):180*h/x};return k}).raw=Nc;mc.invert=function(e,h){var g=h/1.70711,k=Math.sin(x/4*g);return[e/
(0.74482-0.34588*k*k),2*Math.atan(g)]};(d3.geo.times=function(){return Z(mc)}).raw=mc;(d3.geo.twoPointEquidistant=function(){var e=[[0,0],[0,0]],h=sa(nc),g=h(0),k=g.rotate;delete g.rotate;g.points=function(g){if(!arguments.length)return e;e=g;var p=d3.geo.interpolate(g[0],g[1]),r=p(0.5),v=d3.geo.rotation([-r[0],-r[1]])(g[0]),p=0.5*p.distance,y=-C(Math.sin(v[1]*ta)/Math.sin(p));0<v[0]&&(y=x-y);k.call(v,[-r[0],-r[1],-y*wa]);return h(2*p)};return g}).raw=nc;(d3.geo.twoPointAzimuthal=function(){var e=
[[0,0],[0,0]],h=sa(qd),g=h(0),k=g.rotate;delete g.rotate;g.points=function(g){if(!arguments.length)return e;e=g;var p=d3.geo.interpolate(g[0],g[1]),r=p(0.5),v=d3.geo.rotation([-r[0],-r[1]])(g[0]),p=0.5*p.distance,y=-C(Math.sin(v[1]*ta)/Math.sin(p));0<v[0]&&(y=x-y);k.call(v,[-r[0],-r[1],-y*wa]);return h(p)};return g}).raw=qd;Oc.invert=function(e,h){if(Math.abs(h)<R)return[e,0];if(Math.abs(e)<R)return[0,P*Math.sin(2*Math.atan(h/x))];var g=(e/=x)*e,k=(h/=x)*h,q=g+k,p=q*q,r=-Math.abs(h)*(1+q),v=r-2*k+
g,y=-2*r+1+2*k+p,t=k/y+(2*v*v*v/(y*y*y)-9*r*v/(y*y))/27,s=(r-v*v/(3*y))/y,r=2*Math.sqrt(-s/3),t=ca(3*t/(s*r))/3;return[x*(q-1+Math.sqrt(1+2*(g-k)+p))/(2*e),I(h)*x*(-r*Math.cos(t+x/3)-v/(3*y))]};(d3.geo.vanDerGrinten=function(){return Z(Oc)}).raw=Oc;Ea.invert=function(e,h){if(!e)return[0,P*Math.sin(2*Math.atan(h/x))];var g=Math.abs(e/x),k=(1-g*g-(h/=x)*h)/(2*g),q=Math.sqrt(k*k+1);return[I(e)*x*(q-k),I(h)*P*Math.sin(2*Math.atan2(Math.sqrt((1-2*k*g)*(k+q)-g),Math.sqrt(q+k+g)))]};(d3.geo.vanDerGrinten2=
function(){return Z(Ea)}).raw=Ea;Ta.invert=function(e,h){if(!h)return[e,0];var g=h/x,k=(x*x*(1-g*g)-e*e)/(2*x*e);return[e?x*(I(e)*Math.sqrt(k*k+1)-k):0,P*Math.sin(2*Math.atan(g))]};(d3.geo.vanDerGrinten3=function(){return Z(Ta)}).raw=Ta;mb.invert=function(e,h){if(!e||!h)return[e,h];h/=x;var g=I(e)*e/P,k=(g*g-1+4*h*h)/Math.abs(g),q=k*k,p=2*h,r=50;do var v=p*p,s=(8*p-v*(v+2)-5)/(2*v*(p-1)),t=(3*p-v*p-10)/(2*v*p),w=s*s,A=p*s,D=p+s,B=D*D,J=p+3*s,K=-2*D*(4*A*w+(1-4*v+3*v*v)*(1+t)+w*(-6+14*v-q+(-8+8*v-
2*q)*t)+A*(-8+12*v+(-10+10*v-q)*t)),v=Math.sqrt(B*(v+w*q-1)+(1-v)*(v*(J*J+4*w)+w*(12*A+4*w))),p=p-(\u03b4=(k*(B+w-1)+2*v-g*(4*B+q))/(k*(2*s*t+2*D*(1+t))+K/v-8*D*(k*(-1+w+B)+2*v)*(1+t)/(q+4*B)));while(\u03b4>R&&0<--r);return[I(e)*(Math.sqrt(k*k+4)+k)*x/4,P*p]};(d3.geo.vanDerGrinten4=function(){return Z(mb)}).raw=mb;var zd=function(){var e=4*x+3*Math.sqrt(3),h=2*Math.sqrt(2*x*Math.sqrt(3)/e);return s(h*Math.sqrt(3)/x,h,e/6)}();(d3.geo.wagner4=function(){return Z(zd)}).raw=zd;Pc.invert=function(e,h){return[e/
Math.sqrt(1-3*h*h/(x*x)),h]};(d3.geo.wagner6=function(){return Z(Pc)}).raw=Pc;qa.invert=function(e,h){var g=e/2.66723,k=h/1.24104,g=Math.sqrt(g*g+k*k),k=2*C(g/2);return[3*Math.atan2(e*Math.tan(k),2.66723*g),g&&C(h*Math.sin(k)/(1.24104*0.90631*g))]};(d3.geo.wagner7=function(){return Z(qa)}).raw=qa;nb.invert=function(e,h){var g=-0.5*(e*e+h*h),k=Math.sqrt(-g*(2+g)),q=h*g+e*k,p=e*g-h*k,r=Math.sqrt(p*p+q*q);return[Math.atan2(k*q,r*(1+g)),r?-C(k*p/r):0]};(d3.geo.wiechel=function(){return Z(nb)}).raw=nb;
ob.invert=function(e,h){var g=e,k=h,q=25;do var p=Math.cos(k),r=Math.sin(k),v=Math.sin(2*k),s=r*r,t=p*p,x=Math.sin(g),w=Math.cos(g/2),A=Math.sin(g/2),B=A*A,J=1-t*w*w,K=J?ca(p*w)*Math.sqrt(F=1/J):F=0,F,J=0.5*(2*K*p*A+g/P)-e,H=0.5*(K*r+k)-h,C=0.5*F*(t*B+K*p*w*s)+0.5/P,O=F*(x*v/4-K*r*A),r=0.125*F*(v*A-K*r*t*x),s=0.5*F*(s*w+K*B*p)+0.5,p=O*r-s*C,O=(H*O-J*s)/p,J=(J*r-H*C)/p,g=g-O,k=k-J;while((Math.abs(O)>R||Math.abs(J)>R)&&0<--q);return[g,k]};(d3.geo.winkel3=function(){return Z(ob)}).raw=ob})();!function(){function ja(B,F){function H(s){var w,A=B.arcs[0>s?~s:s],K=A[0];return B.transform?(w=[0,0],A.forEach(function(s){w[0]+=s[0];w[1]+=s[1]})):w=A[A.length-1],0>s?[w,K]:[K,w]}function s(s,A){for(var B in s){var F=s[B];delete A[F.start];delete F.start;delete F.end;F.forEach(function(s){w[0>s?~s:s]=1});K.push(F)}}var w={},A={},C={},K=[],O=-1;return F.forEach(function(s,w){var A,K=B.arcs[0>s?~s:s];3>K.length&&!K[1][0]&&!K[1][1]&&(A=F[++O],F[O]=s,F[w]=A)}),F.forEach(function(s){var w;w=H(s);var B=
w[0],K=w[1];(w=C[B])?(delete C[w.end],w.push(s),w.end=K,s=A[K])?(delete A[s.start],B=s===w?w:w.concat(s),A[B.start=w.start]=C[B.end=s.end]=B):A[w.start]=C[w.end]=w:(w=A[K])?(delete A[w.start],w.unshift(s),w.start=B,s=C[B])?(delete C[s.end],B=s===w?w:s.concat(w),A[B.start=s.start]=C[B.end=w.end]=B):A[w.start]=C[w.end]=w:(w=[s],A[w.start=B]=C[w.end=K]=w)}),s(C,A),s(A,C),F.forEach(function(s){w[0>s?~s:s]||K.push([s])}),K}function na(B,F,H){function s(s){var w=0>s?~s:s;(I[w]||(I[w]=[])).push({i:s,g:O})}
function w(w){w.forEach(s)}function A(s){s.forEach(w)}function C(s){"GeometryCollection"===s.type?s.geometries.forEach(C):s.type in J&&(O=s,J[s.type](s.arcs))}var K=[];if(1<arguments.length){var O,I=[],J={LineString:w,MultiLineString:A,Polygon:A,MultiPolygon:function(s){s.forEach(A)}};C(F);I.forEach(3>arguments.length?function(s){K.push(s[0].i)}:function(s){H(s[0].g,s[s.length-1].g)&&K.push(s[0].i)})}else for(var ea=0,S=B.arcs.length;S>ea;++ea)K.push(ea);return{type:"MultiLineString",arcs:ja(B,K)}}
function M(B,F){function H(s){s.forEach(function(A){A.forEach(function(A){(w[A=0>A?~A:A]||(w[A]=[])).push(s)})});A.push(s)}function s(s){s=C(B,{type:"Polygon",arcs:[s]}).coordinates[0];for(var w,A=-1,F=s.length,H=s[F-1],O=0;++A<F;)w=H,H=s[A],O+=w[0]*H[1]-w[1]*H[0];return 0<0.5*O}var w={},A=[],O=[];return F.forEach(function(s){"Polygon"===s.type?H(s.arcs):"MultiPolygon"===s.type&&s.arcs.forEach(H)}),A.forEach(function(s){if(!s._){var A=[],B=[s];s._=1;for(O.push(A);s=B.pop();)A.push(s),s.forEach(function(s){s.forEach(function(s){w[0>
s?~s:s].forEach(function(s){s._||(s._=1,B.push(s))})})})}}),A.forEach(function(s){delete s._}),{type:"MultiPolygon",arcs:O.map(function(A){var F=[];if(A.forEach(function(s){s.forEach(function(s){s.forEach(function(s){2>w[0>s?~s:s].length&&F.push(s)})})}),F=ja(B,F),1<(n=F.length)){var H;H=s(A[0][0]);for(A=0;n>A;++A)if(H===s(F[A])){H=F[0];F[0]=F[A];F[A]=H;break}}return F})}}function I(B,F){var H={type:"Feature",id:F.id,properties:F.properties||{},geometry:C(B,F)};return null==F.id&&delete H.id,H}function C(B,
F){function H(s){return s=s.slice(),K(s,0),s}function s(s){for(var w=[],A=0,B=s.length;B>A;++A){var F=s[A],H=w;H.length&&H.pop();for(var C=void 0,I=O[0>F?~F:F],ea=0,ia=I.length;ia>ea;++ea)H.push(C=I[ea].slice()),K(C,ea);if(0>F)for(F=H,H=void 0,C=F.length,ia=C-ia;ia<--C;)H=F[ia],F[ia++]=F[C],F[C]=H}return 2>w.length&&w.push(w[0].slice()),w}function w(w){for(w=s(w);4>w.length;)w.push(w[0].slice());return w}function A(s){return s.map(w)}function C(s){var w=s.type;return"GeometryCollection"===w?{type:w,
geometries:s.geometries.map(C)}:w in I?{type:w,coordinates:I[w](s)}:null}var K=da(B.transform),O=B.arcs,I={Point:function(s){return H(s.coordinates)},MultiPoint:function(s){return s.coordinates.map(H)},LineString:function(w){return s(w.arcs)},MultiLineString:function(w){return w.arcs.map(s)},Polygon:function(s){return A(s.arcs)},MultiPolygon:function(s){return s.arcs.map(A)}};return C(F)}function ca(B,F){for(var H=0,s=B.length;s>H;){var w=H+s>>>1;B[w]<F?H=w+1:s=w}return H}function S(B){var F=B[0],
H=B[1];B=B[2];return Math.abs((F[0]-B[0])*(H[1]-F[1])-(F[0]-H[0])*(B[1]-F[1]))}function V(){function B(w,B){for(;0<B;){var F=(B+1>>1)-1,H=s[F];if(0<=w[1][2]-H[1][2])break;s[H._=B]=H;s[w._=B=F]=w}}function F(A,B){for(;;){var F=B+1<<1,H=F-1,C=B,J=s[C];if(w>H&&0>s[H][1][2]-J[1][2]&&(J=s[C=H]),w>F&&0>s[F][1][2]-J[1][2]&&(J=s[C=F]),C===B)break;s[J._=B]=J;s[A._=B=C]=A}}var H={},s=[],w=0;return H.push=function(A){return B(s[A._=w]=A,w++),w},H.pop=function(){if(!(0>=w)){var A,B=s[0];return 0<--w&&(A=s[w],
F(s[A._=0]=A,0)),B}},H.remove=function(A){var H,K=A._;if(s[K]===A)return K!==--w&&(H=s[w],(0>H[1][2]-A[1][2]?B:F)(s[H._=K]=H,K)),K},H}function da(B){if(!B)return O;var F,H,s=B.scale[0],w=B.scale[1],A=B.translate[0],C=B.translate[1];return function(B,O){O||(F=H=0);B[0]=(F+=B[0])*s+A;B[1]=(H+=B[1])*w+C}}function ha(B){if(!B)return O;var F,H,s=B.scale[0],w=B.scale[1],A=B.translate[0],C=B.translate[1];return function(B,O){O||(F=H=0);var I=(B[0]-A)/s|0,J=(B[1]-C)/w|0;B[0]=I-F;B[1]=J-H;F=I;H=J}}function O(){}
var ea={version:"1.6.19",mesh:function(B){return C(B,na.apply(this,arguments))},meshArcs:na,merge:function(B){return C(B,M.apply(this,arguments))},mergeArcs:M,feature:function(B,F){return"GeometryCollection"===F.type?{type:"FeatureCollection",features:F.geometries.map(function(F){return I(B,F)})}:I(B,F)},neighbors:function(B){function F(s,A){s.forEach(function(s){0>s&&(s=~s);var B=w[s];B?B.push(A):w[s]=[A]})}function H(s,w){s.forEach(function(s){F(s,w)})}function s(w,A){"GeometryCollection"===w.type?
w.geometries.forEach(function(w){s(w,A)}):w.type in C&&C[w.type](w.arcs,A)}var w={},A=B.map(function(){return[]}),C={LineString:F,MultiLineString:H,Polygon:H,MultiPolygon:function(s,w){s.forEach(function(s){H(s,w)})}};B.forEach(s);for(var K in w){B=w[K];for(var O=B.length,I=0;O>I;++I)for(var J=I+1;O>J;++J){var ea,S=B[I],M=B[J];(ea=A[S])[K=ca(ea,M)]!==M&&ea.splice(K,0,M);(ea=A[M])[K=ca(ea,S)]!==S&&ea.splice(K,0,S)}}return A},presimplify:function(B,F){function H(s){A.remove(s);s[1][2]=F(s);A.push(s)}
var s=da(B.transform),w=ha(B.transform),A=V();return F||(F=S),B.arcs.forEach(function(B){for(var C,O=[],I=0,J=0,ea=B.length;ea>J;++J)C=B[J],s(B[J]=[C[0],C[1],1/0],J);J=1;for(ea=B.length-1;ea>J;++J)C=B.slice(J-1,J+2),C[1][2]=F(C),O.push(C),A.push(C);J=0;for(ea=O.length;ea>J;++J)C=O[J],C.previous=O[J-1],C.next=O[J+1];for(;C=A.pop();)O=C.previous,J=C.next,C[1][2]<I?C[1][2]=I:I=C[1][2],O&&(O.next=J,O[2]=C[2],H(O)),J&&(J.previous=O,J[0]=C[0],H(J));B.forEach(w)}),B}};"function"==typeof define&&define.amd?
define(ea):"object"==typeof module&&module.exports?module.exports=ea:this.topojson=ea}();!function(){function ja(I){function C(){for(;da=ea<O.length&&I>B;){var s=ea++,A=O[s],F=M.call(A,1);F.push(ca(s));++B;A[0].apply(null,F)}}function ca(s){return function(A,I){--B;null==H&&(null!=A?(H=A,ea=F=0/0,S()):(O[s]=I,--F?da||C():S()))}}function S(){null!=H?s(H):ha?s(H,O):s.apply(null,[H].concat(O))}var V,da,ha,O=[],ea=0,B=0,F=0,H=null,s=na;return I||(I=1/0),V={defer:function(){return H||(O.push(arguments),++F,C()),V},await:function(w){return s=w,ha=!1,F||S(),V},awaitAll:function(w){return s=
w,ha=!0,F||S(),V}}}function na(){}var M=[].slice;ja.version="1.0.7";"function"==typeof define&&define.amd?define(function(){return ja}):"object"==typeof module&&module.exports?module.exports=ja:this.queue=ja}();(function(){function ja(I){for(var C=[],M=[],S=0;S<I[0].length;S++)C.push(I[0][S][1]),M.push(I[0][S][0]);C=C.sort(function(C,I){return C-I});M=M.sort(function(C,I){return C-I});return[[C[0],M[0]],[C[C.length-1],M[M.length-1]]]}function na(I,C,M){for(var S=[[0,0]],V=0;V<M.length;V++){for(var da=0;da<M[V].length;da++)S.push(M[V][da]);S.push(M[V][0]);S.push([0,0])}M=!1;V=0;for(da=S.length-1;V<S.length;da=V++)S[V][0]>C!=S[da][0]>C&&I<(S[da][1]-S[V][1])*(C-S[V][0])/(S[da][0]-S[V][0])+S[V][1]&&(M=!M);return M}
var M=this.gju={};"undefined"!==typeof module&&module.exports&&(module.exports=M);M.pointInBoundingBox=function(I,C){return!(I[1]<C[0][0]||I[1]>C[1][0]||I[0]<C[0][1]||I[0]>C[1][1])};M.pointInPolygon=function(I,C){for(var ca="Polygon"==C.type?[C.coordinates]:C.coordinates,S=!1,V=0;V<ca.length;V++)M.pointInBoundingBox(I,ja(ca[V]))&&(S=!0);if(!S)return!1;S=!1;for(V=0;V<ca.length;V++)na(I[1],I[0],ca[V])&&(S=!0);return S};M.pointInMultiPolygon=function(I,C){for(var ca="MultiPolygon"==C.type?[C.coordinates]:
C.coordinates,S=!1,V=!1,da=0;da<ca.length;da++){for(var ha=ca[da],O=0;O<ha.length;O++)S||M.pointInBoundingBox(I,ja(ha[O]))&&(S=!0);if(!S)return!1;for(O=0;O<ha.length;O++)V||na(I[1],I[0],ha[O])&&(V=!0)}return V}})();var parser=function(){var ja=function(M){var I={"\u0161":"s","\u0160":"S","\u0111":"dj","\u0110":"Dj","\u0107":"c","\u0106":"C","\u010d":"c","\u010c":"C","\u017e":"z","\u017d":"Z"};if(!M)return"";M=(M=M.trim())?M:"";var C=[];M=M.toUpperCase();for(var ca in I)M=M.replace(/(\-.RS)/ig,"RS"),M=M.replace(/(\-.FBIH)/ig,"FBIH"),M=M.replace(/(op\u0161tina)|(op\u0107ina)|(opcina)|(opstina)|(zupanija)|(\u017eupanija)|(kanton)|(\-)|(ex. varcar vakuf)/ig,""),M=M.replace(/(\u0161)|(\u0161)|(\u0111)|(\u0110)|(\u0107)|(\u0106)|(\u010d)|(\u010c)|(\u017e)|(\u017d)/ig,
I[ca]),M=M.trim(),C.push(ca);if(C.filter(function(C){if(-1<M.indexOf(C))return C}).length)replaceNonAscii(M);else return M.toUpperCase()},na=function(M){M=M.toUpperCase();for(var I=Array(M.length-1),C=0;C<=M.length-1;C++)I[C]=M.slice(C,C+2);return I};return{createDataSet:function(M,I){var C={name:null,sets:[],groups:[]},ca=dimensionIndex=dataIndex=0,S;for(S in M)for(var V in M[S]){var da=M[S][V];da.length&&(isNaN(da)&&!C.name)&&(ca=S,C.name=da,sets.push({dataset:C.name,name:I,sets:[]}))}M.filter(function(C,
B){return B>=ca&&7>=B}).forEach(function(O,B){O.forEach(function(F,H){3<=H&&(F.length&&isNaN(F)&&(O[H+1]&&O[H+1].length||-1<C.sets.indexOf(O[H-1])))&&(0==dimensionIndex&&(dimensionIndex=parseInt(ca)+parseInt(B)),sets.forEach(function(s){s.dataset==C.name&&s.sets.push(F)}),C.sets.push(F))})});var ha=0,O;M.forEach(function(I,B){if(B>dimensionIndex){var F=[];I.forEach(function(s,w){F.push(s)});if(F.length){0==ha%3&&(O=F[0]);var H={name:F[0].length?F[0]:O,pol:F[1],total:F[2],per_set:{}};C.sets.forEach(function(s,
w){H.per_set[s]=F[w+3]});C.groups.push(H)}ha++}});return C},replaceIrregular:ja,similarity:function(M,I,C){M=ja(M);I=ja(I);var ca=1E3,S=setInterval(function(){if(void 0!=M&&void 0!=I){var V;var da=I;if(0<M.length&&0<da.length){V=na(M);var da=na(da),ha=V.length+da.length,O=0,ea;for(ea in V)for(var B in da)V[ea]===da[B]&&O++;V=0<O?2*O/ha:0}else V=void 0;C(V,M,I);clearInterval(S)}0==ca&&(console.log("[i] gave up, matching strings are empty or something is wrong."),clearInterval(S));ca--},1)}}}();var page=function(){var ja=function(){var C=document.querySelector(".holder"),I=document.querySelector(".controls"),B=document.createElement("h2");B.innerHTML="Popis 2013";I.appendChild(B);var F=document.createElement("select"),B=document.createElement("label");F.className="selectors";F.onchange=function(s){currentLevel=parseInt(s.target.value);0==currentLevel&&(currentFeatures=topo.featured.bosnia);1==currentLevel&&(currentFeatures=topo.featured.entities);2==currentLevel&&(currentFeatures=topo.featured.cantons);
3==currentLevel&&(currentFeatures=topo.featured.administrative);loading=!0;ha()};B.innerHTML+="Administrativni nivo";B.appendChild(F);I.appendChild(B);var H=[["1","Entiteti"],["2","Kantoni"],["3","Op\u0161tine"]],s;for(s in H)B=document.createElement("option"),3==H[s][0]&&(B.selected=!0),B.text=H[s][1],B.value=H[s][0],F.appendChild(B);F=document.createElement("select");B=document.createElement("label");F.className="selectors";F.onchange=function(s){currentSet=s.target.value;loading=!0;s=document.body.querySelector("#setSpecific");
var w=parsed[currentSet].sets;s.innerHTML="";-1==w.indexOf("Sve")&&w.unshift("Sve");for(var B in w){var F=document.createElement("option");F.text=w[B];F.value=w[B];s.appendChild(F)}currentSubSet=w[0];cached={};ha()};B.innerHTML="Statisti\u010dki izvor";B.appendChild(F);I.appendChild(B);for(s in sets)B=document.createElement("option"),sets[s].name==currentSet&&(B.selected=!0),B.text=sets[s].dataset.split(" / ")[0],B.value=sets[s].name,F.appendChild(B);F=document.createElement("select");H=document.createElement("label");
F.className="selectors";var w=[{name:"Ukupno",value:"Ukupno"},{name:"Muski",value:"M"},{name:"Zenski",value:"\u017d"}];for(s in w)B=document.createElement("option"),B.text=w[s].name,B.value=w[s].value,F.appendChild(B);F.onchange=function(s){currentGender=s.target.value;loading=!0;ha()};H.innerHTML="Pol";H.appendChild(F);I.appendChild(H);F=document.createElement("select");H=document.createElement("label");F.id="setSpecific";F.className="selectors";w=parsed[currentSet].sets;w.unshift("Sve");for(s in w)B=
document.createElement("option"),B.text=w[s],B.value=w[s],F.appendChild(B);F.onchange=function(s){currentSubSet=s.target.value;loading=!0;ha()};H.innerHTML="Statisti\u010dki skup";H.appendChild(F);I.appendChild(H);s=document.createElement("label");s.addEventListener("change",function(s){domination=s.target.checked;loading=!0;ha()});B=document.createElement("input");B.type="checkbox";B.title="Dominacija";I.appendChild(s);s.appendChild(B);s.innerHTML+="Dominacija";s.title="Dominacija prikazuje koja grupa ima ve\u0107inu u datom skupu nad dijelom teritorije.";
s=document.createElement("canvas");s.id="textLayer";s.width=width;s.height=height;s.globalAlpha=0.1;C.appendChild(s);C=document.createElement("div");C.id="description";C.innerHTML="Prigodna vizuelizacija popisa u BiH, odr\u017enaog 2013. godine.<br/><hr/>Boje:<br/>Nijanse od zelene do \u017eute prikazuju ukupan broj stanovnika po datom skupu na ni\u017ee.<br/>Nijanse od crvene do roze prikazuju zastupljenost, od relativne do apsolutne.";I.appendChild(C);c2=document.querySelector("#textLayer").getContext("2d");
elem=document.querySelector("#textLayer");ha()},na=function(C,I,B,F,H,s){topo={meshed:{bosnia:topojson.mesh(I,I.objects.BIH_adm0),entities:topojson.mesh(B,B.objects.BIH_adm1),cantons:topojson.mesh(F,F.objects.BIH_adm2),administrative:topojson.mesh(H,H.objects.BIH_adm3)},featured:{bosnia:topojson.feature(I,I.objects.BIH_adm0).features,entities:topojson.feature(B,B.objects.BIH_adm1).features,cantons:topojson.feature(F,F.objects.BIH_adm2).features,administrative:topojson.feature(H,H.objects.BIH_adm3).features},
raw:{bosnia:I,entities:B,cantons:F,administrative:H}};currentFeature=topo.featured.bosnia;C={po_starosti_petogodisnje:s.po_starosti_petogodisnje,po_nacionalnosti:s.po_nacionalnosti,po_vjeroispovjesti:s.po_vjeroispovjesti,po_maternjem_jeziku:s.po_maternjem_jeziku,po_bracnom_stanju:s.po_bracnom_stanju,nepismeno_stanovnistvo:s.nepismeno_stanovnistvo,po_zavrsenoj_skoli:s.po_zavrsenoj_skoli,racunarski_pismeno:s.racunarski_pismeno,osobe_sa_poteskocama:s.osobe_sa_poteskocama};parsed={};for(var w in C)parsed[w]=
parser.createDataSet(C[w],w);ja();da();M()},M=function(){elem.addEventListener("mousemove",function(C){var M=C.pageX-elemLeft;C=C.pageY-elemTop;var B=projection.invert([M,C]),B=I(B);lastCountryGeometry&&(B.geometry&&lastCountryGeometry.coordinates[0][0]!=B.geometry.coordinates[0][0])&&(moved=!1,c2.setTransform(1,0,0,1,0,0),c2.clearRect(0,0,width,height));if(B&&B.name&&lastCountryName!=B.name){var F="Sve"==currentSubSet?parseInt(B.group.total):parseInt(B.group.per_set[currentSubSet]),H=F.toLocaleString(),
F=parseFloat(100*F/currentTotal).toFixed(2),s=B.name.toUpperCase();c2.fillStyle="rgba(66, 66, 66, 0.8)";c2.beginPath();c2.fillRect(M-1,C-30,8*s.length,14);c2.fillStyle="rgba(66, 66, 66, 0.8)";c2.beginPath();c2.fillRect(M-1,C-20,8*H.length,14);c2.fillStyle="rgba(66, 66, 66, 0.8)";c2.beginPath();c2.fillRect(M-1,C-10,8*(F+"%").length,14);c2.font="12px Monospace";c2.fillStyle="#fff";c2.beginPath();c2.fillText(s,M,C-20);c2.fillStyle="#fff";c2.beginPath();c2.fillText(H,M,C-10);c2.fillStyle="#fff";c2.beginPath();
c2.fillText(F+"%",M,C);lastCountryName=B.name;lastCountryGeometry=B.geometry}},!1);elem.addEventListener("wheel",S);elem.addEventListener("mousedown",function(C){C.target.style.cssText+="cursor: move;";dragging=!0;last_position={x:C.clientX,y:C.clientY}});elem.addEventListener("mouseup",function(C){dragging=!1;var I=C.target.style.cssText,I=I.replace("cursor: move","cursor: default");C.target.style.cssText=I});d3.select(elem).on("mousemove",V)},I=function(C){if(currentFeatures){var I,B;currentFeatures.forEach(function(F){var H=
F.element;F=F.group;H&&("Polygon"==H.geometry.type?gju.pointInPolygon(C,H.geometry)&&!I&&F.pol==currentGender&&(I=H,B=F):"MultiPolygon"==H.geometry.type&&(gju.pointInMultiPolygon(C,H.geometry)&&!I&&F.pol==currentGender)&&(I=H,B=F))});return{name:I?I.properties["NAME_"+currentLevel]:null,geometry:I?I.geometry:null,group:B?B:null}}},C=function(){if(0!=currentLevel)if(wheeling)setTimeout(function(){wheeling&&(wheeling=!1,C())},200*currentLevel);else if(void 0!=cached[currentLevel])ca(cached[currentLevel]),
currentFeatures=cached[currentLevel];else{0==currentLevel&&(currentFeatures=topo.featured.bosnia);1==currentLevel&&(currentFeatures=topo.featured.entities);2==currentLevel&&(currentFeatures=topo.featured.cantons);3==currentLevel&&(currentFeatures=topo.featured.administrative);var I=[];parsed[currentSet].groups.forEach(function(B){var C=Math.random().toString(36).substring(3);currentFeatures.forEach(function(s){var w,A=B.name,M=!1;if(1==currentLevel){if(-1==["federacija bosne i hercegovine","republika srpska",
"br\u010dko"].indexOf(A.toLowerCase()))return;w="NAME_"+currentLevel;M=!0}2==currentLevel&&(-1<s.properties.NAME_1.indexOf("Federacija")&&"Canton"==s.properties.ENGTYPE_2&&(w="VARNAME_2",M=!0,"Fo\u010da"==s.properties[w]&&(s.properties[w]="FOCA - FBIH"),-1<s.properties[w].indexOf("ercegbos")&&(s.properties[w]="KANTON 10"),-1<s.properties[w].indexOf("arajev")&&-1<A.indexOf("KANTON SARAJEVO")&&(s.properties[w]="KANTON SARAJEVO"),-1<s.properties.NAME_2.indexOf("Podrinje")&&-1<A.indexOf("BOSANSKO")&&
(s.properties[w]=A="BOSANSKO PODRINJE"),-1<A.indexOf("NOVO SARAJEVO")&&(M=!1)),-1<s.properties.NAME_1.indexOf("Srpska")&&"Canton"==s.properties.ENGTYPE_2&&(w="NAME_2",M=!1,"Fo\u010da"==s.properties[w]&&(s.properties[w]="FOCA - RS")),-1<s.properties.NAME_1.indexOf("Br\u010dko")&&(w="NAME_2",M=!1));if(3==currentLevel){if(-1<A.indexOf("kanton"))return;"Commune"==s.properties["ENGTYPE_"+currentLevel]&&(w="VARNAME_"+currentLevel,s.properties[w]||(w="NAME_"+currentLevel),M=!0,-1<s.properties.NAME_1.indexOf("Federacija")&&
(-1<s.properties.NAME_3.indexOf("Stari Grad Sarajevo")&&-1<A.indexOf("STARI GRAD SARAJEVO")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Mostar")&&-1<A.indexOf("MOSTAR")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Ustikolina")&&-1<A.indexOf("FO\u010cA - FBiH")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Pale")&&-1<A.indexOf("PALE - FBiH")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Ilid\u017ea")&&(-1<A.indexOf("ILID")&&-1==A.indexOf("ISTO\u010cNA"))&&(s.properties[w]=A),-1<s.properties[w].indexOf("Trnovo")&&
-1<A.indexOf("TRNOVO - FBiH")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Gora\u017ede")&&"GORA\u017dDE"==A&&(s.properties[w]=A),-1<s.properties[w].indexOf("Prozor")&&-1<A.indexOf("PROZOR")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Kupres")&&-1<A.indexOf("KUPRES - FBiH")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Drvar")&&-1<A.indexOf("DRVAR")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Usora")&&-1<A.indexOf("USORA")&&(s.properties[w]=A="Te\u0161anj / Usora"),-1<s.properties[w].indexOf("Doboj South")&&
-1<A.indexOf("DOBOJ-JUG")&&(s.properties[w]=A="DOBOJ-JUG"),-1<s.properties[w].indexOf("Doboj East")&&-1<A.indexOf("DOBOJ-JUG")&&(s.properties[w]=A="DOBOJ-ISTOK"),-1<s.properties[w].indexOf("Sanski Most")&&-1<A.indexOf("SANSKI MOST")&&(console.log(s,"fbih"),s.properties[w]=A="SANSKI MOST")),-1<s.properties.NAME_1.indexOf("Srpska")&&(-1<s.properties[w].indexOf("Mostar")&&-1<A.indexOf("ISTO\u010cNI MOSTAR")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Srbinje")&&-1<A.indexOf("FO\u010cA - RS")&&(s.properties[w]=
A),-1<s.properties[w].indexOf("Pale")&&-1<A.indexOf("PALE - RS")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Ilid\u017ea")&&(-1<A.indexOf("ILID")&&-1<A.indexOf("ISTO\u010cNA"))&&(s.properties[w]=A),-1<s.properties[w].indexOf("Trnovo")&&-1<A.indexOf("TRNOVO - RS")&&(s.properties[w]=A),-1<s.properties[w].indexOf("\u010cajni\u010de")&&-1<A.indexOf("\u010cAJNI\u010cE")&&(s.properties[w]=A="\u010cAJNI\u010cE"),-1<s.properties[w].indexOf("Gora\u017ede")&&-1<A.indexOf("NOVO GORA\u017dDE")&&(s.properties[w]=
A),-1<s.properties[w].indexOf("Kupres")&&-1<A.indexOf("KUPRES - RS")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Srpski Klju\u010d")&&-1<A.indexOf("RIBNIK")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Srpski Drvar")&&-1<A.indexOf("ISTO\u010cNI DRVAR")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Kne\u017eevo")&&-1<A.indexOf("KNE\u017dEVO")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Srpsko Ora\u0161je")&&-1<A.indexOf("\u017dABAR")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Brod")&&
-1<A.indexOf("BROD")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Gradi\u0161ka")&&-1<A.indexOf("GRADI\u0160KA")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Dubica")&&-1<A.indexOf("DUBICA")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Kostajnica")&&-1<A.indexOf("KOSTAJNICA")&&(s.properties[w]=A),-1<s.properties[w].indexOf("Sanski Most")&&-1<A.indexOf("O\u0160TRA LUKA")&&(console.log(s,"rS"),s.properties[w]=A="O\u0160TRA LUKA")))}w=s.properties[w];var K=w.split("|");"[object Array]"===
Object.prototype.toString.call(K)&&(w=K[1]?K[1]:K[0]);M&&parser.similarity(A,w,function(w,A,J){simfactor=0.97;w>=simfactor&&I.push({element:s,group:B,id:C})})})});var M=10,B=setInterval(function(){I.length&&(clearInterval(B),ca(I),loadCrap&&loadCrap.remove(),currentFeatures=cached[currentLevel]=I);0==M&&(console.log("[i] gave up, selected dataset is empty or something is wrong."),clearInterval(B));M--},1)}},ca=function(C){var I=min=currentTotal=0,B="Sve"==currentSubSet?!0:!1;C.forEach(function(C,
H){set=C.group;if(set.pol==currentGender){var s=B?parseInt(set.total):parseInt(set.per_set[currentSubSet]);s>I&&(I=s);currentTotal+=s}});selectedLoadCount=Math.round(C.length/3);C.forEach(function(C,H){set=C.group;element=C.element;if(set.pol==currentGender){var s,w;w=B?parseInt(set.total):parseInt(set.per_set[currentSubSet]);domination?(s=Object.keys(set.per_set).sort(function(s,w){return set.per_set[s]-set.per_set[w]}).reverse()[0],s==currentSubSet?(w=B?parseInt(set.total):parseInt(set.per_set[s]),
color=d3.scale.threshold().domain(colorDomain).range(redColors)):color=d3.scale.threshold().domain(colorDomain).range(defaultColors)):color=d3.scale.threshold().domain(colorDomain).range(defaultColors);s=color(100*w/I);c.fillStyle=s;c.beginPath();path(element.geometry);c.fill();loading&&2>=selectedLoadCount&&(loading=!1,c2.clearRect(0,0,width,height),c2.clearRect(5,5,133,14));selectedLoadCount--}})},S=function(C){loading=wheeling=!0;var I=1250;scale=projection.scale();3E4<scale?projection.scale(scale+
-I):8E3>scale?(I=+I,projection.scale(scale+I)):(I=0>C.deltaY?+I:-I,projection.scale(scale+I),ha())},V=function(C){if(dragging){if("undefined"!=typeof last_position.x){loading=wheeling=!0;var I=last_position.x-d3.event.clientX,B=last_position.y-d3.event.clientY;C=projection.rotate();var F=projection.scale();scale=d3.scale.linear().domain([-1*F,F]).range([-90,90]);I=scale(I);B=scale(B);C[0]-=I;C[1]+=B;-18.5>C[0]&&(C[0]=-18.5);-13.5<C[0]&&(C[0]=-13.5);-42.5<C[1]&&(C[1]=-42.5);-45.5>C[1]&&(C[1]=-45.5);
projection.rotate(C);0==currentLevel&&(currentFeatures=topo.featured.bosnia);1==currentLevel&&(currentFeatures=topo.featured.entities);2==currentLevel&&(currentFeatures=topo.featured.cantons);3==currentLevel&&(currentFeatures=topo.featured.administrative);ha()}last_position={x:d3.event.clientX,y:d3.event.clientY}}},da=function(){now=Date.now();elapsed=now-then;elapsed>fpsInterval&&(then=now-elapsed%fpsInterval,moved&&requestAnimationFrame(da))},ha=function(){c.save();c.setTransform(1,0,0,1,0,0);c.clearRect(0,
0,width,height);c.restore();loading&&(c2.fillStyle="rgba(66, 66, 66, 0.8)",c2.beginPath(),c2.fillRect(5,5,133,14),c2.font="12px Monospace",c2.fillStyle="#fff",c2.beginPath(),c2.fillText("U\u010cITAVANJE ...",10,15));c.strokeStyle="#333";c.lineWidth=0.5;c.beginPath();path.context(c)(graticule());c.stroke();c.strokeStyle="#000";c.lineWidth=2;c.beginPath();path(topo.meshed.bosnia);c.stroke();c.strokeStyle="#000";c.lineWidth=1.5;c.beginPath();path(topo.meshed.entities);c.stroke();c.strokeStyle="#000";
c.lineWidth=1.2;c.beginPath();path(topo.meshed.cantons);c.stroke();c.strokeStyle="#000";c.lineWidth=1;c.beginPath();path(topo.meshed.administrative);c.stroke();defaultColors.forEach(function(C,I){c.strokeStyle="#dfdfdf";c.lineWidth=1;c.beginPath();c.fillStyle=C;c.rect(width-defaultColors.length*(I/1.5)-15,height-12,10,10);c.stroke();c.fill()});domination&&redColors.forEach(function(C,I){c.strokeStyle="#dfdfdf";c.lineWidth=1;c.beginPath();c.fillStyle=C;c.rect(width-redColors.length*(I/1.5)-15,height-
25,10,10);c.stroke();c.fill()});C()};return{load:function(){loadCrap=document.createElement("div");loadCrap.id="loading";loadCrap.innerHTML="U\u010ditavanje ...";document.body.appendChild(loadCrap);projection=d3.geo.satellite().distance(1.5).scale(9797).rotate([-16.560000000000002,-43.56,4.999999999999998]).center([1,1]).tilt(7).clipAngle(180*Math.acos(1/1.1)/Math.PI-1E-6).precision(0.1);graticule=d3.geo.graticule().extent([[-90,-80],[90,80]]).step([2,2]);canvas=d3.select(".holder").append("canvas").attr("width",
width).attr("height",height).attr("id","renderLayer");c=canvas.node().getContext("2d");path=d3.geo.path().projection(projection).pointRadius(1.5).context(c);elem=document.querySelector("canvas");elemLeft=elem.offsetLeft;elemTop=elem.offsetTop;context=elem.getContext("2d");color=d3.scale.threshold().domain(colorDomain).range(defaultColors);topo={bosnia:null,entities:null,cantons:null,administrative:null};queue().defer(d3.json,"/bosnia-and-herzegovina/BIH_adm0.topojson").defer(d3.json,"/bosnia-and-herzegovina/BIH_adm1.topojson").defer(d3.json,
"/bosnia-and-herzegovina/BIH_adm2.topojson").defer(d3.json,"/bosnia-and-herzegovina/BIH_adm3.topojson").defer(d3.json,"/sve").await(na)}}}();var width=950,height=650,c,c2,projection,canvas,path,graticule,elem,elemLeft,elemTop,context,lastCountryName="",lastCountryGeometry=null,frameCount=0,fps,fpsInterval=1E3/fps,then=Date.now(),startTime=then,moved=!0,sets=[],shadedRegions=[],colorDomain=[0.01,1,2,3,4,5,6,7,10,15,20,25,35,45,51,70,80,90,95,100],defaultColors="#ffffe0 #f7fc94 #e7f87e #d7f273 #c9ec6b #bbe666 #ace061 #a0d95d #92d258 #86cc54 #7bc650 #70be4b #65b745 #5ab13f #4faa39 #44a333 #3a9c2b #2f9523 #238d1a #14870e #008000".split(" "),
redColors="#ffb6c1 #feb1bb #feacb5 #fda6b0 #fda0a9 #fc9ca3 #fb959d #fa9097 #fa8a90 #f9858a #f88084 #f77a7e #f67377 #f56d71 #f56668 #f45f62 #f3585b #f25152 #f24849 #f23d3f #ff0000".split(" "),currentFeatures=[],currentLevel=3,currentSet="po_nacionalnosti",currentGender="Ukupno",currentSubSet="Sve",currentTotal=0,domination=!1,color,parsed,topo,loading,selectedLoadCount=0,zoom,last_position={x:void 0,y:void 0},scale=1,lastLevel,wheeling=!1,dragging=!1,cached={},loadCrap;
window.addEventListener("load",function(){page.load()});
